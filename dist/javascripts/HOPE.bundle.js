!function(e){var t={};function n(o){if(t[o])return t[o].exports;var r=t[o]={i:o,l:!1,exports:{}};return e[o].call(r.exports,r,r.exports,n),r.l=!0,r.exports}n.m=e,n.c=t,n.d=function(e,t,o){n.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:o})},n.r=function(e){Object.defineProperty(e,"__esModule",{value:!0})},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s="./client/scripts/HOPE/index.js")}({"./client/scripts/HOPE/index.js":
/*!**************************************!*\
  !*** ./client/scripts/HOPE/index.js ***!
  \**************************************/
/*! no static exports found */function(e,t,n){"use strict";window.$$=function(e){return document.querySelector(e)};var o=n(/*! ../ProgressBar */"./client/scripts/ProgressBar.js"),r=n(/*! ../Test */"./client/scripts/Test.js"),s=new o;window.test=new r,s.showLoading(),document.addEventListener("pjax:start",function(){s.showLoading()}),document.addEventListener("pjax:end",function(){s.hideLoading()}),window.onload=function(){s.hideLoading()},window.getParameterByName=function(e,t){t||(t=window.location.href),e=e.replace(/[\[\]]/g,"\\$&");var n=new RegExp("[?&]"+e+"(=([^&#]*)|&|#|$)").exec(t);return n?n[2]?decodeURIComponent(n[2].replace(/\+/g," ")):"":null}},"./client/scripts/PJax.js":
/*!********************************!*\
  !*** ./client/scripts/PJax.js ***!
  \********************************/
/*! no static exports found */function(module,exports,__webpack_require__){"use strict";var _createClass=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}();function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var axios=__webpack_require__(/*! axios */"./node_modules/axios/index.js"),PJax=function(){function PJax(e){var t=this;_classCallCheck(this,PJax),this.wrapperElem=document.querySelector("#"+e),window.onpopstate=function(e){t.backOrForward(e)}}return _createClass(PJax,[{key:"appendPartial",value:function appendPartial(url){var _this2=this;return new Promise(function(resolve,reject){document.dispatchEvent(new Event("pjax:start")),console.log(window.location.origin+url),$$(".pjaxFadeItem").style.opacity=0,setTimeout(function(){axios.get(window.location.origin+url,{headers:{"X-pjax":"true"}}).then(function(result){_this2.wrapperElem.innerHTML=result.data;for(var codes=_this2.wrapperElem.getElementsByTagName("script"),i=0;i<codes.length;i++)eval(codes[i].text);setTimeout(function(){$$(".pjaxFadeItem").style.opacity=1,resolve()},500)})},500),document.dispatchEvent(new Event("pjax:end"))})}},{key:"navigate",value:function(e,t){history.pushState({},t,window.location.origin+"/"+e),document.title=t}},{key:"backOrForward",value:function(e){if(/\/evaluate/i.test(e.path[0].location.pathname))return window.location.reload(),!1;this.appendPartial(e.path[0].location.pathname)}}]),PJax}();module.exports=PJax},"./client/scripts/ProgressBar.js":
/*!***************************************!*\
  !*** ./client/scripts/ProgressBar.js ***!
  \***************************************/
/*! no static exports found */function(e,t,n){"use strict";var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}();var r=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}return o(e,[{key:"showLoading",value:function(){var e=this;this.loadingElem=this._createLoading(),this.loadingInterval=setInterval(function(){e._progress()},1e3)}},{key:"hideLoading",value:function(){clearInterval(this.loadingInterval),this.loadingElem.style.width="100%",setTimeout(this._distructLoading,500)}},{key:"_createLoading",value:function(){var e=document.createElement("div");return e.setAttribute("id","nprogress"),e.style.width="0%",document.body.appendChild(e),e}},{key:"_distructLoading",value:function(){document.body.removeChild(document.querySelector("#nprogress"))}},{key:"_progress",value:function(){parseInt(this.loadingElem.style.width)>=95?clearInterval(this.loadingInterval):this.loadingElem.style.width=parseInt(this.loadingElem.style.width)+5+"%"}}]),e}();e.exports=r},"./client/scripts/Test.js":
/*!********************************!*\
  !*** ./client/scripts/Test.js ***!
  \********************************/
/*! no static exports found */function(e,t,n){"use strict";var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}();var r=n(/*! axios */"./node_modules/axios/index.js"),s=n(/*! ./PJax */"./client/scripts/PJax.js"),i=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.pjax=new s("wrapper")}return o(e,[{key:"initiateEvents",value:function(){var e=this,t=$$("#searchBoxCont>div");document.onkeydown=function(t){"enter"==t.key.toLocaleLowerCase()&&e.processEvaluation()},t.onclick=function(){e.processEvaluation()}}},{key:"processEvaluation",value:function(){var e=this,t=$$("#searchBoxCont>input[type=search]").value,n=/^(?:http|https):\/\/github\.com\/([\w-.]+?)\/([\w-.]+?)(?:\.git|)$/i;if(t&&n.test(t)){var o=n.exec(t)[2],r=$$("#searchBoxCont>div");r.style.opacity=.5,r.style.pointerEvents="none",r.querySelector("i").classList.add("loading"),this.evaluate(t).then(function(n){if(n.hasOwnProperty("error"))return Snackbar.show({text:"Repository not found!",actionTextColor:"#fec10b"}),r.querySelector("i").classList.remove("loading"),r.style.opacity=1,void(r.style.pointerEvents="auto");e.pjax.navigate("evaluate?url="+t,"HOPE | Result of "+o),e.pjax.appendPartial("/evaluate?url="+t).then(function(){n.repositoryUrl=t,e.appendResult(n)})})}else Snackbar.show({text:"URL is invalid!",actionTextColor:"#fec10b"})}},{key:"evaluate",value:function(e){return new Promise(function(t,n){r.post(window.location.origin+"/api/evaluate",{repositoryUrl:e},{headers:{"Content-Type":"application/json"}}).then(function(e){t(e.data)}).catch(n)})}},{key:"appendResult",value:function(e){for(var t in $$("#searchBoxCont>input").value=e.repositoryUrl,$$("#scoreText").innerText=e.scoreText,$$("#score").innerText=e.quality,$$("#score").classList=e.scoreColor,$$("#scoreText").classList=e.scoreColor,$$(".resultSide:first-of-type .blur").classList.remove("blur"),$$(".resultSide:first-of-type .loadingOverlay").style.display="none",e.results){var n=!0,o=!1,r=void 0;try{for(var s,i=e.results[t][Symbol.iterator]();!(n=(s=i.next()).done);n=!0){var a=s.value,u=document.createElement("div");u.classList.add("tip");var l=document.createElement("i");l.classList.add("tipType"),l.classList.add(a.type.toLowerCase());var c=document.createElement("a");c.href="#",c.classList.add("tipFix"),c.setAttribute("target","_blank"),/license/i.test(a.heading)?c.href="/adviser":c.style.display="none";var d=document.createElement("div");d.classList.add("tipContent");var f=document.createElement("div");f.classList.add("tipHeading"),f.textContent=a.heading;var p=document.createElement("a");p.href="#",p.classList.add("tipHelp");var h=document.createElement("div");h.classList.add("tipText"),h.textContent=a.message,d.appendChild(f),f.appendChild(p),d.appendChild(h),u.appendChild(l),u.appendChild(d),u.appendChild(c),$$("#tipsSlideCont").appendChild(u)}}catch(e){o=!0,r=e}finally{try{!n&&i.return&&i.return()}finally{if(o)throw r}}}$$("#tipsCont.blur").classList.remove("blur"),$$(".resultSide:last-of-type .loadingOverlay").style.display="none",$$(".resultSide:last-of-type .blur").classList.remove("blur");var m=e.repositoryUrl.split("/").pop();/^(.+)\.git$/i.test(m)&&(m=/^(.+)\.git$/i.exec(m)[1]),$$("#scoreResultCont>div:first-of-type>span.highlight").textContent=m,$$(".resultSide:nth-of-type(2)>h2>span.highlight").textContent=m}}]),e}();e.exports=i},"./node_modules/axios/index.js":
/*!*************************************!*\
  !*** ./node_modules/axios/index.js ***!
  \*************************************/
/*! no static exports found */function(e,t,n){e.exports=n(/*! ./lib/axios */"./node_modules/axios/lib/axios.js")},"./node_modules/axios/lib/adapters/xhr.js":
/*!************************************************!*\
  !*** ./node_modules/axios/lib/adapters/xhr.js ***!
  \************************************************/
/*! no static exports found */function(e,t,n){"use strict";var o=n(/*! ./../utils */"./node_modules/axios/lib/utils.js"),r=n(/*! ./../core/settle */"./node_modules/axios/lib/core/settle.js"),s=n(/*! ./../helpers/buildURL */"./node_modules/axios/lib/helpers/buildURL.js"),i=n(/*! ./../helpers/parseHeaders */"./node_modules/axios/lib/helpers/parseHeaders.js"),a=n(/*! ./../helpers/isURLSameOrigin */"./node_modules/axios/lib/helpers/isURLSameOrigin.js"),u=n(/*! ../core/createError */"./node_modules/axios/lib/core/createError.js"),l="undefined"!=typeof window&&window.btoa&&window.btoa.bind(window)||n(/*! ./../helpers/btoa */"./node_modules/axios/lib/helpers/btoa.js");e.exports=function(e){return new Promise(function(t,c){var d=e.data,f=e.headers;o.isFormData(d)&&delete f["Content-Type"];var p=new XMLHttpRequest,h="onreadystatechange",m=!1;if("undefined"==typeof window||!window.XDomainRequest||"withCredentials"in p||a(e.url)||(p=new window.XDomainRequest,h="onload",m=!0,p.onprogress=function(){},p.ontimeout=function(){}),e.auth){var x=e.auth.username||"",v=e.auth.password||"";f.Authorization="Basic "+l(x+":"+v)}if(p.open(e.method.toUpperCase(),s(e.url,e.params,e.paramsSerializer),!0),p.timeout=e.timeout,p[h]=function(){if(p&&(4===p.readyState||m)&&(0!==p.status||p.responseURL&&0===p.responseURL.indexOf("file:"))){var n="getAllResponseHeaders"in p?i(p.getAllResponseHeaders()):null,o={data:e.responseType&&"text"!==e.responseType?p.response:p.responseText,status:1223===p.status?204:p.status,statusText:1223===p.status?"No Content":p.statusText,headers:n,config:e,request:p};r(t,c,o),p=null}},p.onerror=function(){c(u("Network Error",e,null,p)),p=null},p.ontimeout=function(){c(u("timeout of "+e.timeout+"ms exceeded",e,"ECONNABORTED",p)),p=null},o.isStandardBrowserEnv()){var y=n(/*! ./../helpers/cookies */"./node_modules/axios/lib/helpers/cookies.js"),b=(e.withCredentials||a(e.url))&&e.xsrfCookieName?y.read(e.xsrfCookieName):void 0;b&&(f[e.xsrfHeaderName]=b)}if("setRequestHeader"in p&&o.forEach(f,function(e,t){void 0===d&&"content-type"===t.toLowerCase()?delete f[t]:p.setRequestHeader(t,e)}),e.withCredentials&&(p.withCredentials=!0),e.responseType)try{p.responseType=e.responseType}catch(t){if("json"!==e.responseType)throw t}"function"==typeof e.onDownloadProgress&&p.addEventListener("progress",e.onDownloadProgress),"function"==typeof e.onUploadProgress&&p.upload&&p.upload.addEventListener("progress",e.onUploadProgress),e.cancelToken&&e.cancelToken.promise.then(function(e){p&&(p.abort(),c(e),p=null)}),void 0===d&&(d=null),p.send(d)})}},"./node_modules/axios/lib/axios.js":
/*!*****************************************!*\
  !*** ./node_modules/axios/lib/axios.js ***!
  \*****************************************/
/*! no static exports found */function(e,t,n){"use strict";var o=n(/*! ./utils */"./node_modules/axios/lib/utils.js"),r=n(/*! ./helpers/bind */"./node_modules/axios/lib/helpers/bind.js"),s=n(/*! ./core/Axios */"./node_modules/axios/lib/core/Axios.js"),i=n(/*! ./defaults */"./node_modules/axios/lib/defaults.js");function a(e){var t=new s(e),n=r(s.prototype.request,t);return o.extend(n,s.prototype,t),o.extend(n,t),n}var u=a(i);u.Axios=s,u.create=function(e){return a(o.merge(i,e))},u.Cancel=n(/*! ./cancel/Cancel */"./node_modules/axios/lib/cancel/Cancel.js"),u.CancelToken=n(/*! ./cancel/CancelToken */"./node_modules/axios/lib/cancel/CancelToken.js"),u.isCancel=n(/*! ./cancel/isCancel */"./node_modules/axios/lib/cancel/isCancel.js"),u.all=function(e){return Promise.all(e)},u.spread=n(/*! ./helpers/spread */"./node_modules/axios/lib/helpers/spread.js"),e.exports=u,e.exports.default=u},"./node_modules/axios/lib/cancel/Cancel.js":
/*!*************************************************!*\
  !*** ./node_modules/axios/lib/cancel/Cancel.js ***!
  \*************************************************/
/*! no static exports found */function(e,t,n){"use strict";function o(e){this.message=e}o.prototype.toString=function(){return"Cancel"+(this.message?": "+this.message:"")},o.prototype.__CANCEL__=!0,e.exports=o},"./node_modules/axios/lib/cancel/CancelToken.js":
/*!******************************************************!*\
  !*** ./node_modules/axios/lib/cancel/CancelToken.js ***!
  \******************************************************/
/*! no static exports found */function(e,t,n){"use strict";var o=n(/*! ./Cancel */"./node_modules/axios/lib/cancel/Cancel.js");function r(e){if("function"!=typeof e)throw new TypeError("executor must be a function.");var t;this.promise=new Promise(function(e){t=e});var n=this;e(function(e){n.reason||(n.reason=new o(e),t(n.reason))})}r.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},r.source=function(){var e;return{token:new r(function(t){e=t}),cancel:e}},e.exports=r},"./node_modules/axios/lib/cancel/isCancel.js":
/*!***************************************************!*\
  !*** ./node_modules/axios/lib/cancel/isCancel.js ***!
  \***************************************************/
/*! no static exports found */function(e,t,n){"use strict";e.exports=function(e){return!(!e||!e.__CANCEL__)}},"./node_modules/axios/lib/core/Axios.js":
/*!**********************************************!*\
  !*** ./node_modules/axios/lib/core/Axios.js ***!
  \**********************************************/
/*! no static exports found */function(e,t,n){"use strict";var o=n(/*! ./../defaults */"./node_modules/axios/lib/defaults.js"),r=n(/*! ./../utils */"./node_modules/axios/lib/utils.js"),s=n(/*! ./InterceptorManager */"./node_modules/axios/lib/core/InterceptorManager.js"),i=n(/*! ./dispatchRequest */"./node_modules/axios/lib/core/dispatchRequest.js");function a(e){this.defaults=e,this.interceptors={request:new s,response:new s}}a.prototype.request=function(e){"string"==typeof e&&(e=r.merge({url:arguments[0]},arguments[1])),(e=r.merge(o,{method:"get"},this.defaults,e)).method=e.method.toLowerCase();var t=[i,void 0],n=Promise.resolve(e);for(this.interceptors.request.forEach(function(e){t.unshift(e.fulfilled,e.rejected)}),this.interceptors.response.forEach(function(e){t.push(e.fulfilled,e.rejected)});t.length;)n=n.then(t.shift(),t.shift());return n},r.forEach(["delete","get","head","options"],function(e){a.prototype[e]=function(t,n){return this.request(r.merge(n||{},{method:e,url:t}))}}),r.forEach(["post","put","patch"],function(e){a.prototype[e]=function(t,n,o){return this.request(r.merge(o||{},{method:e,url:t,data:n}))}}),e.exports=a},"./node_modules/axios/lib/core/InterceptorManager.js":
/*!***********************************************************!*\
  !*** ./node_modules/axios/lib/core/InterceptorManager.js ***!
  \***********************************************************/
/*! no static exports found */function(e,t,n){"use strict";var o=n(/*! ./../utils */"./node_modules/axios/lib/utils.js");function r(){this.handlers=[]}r.prototype.use=function(e,t){return this.handlers.push({fulfilled:e,rejected:t}),this.handlers.length-1},r.prototype.eject=function(e){this.handlers[e]&&(this.handlers[e]=null)},r.prototype.forEach=function(e){o.forEach(this.handlers,function(t){null!==t&&e(t)})},e.exports=r},"./node_modules/axios/lib/core/createError.js":
/*!****************************************************!*\
  !*** ./node_modules/axios/lib/core/createError.js ***!
  \****************************************************/
/*! no static exports found */function(e,t,n){"use strict";var o=n(/*! ./enhanceError */"./node_modules/axios/lib/core/enhanceError.js");e.exports=function(e,t,n,r,s){var i=new Error(e);return o(i,t,n,r,s)}},"./node_modules/axios/lib/core/dispatchRequest.js":
/*!********************************************************!*\
  !*** ./node_modules/axios/lib/core/dispatchRequest.js ***!
  \********************************************************/
/*! no static exports found */function(e,t,n){"use strict";var o=n(/*! ./../utils */"./node_modules/axios/lib/utils.js"),r=n(/*! ./transformData */"./node_modules/axios/lib/core/transformData.js"),s=n(/*! ../cancel/isCancel */"./node_modules/axios/lib/cancel/isCancel.js"),i=n(/*! ../defaults */"./node_modules/axios/lib/defaults.js"),a=n(/*! ./../helpers/isAbsoluteURL */"./node_modules/axios/lib/helpers/isAbsoluteURL.js"),u=n(/*! ./../helpers/combineURLs */"./node_modules/axios/lib/helpers/combineURLs.js");function l(e){e.cancelToken&&e.cancelToken.throwIfRequested()}e.exports=function(e){return l(e),e.baseURL&&!a(e.url)&&(e.url=u(e.baseURL,e.url)),e.headers=e.headers||{},e.data=r(e.data,e.headers,e.transformRequest),e.headers=o.merge(e.headers.common||{},e.headers[e.method]||{},e.headers||{}),o.forEach(["delete","get","head","post","put","patch","common"],function(t){delete e.headers[t]}),(e.adapter||i.adapter)(e).then(function(t){return l(e),t.data=r(t.data,t.headers,e.transformResponse),t},function(t){return s(t)||(l(e),t&&t.response&&(t.response.data=r(t.response.data,t.response.headers,e.transformResponse))),Promise.reject(t)})}},"./node_modules/axios/lib/core/enhanceError.js":
/*!*****************************************************!*\
  !*** ./node_modules/axios/lib/core/enhanceError.js ***!
  \*****************************************************/
/*! no static exports found */function(e,t,n){"use strict";e.exports=function(e,t,n,o,r){return e.config=t,n&&(e.code=n),e.request=o,e.response=r,e}},"./node_modules/axios/lib/core/settle.js":
/*!***********************************************!*\
  !*** ./node_modules/axios/lib/core/settle.js ***!
  \***********************************************/
/*! no static exports found */function(e,t,n){"use strict";var o=n(/*! ./createError */"./node_modules/axios/lib/core/createError.js");e.exports=function(e,t,n){var r=n.config.validateStatus;n.status&&r&&!r(n.status)?t(o("Request failed with status code "+n.status,n.config,null,n.request,n)):e(n)}},"./node_modules/axios/lib/core/transformData.js":
/*!******************************************************!*\
  !*** ./node_modules/axios/lib/core/transformData.js ***!
  \******************************************************/
/*! no static exports found */function(e,t,n){"use strict";var o=n(/*! ./../utils */"./node_modules/axios/lib/utils.js");e.exports=function(e,t,n){return o.forEach(n,function(n){e=n(e,t)}),e}},"./node_modules/axios/lib/defaults.js":
/*!********************************************!*\
  !*** ./node_modules/axios/lib/defaults.js ***!
  \********************************************/
/*! no static exports found */function(e,t,n){"use strict";(function(t){var o=n(/*! ./utils */"./node_modules/axios/lib/utils.js"),r=n(/*! ./helpers/normalizeHeaderName */"./node_modules/axios/lib/helpers/normalizeHeaderName.js"),s={"Content-Type":"application/x-www-form-urlencoded"};function i(e,t){!o.isUndefined(e)&&o.isUndefined(e["Content-Type"])&&(e["Content-Type"]=t)}var a,u={adapter:("undefined"!=typeof XMLHttpRequest?a=n(/*! ./adapters/xhr */"./node_modules/axios/lib/adapters/xhr.js"):void 0!==t&&(a=n(/*! ./adapters/http */"./node_modules/axios/lib/adapters/xhr.js")),a),transformRequest:[function(e,t){return r(t,"Content-Type"),o.isFormData(e)||o.isArrayBuffer(e)||o.isBuffer(e)||o.isStream(e)||o.isFile(e)||o.isBlob(e)?e:o.isArrayBufferView(e)?e.buffer:o.isURLSearchParams(e)?(i(t,"application/x-www-form-urlencoded;charset=utf-8"),e.toString()):o.isObject(e)?(i(t,"application/json;charset=utf-8"),JSON.stringify(e)):e}],transformResponse:[function(e){if("string"==typeof e)try{e=JSON.parse(e)}catch(e){}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,validateStatus:function(e){return e>=200&&e<300}};u.headers={common:{Accept:"application/json, text/plain, */*"}},o.forEach(["delete","get","head"],function(e){u.headers[e]={}}),o.forEach(["post","put","patch"],function(e){u.headers[e]=o.merge(s)}),e.exports=u}).call(this,n(/*! ./../../process/browser.js */"./node_modules/process/browser.js"))},"./node_modules/axios/lib/helpers/bind.js":
/*!************************************************!*\
  !*** ./node_modules/axios/lib/helpers/bind.js ***!
  \************************************************/
/*! no static exports found */function(e,t,n){"use strict";e.exports=function(e,t){return function(){for(var n=new Array(arguments.length),o=0;o<n.length;o++)n[o]=arguments[o];return e.apply(t,n)}}},"./node_modules/axios/lib/helpers/btoa.js":
/*!************************************************!*\
  !*** ./node_modules/axios/lib/helpers/btoa.js ***!
  \************************************************/
/*! no static exports found */function(e,t,n){"use strict";var o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";function r(){this.message="String contains an invalid character"}r.prototype=new Error,r.prototype.code=5,r.prototype.name="InvalidCharacterError",e.exports=function(e){for(var t,n,s=String(e),i="",a=0,u=o;s.charAt(0|a)||(u="=",a%1);i+=u.charAt(63&t>>8-a%1*8)){if((n=s.charCodeAt(a+=.75))>255)throw new r;t=t<<8|n}return i}},"./node_modules/axios/lib/helpers/buildURL.js":
/*!****************************************************!*\
  !*** ./node_modules/axios/lib/helpers/buildURL.js ***!
  \****************************************************/
/*! no static exports found */function(e,t,n){"use strict";var o=n(/*! ./../utils */"./node_modules/axios/lib/utils.js");function r(e){return encodeURIComponent(e).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}e.exports=function(e,t,n){if(!t)return e;var s;if(n)s=n(t);else if(o.isURLSearchParams(t))s=t.toString();else{var i=[];o.forEach(t,function(e,t){null!==e&&void 0!==e&&(o.isArray(e)?t+="[]":e=[e],o.forEach(e,function(e){o.isDate(e)?e=e.toISOString():o.isObject(e)&&(e=JSON.stringify(e)),i.push(r(t)+"="+r(e))}))}),s=i.join("&")}return s&&(e+=(-1===e.indexOf("?")?"?":"&")+s),e}},"./node_modules/axios/lib/helpers/combineURLs.js":
/*!*******************************************************!*\
  !*** ./node_modules/axios/lib/helpers/combineURLs.js ***!
  \*******************************************************/
/*! no static exports found */function(e,t,n){"use strict";e.exports=function(e,t){return t?e.replace(/\/+$/,"")+"/"+t.replace(/^\/+/,""):e}},"./node_modules/axios/lib/helpers/cookies.js":
/*!***************************************************!*\
  !*** ./node_modules/axios/lib/helpers/cookies.js ***!
  \***************************************************/
/*! no static exports found */function(e,t,n){"use strict";var o=n(/*! ./../utils */"./node_modules/axios/lib/utils.js");e.exports=o.isStandardBrowserEnv()?{write:function(e,t,n,r,s,i){var a=[];a.push(e+"="+encodeURIComponent(t)),o.isNumber(n)&&a.push("expires="+new Date(n).toGMTString()),o.isString(r)&&a.push("path="+r),o.isString(s)&&a.push("domain="+s),!0===i&&a.push("secure"),document.cookie=a.join("; ")},read:function(e){var t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove:function(e){this.write(e,"",Date.now()-864e5)}}:{write:function(){},read:function(){return null},remove:function(){}}},"./node_modules/axios/lib/helpers/isAbsoluteURL.js":
/*!*********************************************************!*\
  !*** ./node_modules/axios/lib/helpers/isAbsoluteURL.js ***!
  \*********************************************************/
/*! no static exports found */function(e,t,n){"use strict";e.exports=function(e){return/^([a-z][a-z\d\+\-\.]*:)?\/\//i.test(e)}},"./node_modules/axios/lib/helpers/isURLSameOrigin.js":
/*!***********************************************************!*\
  !*** ./node_modules/axios/lib/helpers/isURLSameOrigin.js ***!
  \***********************************************************/
/*! no static exports found */function(e,t,n){"use strict";var o=n(/*! ./../utils */"./node_modules/axios/lib/utils.js");e.exports=o.isStandardBrowserEnv()?function(){var e,t=/(msie|trident)/i.test(navigator.userAgent),n=document.createElement("a");function r(e){var o=e;return t&&(n.setAttribute("href",o),o=n.href),n.setAttribute("href",o),{href:n.href,protocol:n.protocol?n.protocol.replace(/:$/,""):"",host:n.host,search:n.search?n.search.replace(/^\?/,""):"",hash:n.hash?n.hash.replace(/^#/,""):"",hostname:n.hostname,port:n.port,pathname:"/"===n.pathname.charAt(0)?n.pathname:"/"+n.pathname}}return e=r(window.location.href),function(t){var n=o.isString(t)?r(t):t;return n.protocol===e.protocol&&n.host===e.host}}():function(){return!0}},"./node_modules/axios/lib/helpers/normalizeHeaderName.js":
/*!***************************************************************!*\
  !*** ./node_modules/axios/lib/helpers/normalizeHeaderName.js ***!
  \***************************************************************/
/*! no static exports found */function(e,t,n){"use strict";var o=n(/*! ../utils */"./node_modules/axios/lib/utils.js");e.exports=function(e,t){o.forEach(e,function(n,o){o!==t&&o.toUpperCase()===t.toUpperCase()&&(e[t]=n,delete e[o])})}},"./node_modules/axios/lib/helpers/parseHeaders.js":
/*!********************************************************!*\
  !*** ./node_modules/axios/lib/helpers/parseHeaders.js ***!
  \********************************************************/
/*! no static exports found */function(e,t,n){"use strict";var o=n(/*! ./../utils */"./node_modules/axios/lib/utils.js"),r=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"];e.exports=function(e){var t,n,s,i={};return e?(o.forEach(e.split("\n"),function(e){if(s=e.indexOf(":"),t=o.trim(e.substr(0,s)).toLowerCase(),n=o.trim(e.substr(s+1)),t){if(i[t]&&r.indexOf(t)>=0)return;i[t]="set-cookie"===t?(i[t]?i[t]:[]).concat([n]):i[t]?i[t]+", "+n:n}}),i):i}},"./node_modules/axios/lib/helpers/spread.js":
/*!**************************************************!*\
  !*** ./node_modules/axios/lib/helpers/spread.js ***!
  \**************************************************/
/*! no static exports found */function(e,t,n){"use strict";e.exports=function(e){return function(t){return e.apply(null,t)}}},"./node_modules/axios/lib/utils.js":
/*!*****************************************!*\
  !*** ./node_modules/axios/lib/utils.js ***!
  \*****************************************/
/*! no static exports found */function(e,t,n){"use strict";var o=n(/*! ./helpers/bind */"./node_modules/axios/lib/helpers/bind.js"),r=n(/*! is-buffer */"./node_modules/is-buffer/index.js"),s=Object.prototype.toString;function i(e){return"[object Array]"===s.call(e)}function a(e){return null!==e&&"object"==typeof e}function u(e){return"[object Function]"===s.call(e)}function l(e,t){if(null!==e&&void 0!==e)if("object"!=typeof e&&(e=[e]),i(e))for(var n=0,o=e.length;n<o;n++)t.call(null,e[n],n,e);else for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.call(null,e[r],r,e)}e.exports={isArray:i,isArrayBuffer:function(e){return"[object ArrayBuffer]"===s.call(e)},isBuffer:r,isFormData:function(e){return"undefined"!=typeof FormData&&e instanceof FormData},isArrayBufferView:function(e){return"undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&e.buffer instanceof ArrayBuffer},isString:function(e){return"string"==typeof e},isNumber:function(e){return"number"==typeof e},isObject:a,isUndefined:function(e){return void 0===e},isDate:function(e){return"[object Date]"===s.call(e)},isFile:function(e){return"[object File]"===s.call(e)},isBlob:function(e){return"[object Blob]"===s.call(e)},isFunction:u,isStream:function(e){return a(e)&&u(e.pipe)},isURLSearchParams:function(e){return"undefined"!=typeof URLSearchParams&&e instanceof URLSearchParams},isStandardBrowserEnv:function(){return("undefined"==typeof navigator||"ReactNative"!==navigator.product)&&"undefined"!=typeof window&&"undefined"!=typeof document},forEach:l,merge:function e(){var t={};function n(n,o){"object"==typeof t[o]&&"object"==typeof n?t[o]=e(t[o],n):t[o]=n}for(var o=0,r=arguments.length;o<r;o++)l(arguments[o],n);return t},extend:function(e,t,n){return l(t,function(t,r){e[r]=n&&"function"==typeof t?o(t,n):t}),e},trim:function(e){return e.replace(/^\s*/,"").replace(/\s*$/,"")}}},"./node_modules/is-buffer/index.js":
/*!*****************************************!*\
  !*** ./node_modules/is-buffer/index.js ***!
  \*****************************************/
/*! no static exports found */function(e,t){function n(e){return!!e.constructor&&"function"==typeof e.constructor.isBuffer&&e.constructor.isBuffer(e)}
/*!
 * Determine if an object is a Buffer
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */
e.exports=function(e){return null!=e&&(n(e)||function(e){return"function"==typeof e.readFloatLE&&"function"==typeof e.slice&&n(e.slice(0,0))}(e)||!!e._isBuffer)}},"./node_modules/process/browser.js":
/*!*****************************************!*\
  !*** ./node_modules/process/browser.js ***!
  \*****************************************/
/*! no static exports found */function(e,t){var n,o,r=e.exports={};function s(){throw new Error("setTimeout has not been defined")}function i(){throw new Error("clearTimeout has not been defined")}function a(e){if(n===setTimeout)return setTimeout(e,0);if((n===s||!n)&&setTimeout)return n=setTimeout,setTimeout(e,0);try{return n(e,0)}catch(t){try{return n.call(null,e,0)}catch(t){return n.call(this,e,0)}}}!function(){try{n="function"==typeof setTimeout?setTimeout:s}catch(e){n=s}try{o="function"==typeof clearTimeout?clearTimeout:i}catch(e){o=i}}();var u,l=[],c=!1,d=-1;function f(){c&&u&&(c=!1,u.length?l=u.concat(l):d=-1,l.length&&p())}function p(){if(!c){var e=a(f);c=!0;for(var t=l.length;t;){for(u=l,l=[];++d<t;)u&&u[d].run();d=-1,t=l.length}u=null,c=!1,function(e){if(o===clearTimeout)return clearTimeout(e);if((o===i||!o)&&clearTimeout)return o=clearTimeout,clearTimeout(e);try{o(e)}catch(t){try{return o.call(null,e)}catch(t){return o.call(this,e)}}}(e)}}function h(e,t){this.fun=e,this.array=t}function m(){}r.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];l.push(new h(e,t)),1!==l.length||c||a(p)},h.prototype.run=function(){this.fun.apply(null,this.array)},r.title="browser",r.browser=!0,r.env={},r.argv=[],r.version="",r.versions={},r.on=m,r.addListener=m,r.once=m,r.off=m,r.removeListener=m,r.removeAllListeners=m,r.emit=m,r.prependListener=m,r.prependOnceListener=m,r.listeners=function(e){return[]},r.binding=function(e){throw new Error("process.binding is not supported")},r.cwd=function(){return"/"},r.chdir=function(e){throw new Error("process.chdir is not supported")},r.umask=function(){return 0}}});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vLy4vY2xpZW50L3NjcmlwdHMvSE9QRS9pbmRleC5qcyIsIndlYnBhY2s6Ly8vLi9jbGllbnQvc2NyaXB0cy9QSmF4LmpzIiwid2VicGFjazovLy8uL2NsaWVudC9zY3JpcHRzL1Byb2dyZXNzQmFyLmpzIiwid2VicGFjazovLy8uL2NsaWVudC9zY3JpcHRzL1Rlc3QuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2F4aW9zL2luZGV4LmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9heGlvcy9saWIvYWRhcHRlcnMveGhyLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9heGlvcy9saWIvYXhpb3MuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2F4aW9zL2xpYi9jYW5jZWwvQ2FuY2VsLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9heGlvcy9saWIvY2FuY2VsL0NhbmNlbFRva2VuLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9heGlvcy9saWIvY2FuY2VsL2lzQ2FuY2VsLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9heGlvcy9saWIvY29yZS9BeGlvcy5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvYXhpb3MvbGliL2NvcmUvSW50ZXJjZXB0b3JNYW5hZ2VyLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9heGlvcy9saWIvY29yZS9jcmVhdGVFcnJvci5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvYXhpb3MvbGliL2NvcmUvZGlzcGF0Y2hSZXF1ZXN0LmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9heGlvcy9saWIvY29yZS9lbmhhbmNlRXJyb3IuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2F4aW9zL2xpYi9jb3JlL3NldHRsZS5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvYXhpb3MvbGliL2NvcmUvdHJhbnNmb3JtRGF0YS5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvYXhpb3MvbGliL2RlZmF1bHRzLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9heGlvcy9saWIvaGVscGVycy9iaW5kLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9heGlvcy9saWIvaGVscGVycy9idG9hLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9heGlvcy9saWIvaGVscGVycy9idWlsZFVSTC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvYXhpb3MvbGliL2hlbHBlcnMvY29tYmluZVVSTHMuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2F4aW9zL2xpYi9oZWxwZXJzL2Nvb2tpZXMuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2F4aW9zL2xpYi9oZWxwZXJzL2lzQWJzb2x1dGVVUkwuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2F4aW9zL2xpYi9oZWxwZXJzL2lzVVJMU2FtZU9yaWdpbi5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvYXhpb3MvbGliL2hlbHBlcnMvbm9ybWFsaXplSGVhZGVyTmFtZS5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvYXhpb3MvbGliL2hlbHBlcnMvcGFyc2VIZWFkZXJzLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9heGlvcy9saWIvaGVscGVycy9zcHJlYWQuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2F4aW9zL2xpYi91dGlscy5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvaXMtYnVmZmVyL2luZGV4LmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9wcm9jZXNzL2Jyb3dzZXIuanMiXSwibmFtZXMiOlsiaW5zdGFsbGVkTW9kdWxlcyIsIl9fd2VicGFja19yZXF1aXJlX18iLCJtb2R1bGVJZCIsImV4cG9ydHMiLCJtb2R1bGUiLCJpIiwibCIsIm1vZHVsZXMiLCJjYWxsIiwibSIsImMiLCJkIiwibmFtZSIsImdldHRlciIsIm8iLCJPYmplY3QiLCJkZWZpbmVQcm9wZXJ0eSIsImNvbmZpZ3VyYWJsZSIsImVudW1lcmFibGUiLCJnZXQiLCJyIiwidmFsdWUiLCJuIiwiX19lc01vZHVsZSIsIm9iamVjdCIsInByb3BlcnR5IiwicHJvdG90eXBlIiwiaGFzT3duUHJvcGVydHkiLCJwIiwicyIsIndpbmRvdyIsIiQkIiwic2VsZWN0b3IiLCJkb2N1bWVudCIsInF1ZXJ5U2VsZWN0b3IiLCJQcm9ncmVzc0JhciIsIlRlc3QiLCJsb2FkaW5nIiwidGVzdCIsInNob3dMb2FkaW5nIiwiYWRkRXZlbnRMaXN0ZW5lciIsImhpZGVMb2FkaW5nIiwib25sb2FkIiwiZ2V0UGFyYW1ldGVyQnlOYW1lIiwidXJsIiwibG9jYXRpb24iLCJocmVmIiwicmVwbGFjZSIsInJlc3VsdHMiLCJSZWdFeHAiLCJleGVjIiwiZGVjb2RlVVJJQ29tcG9uZW50IiwiYXhpb3MiLCJQSmF4Iiwid3JhcHBlckVsZW1JZCIsIl90aGlzIiwidGhpcyIsIl9jbGFzc0NhbGxDaGVjayIsIndyYXBwZXJFbGVtIiwib25wb3BzdGF0ZSIsImUiLCJiYWNrT3JGb3J3YXJkIiwiX3RoaXMyIiwiUHJvbWlzZSIsInJlc29sdmUiLCJyZWplY3QiLCJkaXNwYXRjaEV2ZW50IiwiRXZlbnQiLCJjb25zb2xlIiwibG9nIiwib3JpZ2luIiwic3R5bGUiLCJvcGFjaXR5Iiwic2V0VGltZW91dCIsImhlYWRlcnMiLCJYLXBqYXgiLCJ0aGVuIiwicmVzdWx0IiwiaW5uZXJIVE1MIiwiZGF0YSIsImNvZGVzIiwiZ2V0RWxlbWVudHNCeVRhZ05hbWUiLCJsZW5ndGgiLCJldmFsIiwidGV4dCIsInRpdGxlIiwiaGlzdG9yeSIsInB1c2hTdGF0ZSIsInBhdGgiLCJwYXRobmFtZSIsInJlbG9hZCIsImFwcGVuZFBhcnRpYWwiLCJMb2FkaW5nIiwibG9hZGluZ0VsZW0iLCJfY3JlYXRlTG9hZGluZyIsImxvYWRpbmdJbnRlcnZhbCIsInNldEludGVydmFsIiwiX3Byb2dyZXNzIiwiY2xlYXJJbnRlcnZhbCIsIndpZHRoIiwiX2Rpc3RydWN0TG9hZGluZyIsImRpdiIsImNyZWF0ZUVsZW1lbnQiLCJzZXRBdHRyaWJ1dGUiLCJib2R5IiwiYXBwZW5kQ2hpbGQiLCJyZW1vdmVDaGlsZCIsInBhcnNlSW50IiwicGpheCIsInNlYXJjaEJ0biIsIm9ua2V5ZG93biIsImtleSIsInRvTG9jYWxlTG93ZXJDYXNlIiwicHJvY2Vzc0V2YWx1YXRpb24iLCJvbmNsaWNrIiwicmVwb3NpdG9yeVVybCIsInJlcG9zaXRvcnlVcmxSZWdleCIsInJlcG9zaXRvcnlOYW1lIiwicG9pbnRlckV2ZW50cyIsImNsYXNzTGlzdCIsImFkZCIsImV2YWx1YXRlIiwiU25hY2tiYXIiLCJzaG93IiwiYWN0aW9uVGV4dENvbG9yIiwicmVtb3ZlIiwibmF2aWdhdGUiLCJhcHBlbmRSZXN1bHQiLCJwb3N0IiwiQ29udGVudC1UeXBlIiwiY2F0Y2giLCJ0aXBHcm91cCIsImlubmVyVGV4dCIsInNjb3JlVGV4dCIsInF1YWxpdHkiLCJzY29yZUNvbG9yIiwiZGlzcGxheSIsIl9pdGVyYXRvck5vcm1hbENvbXBsZXRpb24iLCJfZGlkSXRlcmF0b3JFcnJvciIsIl9pdGVyYXRvckVycm9yIiwidW5kZWZpbmVkIiwiX3N0ZXAiLCJfaXRlcmF0b3IiLCJTeW1ib2wiLCJpdGVyYXRvciIsIm5leHQiLCJkb25lIiwidGlwIiwidGlwQ29udCIsInN0YXR1cyIsInR5cGUiLCJ0b0xvd2VyQ2FzZSIsImZpeEljb24iLCJoZWFkaW5nIiwidGlwQ29udGVudCIsInRpcEhlYWRpbmciLCJ0ZXh0Q29udGVudCIsInRpcEhlbHAiLCJ0aXBUZXh0IiwibWVzc2FnZSIsImVyciIsInJldHVybiIsInNwbGl0IiwicG9wIiwidXRpbHMiLCJzZXR0bGUiLCJidWlsZFVSTCIsInBhcnNlSGVhZGVycyIsImlzVVJMU2FtZU9yaWdpbiIsImNyZWF0ZUVycm9yIiwiYnRvYSIsImJpbmQiLCJjb25maWciLCJyZXF1ZXN0RGF0YSIsInJlcXVlc3RIZWFkZXJzIiwiaXNGb3JtRGF0YSIsInJlcXVlc3QiLCJYTUxIdHRwUmVxdWVzdCIsImxvYWRFdmVudCIsInhEb21haW4iLCJYRG9tYWluUmVxdWVzdCIsIm9ucHJvZ3Jlc3MiLCJvbnRpbWVvdXQiLCJhdXRoIiwidXNlcm5hbWUiLCJwYXNzd29yZCIsIkF1dGhvcml6YXRpb24iLCJvcGVuIiwibWV0aG9kIiwidG9VcHBlckNhc2UiLCJwYXJhbXMiLCJwYXJhbXNTZXJpYWxpemVyIiwidGltZW91dCIsInJlYWR5U3RhdGUiLCJyZXNwb25zZVVSTCIsImluZGV4T2YiLCJyZXNwb25zZUhlYWRlcnMiLCJnZXRBbGxSZXNwb25zZUhlYWRlcnMiLCJyZXNwb25zZSIsInJlc3BvbnNlVHlwZSIsInJlc3BvbnNlVGV4dCIsInN0YXR1c1RleHQiLCJvbmVycm9yIiwiaXNTdGFuZGFyZEJyb3dzZXJFbnYiLCJjb29raWVzIiwieHNyZlZhbHVlIiwid2l0aENyZWRlbnRpYWxzIiwieHNyZkNvb2tpZU5hbWUiLCJyZWFkIiwieHNyZkhlYWRlck5hbWUiLCJmb3JFYWNoIiwidmFsIiwic2V0UmVxdWVzdEhlYWRlciIsIm9uRG93bmxvYWRQcm9ncmVzcyIsIm9uVXBsb2FkUHJvZ3Jlc3MiLCJ1cGxvYWQiLCJjYW5jZWxUb2tlbiIsInByb21pc2UiLCJjYW5jZWwiLCJhYm9ydCIsInNlbmQiLCJBeGlvcyIsImRlZmF1bHRzIiwiY3JlYXRlSW5zdGFuY2UiLCJkZWZhdWx0Q29uZmlnIiwiY29udGV4dCIsImluc3RhbmNlIiwiZXh0ZW5kIiwiY3JlYXRlIiwiaW5zdGFuY2VDb25maWciLCJtZXJnZSIsIkNhbmNlbCIsIkNhbmNlbFRva2VuIiwiaXNDYW5jZWwiLCJhbGwiLCJwcm9taXNlcyIsInNwcmVhZCIsImRlZmF1bHQiLCJ0b1N0cmluZyIsIl9fQ0FOQ0VMX18iLCJleGVjdXRvciIsIlR5cGVFcnJvciIsInJlc29sdmVQcm9taXNlIiwidG9rZW4iLCJyZWFzb24iLCJ0aHJvd0lmUmVxdWVzdGVkIiwic291cmNlIiwiSW50ZXJjZXB0b3JNYW5hZ2VyIiwiZGlzcGF0Y2hSZXF1ZXN0IiwiaW50ZXJjZXB0b3JzIiwiYXJndW1lbnRzIiwiY2hhaW4iLCJpbnRlcmNlcHRvciIsInVuc2hpZnQiLCJmdWxmaWxsZWQiLCJyZWplY3RlZCIsInB1c2giLCJzaGlmdCIsImhhbmRsZXJzIiwidXNlIiwiZWplY3QiLCJpZCIsImZuIiwiaCIsImVuaGFuY2VFcnJvciIsImNvZGUiLCJlcnJvciIsIkVycm9yIiwidHJhbnNmb3JtRGF0YSIsImlzQWJzb2x1dGVVUkwiLCJjb21iaW5lVVJMcyIsInRocm93SWZDYW5jZWxsYXRpb25SZXF1ZXN0ZWQiLCJiYXNlVVJMIiwidHJhbnNmb3JtUmVxdWVzdCIsImNvbW1vbiIsImFkYXB0ZXIiLCJ0cmFuc2Zvcm1SZXNwb25zZSIsInZhbGlkYXRlU3RhdHVzIiwiZm5zIiwibm9ybWFsaXplSGVhZGVyTmFtZSIsIkRFRkFVTFRfQ09OVEVOVF9UWVBFIiwic2V0Q29udGVudFR5cGVJZlVuc2V0IiwiaXNVbmRlZmluZWQiLCJwcm9jZXNzIiwiaXNBcnJheUJ1ZmZlciIsImlzQnVmZmVyIiwiaXNTdHJlYW0iLCJpc0ZpbGUiLCJpc0Jsb2IiLCJpc0FycmF5QnVmZmVyVmlldyIsImJ1ZmZlciIsImlzVVJMU2VhcmNoUGFyYW1zIiwiaXNPYmplY3QiLCJKU09OIiwic3RyaW5naWZ5IiwicGFyc2UiLCJtYXhDb250ZW50TGVuZ3RoIiwiQWNjZXB0IiwidGhpc0FyZyIsImFyZ3MiLCJBcnJheSIsImFwcGx5IiwiY2hhcnMiLCJFIiwiaW5wdXQiLCJibG9jayIsImNoYXJDb2RlIiwic3RyIiwiU3RyaW5nIiwib3V0cHV0IiwiaWR4IiwibWFwIiwiY2hhckF0IiwiY2hhckNvZGVBdCIsImVuY29kZSIsImVuY29kZVVSSUNvbXBvbmVudCIsInNlcmlhbGl6ZWRQYXJhbXMiLCJwYXJ0cyIsImlzQXJyYXkiLCJ2IiwiaXNEYXRlIiwidG9JU09TdHJpbmciLCJqb2luIiwicmVsYXRpdmVVUkwiLCJ3cml0ZSIsImV4cGlyZXMiLCJkb21haW4iLCJzZWN1cmUiLCJjb29raWUiLCJpc051bWJlciIsIkRhdGUiLCJ0b0dNVFN0cmluZyIsImlzU3RyaW5nIiwibWF0Y2giLCJub3ciLCJvcmlnaW5VUkwiLCJtc2llIiwibmF2aWdhdG9yIiwidXNlckFnZW50IiwidXJsUGFyc2luZ05vZGUiLCJyZXNvbHZlVVJMIiwicHJvdG9jb2wiLCJob3N0Iiwic2VhcmNoIiwiaGFzaCIsImhvc3RuYW1lIiwicG9ydCIsInJlcXVlc3RVUkwiLCJwYXJzZWQiLCJub3JtYWxpemVkTmFtZSIsImlnbm9yZUR1cGxpY2F0ZU9mIiwibGluZSIsInRyaW0iLCJzdWJzdHIiLCJjb25jYXQiLCJjYWxsYmFjayIsImFyciIsImlzRnVuY3Rpb24iLCJvYmoiLCJGb3JtRGF0YSIsIkFycmF5QnVmZmVyIiwiaXNWaWV3IiwicGlwZSIsIlVSTFNlYXJjaFBhcmFtcyIsInByb2R1Y3QiLCJhc3NpZ25WYWx1ZSIsImEiLCJiIiwiY29uc3RydWN0b3IiLCJyZWFkRmxvYXRMRSIsInNsaWNlIiwiaXNTbG93QnVmZmVyIiwiX2lzQnVmZmVyIiwiY2FjaGVkU2V0VGltZW91dCIsImNhY2hlZENsZWFyVGltZW91dCIsImRlZmF1bHRTZXRUaW1vdXQiLCJkZWZhdWx0Q2xlYXJUaW1lb3V0IiwicnVuVGltZW91dCIsImZ1biIsImNsZWFyVGltZW91dCIsImN1cnJlbnRRdWV1ZSIsInF1ZXVlIiwiZHJhaW5pbmciLCJxdWV1ZUluZGV4IiwiY2xlYW5VcE5leHRUaWNrIiwiZHJhaW5RdWV1ZSIsImxlbiIsInJ1biIsIm1hcmtlciIsInJ1bkNsZWFyVGltZW91dCIsIkl0ZW0iLCJhcnJheSIsIm5vb3AiLCJuZXh0VGljayIsImJyb3dzZXIiLCJlbnYiLCJhcmd2IiwidmVyc2lvbiIsInZlcnNpb25zIiwib24iLCJhZGRMaXN0ZW5lciIsIm9uY2UiLCJvZmYiLCJyZW1vdmVMaXN0ZW5lciIsInJlbW92ZUFsbExpc3RlbmVycyIsImVtaXQiLCJwcmVwZW5kTGlzdGVuZXIiLCJwcmVwZW5kT25jZUxpc3RlbmVyIiwibGlzdGVuZXJzIiwiYmluZGluZyIsImN3ZCIsImNoZGlyIiwiZGlyIiwidW1hc2siXSwibWFwcGluZ3MiOiJhQUNBLElBQUFBLEtBR0EsU0FBQUMsRUFBQUMsR0FHQSxHQUFBRixFQUFBRSxHQUNBLE9BQUFGLEVBQUFFLEdBQUFDLFFBR0EsSUFBQUMsRUFBQUosRUFBQUUsSUFDQUcsRUFBQUgsRUFDQUksR0FBQSxFQUNBSCxZQVVBLE9BTkFJLEVBQUFMLEdBQUFNLEtBQUFKLEVBQUFELFFBQUFDLElBQUFELFFBQUFGLEdBR0FHLEVBQUFFLEdBQUEsRUFHQUYsRUFBQUQsUUFLQUYsRUFBQVEsRUFBQUYsRUFHQU4sRUFBQVMsRUFBQVYsRUFHQUMsRUFBQVUsRUFBQSxTQUFBUixFQUFBUyxFQUFBQyxHQUNBWixFQUFBYSxFQUFBWCxFQUFBUyxJQUNBRyxPQUFBQyxlQUFBYixFQUFBUyxHQUNBSyxjQUFBLEVBQ0FDLFlBQUEsRUFDQUMsSUFBQU4sS0FNQVosRUFBQW1CLEVBQUEsU0FBQWpCLEdBQ0FZLE9BQUFDLGVBQUFiLEVBQUEsY0FBaURrQixPQUFBLEtBSWpEcEIsRUFBQXFCLEVBQUEsU0FBQWxCLEdBQ0EsSUFBQVMsRUFBQVQsS0FBQW1CLFdBQ0EsV0FBMkIsT0FBQW5CLEVBQUEsU0FDM0IsV0FBaUMsT0FBQUEsR0FFakMsT0FEQUgsRUFBQVUsRUFBQUUsRUFBQSxJQUFBQSxHQUNBQSxHQUlBWixFQUFBYSxFQUFBLFNBQUFVLEVBQUFDLEdBQXNELE9BQUFWLE9BQUFXLFVBQUFDLGVBQUFuQixLQUFBZ0IsRUFBQUMsSUFHdER4QixFQUFBMkIsRUFBQSxHQUlBM0IsSUFBQTRCLEVBQUE7Ozs7MkRDbkVBQyxPQUFPQyxHQUFLLFNBQUNDLEdBQ1QsT0FBT0MsU0FBU0MsY0FBY0YsSUFJbEMsSUFBTUcsRUFBY2xDLHVCQUFRLG1DQUV0Qm1DLEVBQU9uQyxnQkFBUSw0QkFJZm9DLEVBQVUsSUFBSUYsRUFFcEJMLE9BQU9RLEtBQU8sSUFBSUYsRUFNbEJDLEVBQVFFLGNBSVJOLFNBQVNPLGlCQUFpQixhQUFjLFdBQ3BDSCxFQUFRRSxnQkFHWk4sU0FBU08saUJBQWlCLFdBQVksV0FDbENILEVBQVFJLGdCQUdaWCxPQUFPWSxPQUFTLFdBQ1pMLEVBQVFJLGVBS1pYLE9BQU9hLG1CQUFxQixTQUFDL0IsRUFBTWdDLEdBQzFCQSxJQUFLQSxFQUFNZCxPQUFPZSxTQUFTQyxNQUNoQ2xDLEVBQU9BLEVBQUttQyxRQUFRLFVBQVcsUUFDL0IsSUFDSUMsRUFEUSxJQUFJQyxPQUFPLE9BQVNyQyxFQUFPLHFCQUNuQnNDLEtBQUtOLEdBQ3pCLE9BQUtJLEVBQ0FBLEVBQVEsR0FDTkcsbUJBQW1CSCxFQUFRLEdBQUdELFFBQVEsTUFBTyxNQUQ1QixHQURIOzs7O3djQzFDekIsSUFBTUssTUFBUW5ELGdDQUFRLGlDQUVoQm9ELGdCQVFGLFNBQUFBLEtBQVlDLEdBQWUsSUFBQUMsRUFBQUMsS0FBQUMsZ0JBQUFELEtBQUFILE1BRXZCRyxLQUFLRSxZQUFjekIsU0FBU0MsY0FBYyxJQUFNb0IsR0FJaER4QixPQUFPNkIsV0FBYSxTQUFDQyxHQUNqQkwsRUFBS00sY0FBY0QsZ0ZBWWJoQixLQUFLLElBQUFrQixPQUFBTixLQUVmLE9BQU8sSUFBSU8sUUFBUSxTQUFDQyxRQUFTQyxRQUV6QmhDLFNBQVNpQyxjQUFjLElBQUlDLE1BQU0sZUFHakNDLFFBQVFDLElBQUl2QyxPQUFPZSxTQUFTeUIsT0FBUzFCLEtBQ3JDYixHQUFHLGlCQUFpQndDLE1BQU1DLFFBQVUsRUFFcENDLFdBQVcsV0FFUHJCLE1BQU1qQyxJQUFJVyxPQUFPZSxTQUFTeUIsT0FBUzFCLEtBQy9COEIsU0FDSUMsU0FBVSxVQUVmQyxLQUFLLFNBQUNDLFFBQ0xmLE9BQUtKLFlBQVlvQixVQUFZRCxPQUFPRSxLQUdwQyxJQURBLElBQUlDLE1BQVFsQixPQUFLSixZQUFZdUIscUJBQXFCLFVBQ3pDNUUsRUFBSSxFQUFHQSxFQUFJMkUsTUFBTUUsT0FBUTdFLElBQzlCOEUsS0FBS0gsTUFBTTNFLEdBQUcrRSxNQUdsQlgsV0FBVyxXQUlQMUMsR0FBRyxpQkFBaUJ3QyxNQUFNQyxRQUFVLEVBSXBDUixXQUVGLFFBS1IsS0FJRi9CLFNBQVNpQyxjQUFjLElBQUlDLE1BQU0sZ0RBaUJoQ3ZCLEVBQUt5QyxHQUNWQyxRQUFRQyxhQUFjRixFQUFPdkQsT0FBT2UsU0FBU3lCLE9BQVMsSUFBTTFCLEdBQzVEWCxTQUFTb0QsTUFBUUEsd0NBV1B6QixHQUVWLEdBQUksY0FBY3RCLEtBQUtzQixFQUFFNEIsS0FBSyxHQUFHM0MsU0FBUzRDLFVBRXRDLE9BREEzRCxPQUFPZSxTQUFTNkMsVUFDVCxFQUdYbEMsS0FBS21DLGNBQWMvQixFQUFFNEIsS0FBSyxHQUFHM0MsU0FBUzRDLHNCQUs5Q3JGLE9BQU9ELFFBQVVrRDs7Ozt3VENsSFh1QyxnTEFFVyxJQUFBckMsRUFBQUMsS0FFVEEsS0FBS3FDLFlBQWNyQyxLQUFLc0MsaUJBRXhCdEMsS0FBS3VDLGdCQUFrQkMsWUFBWSxXQUMvQnpDLEVBQUswQyxhQUNQLDJDQU1GQyxjQUFjMUMsS0FBS3VDLGlCQUVuQnZDLEtBQUtxQyxZQUFZdEIsTUFBTTRCLE1BQVEsT0FFL0IxQixXQUFXakIsS0FBSzRDLGlCQUFpQiw4Q0FNakMsSUFBSUMsRUFBTXBFLFNBQVNxRSxjQUFjLE9BSWpDLE9BSEFELEVBQUlFLGFBQWEsS0FBSyxhQUN0QkYsRUFBSTlCLE1BQU00QixNQUFRLEtBQ2xCbEUsU0FBU3VFLEtBQUtDLFlBQVlKLEdBQ25CQSw2Q0FJUHBFLFNBQVN1RSxLQUFLRSxZQUFZekUsU0FBU0MsY0FBYyxtREFJOUN5RSxTQUFTbkQsS0FBS3FDLFlBQVl0QixNQUFNNEIsUUFBVSxHQUN6Q0QsY0FBYzFDLEtBQUt1QyxpQkFFbkJ2QyxLQUFLcUMsWUFBWXRCLE1BQU00QixNQUFRUSxTQUFTbkQsS0FBS3FDLFlBQVl0QixNQUFNNEIsT0FBUyxFQUFJLGFBTXhGL0YsRUFBT0QsUUFBVXlGOzs7O29UQzdDakIsSUFBTXhDLEVBQVFuRCxjQUFRLGlDQUVoQm9ELEVBQU9wRCxlQUFRLDRCQUVmbUMsYUFRRixTQUFBQSxpR0FBY3FCLENBQUFELEtBQUFwQixHQUNWb0IsS0FBS29ELEtBQU8sSUFBSXZELEVBQUssOERBU1IsSUFBQUUsRUFBQUMsS0FJVHFELEVBQVk5RSxHQUFHLHNCQUVuQkUsU0FBUzZFLFVBQVksU0FBQ2xELEdBQ2UsU0FBN0JBLEVBQUVtRCxJQUFJQyxxQkFDTnpELEVBQUswRCxxQkFJYkosRUFBVUssUUFBVSxXQUVoQjNELEVBQUswRCxpRUFZTyxJQUFBbkQsRUFBQU4sS0FHWjJELEVBQWdCcEYsR0FBRyxxQ0FBcUNWLE1BRXhEK0YsRUFBcUIsc0VBRXpCLEdBQUtELEdBQWtCQyxFQUFtQjlFLEtBQUs2RSxHQUEvQyxDQVVBLElBRUlFLEVBRllELEVBQW1CbEUsS0FBS2lFLEdBRVQsR0FFM0JOLEVBQVk5RSxHQUFHLHNCQUVuQjhFLEVBQVV0QyxNQUFNQyxRQUFVLEdBQzFCcUMsRUFBVXRDLE1BQU0rQyxjQUFnQixPQUNoQ1QsRUFBVTNFLGNBQWMsS0FBS3FGLFVBQVVDLElBQUksV0FFM0NoRSxLQUFLaUUsU0FBU04sR0FBZXZDLEtBQUssU0FBQ0MsR0FFL0IsR0FBR0EsRUFBT2xELGVBQWUsU0FLckIsT0FKQStGLFNBQVNDLE1BQU12QyxLQUFNLHdCQUF3QndDLGdCQUFpQixZQUM5RGYsRUFBVTNFLGNBQWMsS0FBS3FGLFVBQVVNLE9BQU8sV0FDOUNoQixFQUFVdEMsTUFBTUMsUUFBVSxPQUMxQnFDLEVBQVV0QyxNQUFNK0MsY0FBZ0IsUUFJcEN4RCxFQUFLOEMsS0FBS2tCLFNBQVMsZ0JBQWtCWCxFQUFlLG9CQUFzQkUsR0FFMUV2RCxFQUFLOEMsS0FBS2pCLGNBQWMsaUJBQW1Cd0IsR0FBZXZDLEtBQUssV0FFM0RDLEVBQU9zQyxjQUFnQkEsRUFFdkJyRCxFQUFLaUUsYUFBYWxELFlBaEN0QjZDLFNBQVNDLE1BQU12QyxLQUFNLGtCQUFrQndDLGdCQUFpQiw2Q0FpRHZEaEYsR0FFTCxPQUFPLElBQUltQixRQUFRLFNBQUNDLEVBQVFDLEdBRXhCYixFQUFNNEUsS0FBS2xHLE9BQU9lLFNBQVN5QixPQUFTLGlCQUNoQzZDLGNBQWV2RSxJQUVmOEIsU0FDSXVELGVBQWdCLHNCQUVyQnJELEtBQUssU0FBQ0MsR0FFTGIsRUFBUWEsRUFBT0UsUUFFaEJtRCxNQUFNakUsMENBVUpjLEdBd0JULElBQUssSUFBSW9ELEtBcEJUcEcsR0FBRyx3QkFBd0JWLE1BQVEwRCxFQUFLb0MsY0FJeENwRixHQUFHLGNBQWNxRyxVQUFZckQsRUFBS3NELFVBRWxDdEcsR0FBRyxVQUFVcUcsVUFBWXJELEVBQUt1RCxRQUU5QnZHLEdBQUcsVUFBVXdGLFVBQVl4QyxFQUFLd0QsV0FFOUJ4RyxHQUFHLGNBQWN3RixVQUFZeEMsRUFBS3dELFdBSWxDeEcsR0FBRyxtQ0FBbUN3RixVQUFVTSxPQUFPLFFBRXZEOUYsR0FBRyw2Q0FBNkN3QyxNQUFNaUUsUUFBVSxPQUkzQ3pELEVBQUsvQixRQUFTLEtBQUF5RixHQUFBLEVBQUFDLEdBQUEsRUFBQUMsT0FBQUMsRUFBQSxJQUMvQixRQUFBQyxFQUFBQyxFQUFnQi9ELEVBQUsvQixRQUFRbUYsR0FBN0JZLE9BQUFDLGNBQUFQLEdBQUFJLEVBQUFDLEVBQUFHLFFBQUFDLE1BQUFULEdBQUEsRUFBd0MsS0FBL0JVLEVBQStCTixFQUFBeEgsTUFFaEMrSCxFQUFVbkgsU0FBU3FFLGNBQWMsT0FDckM4QyxFQUFRN0IsVUFBVUMsSUFBSSxPQUV0QixJQUFJNkIsRUFBU3BILFNBQVNxRSxjQUFjLEtBQ3BDK0MsRUFBTzlCLFVBQVVDLElBQUksV0FDckI2QixFQUFPOUIsVUFBVUMsSUFBSTJCLEVBQUlHLEtBQUtDLGVBRTlCLElBQUlDLEVBQVV2SCxTQUFTcUUsY0FBYyxLQUNyQ2tELEVBQVExRyxLQUFPLElBQ2YwRyxFQUFRakMsVUFBVUMsSUFBSSxVQUN0QmdDLEVBQVFqRCxhQUFhLFNBQVMsVUFFM0IsV0FBV2pFLEtBQUs2RyxFQUFJTSxTQUNuQkQsRUFBUTFHLEtBQU8sV0FFZjBHLEVBQVFqRixNQUFNaUUsUUFBVSxPQUc1QixJQUFJa0IsRUFBYXpILFNBQVNxRSxjQUFjLE9BQ3hDb0QsRUFBV25DLFVBQVVDLElBQUksY0FFekIsSUFBSW1DLEVBQWExSCxTQUFTcUUsY0FBYyxPQUN4Q3FELEVBQVdwQyxVQUFVQyxJQUFJLGNBQ3pCbUMsRUFBV0MsWUFBY1QsRUFBSU0sUUFFN0IsSUFBSUksRUFBVTVILFNBQVNxRSxjQUFjLEtBQ3JDdUQsRUFBUS9HLEtBQU8sSUFDZitHLEVBQVF0QyxVQUFVQyxJQUFJLFdBRXRCLElBQUlzQyxFQUFVN0gsU0FBU3FFLGNBQWMsT0FDckN3RCxFQUFRdkMsVUFBVUMsSUFBSSxXQUN0QnNDLEVBQVFGLFlBQWNULEVBQUlZLFFBSTFCTCxFQUFXakQsWUFBWWtELEdBQ3ZCQSxFQUFXbEQsWUFBWW9ELEdBQ3ZCSCxFQUFXakQsWUFBWXFELEdBRXZCVixFQUFRM0MsWUFBWTRDLEdBQ3BCRCxFQUFRM0MsWUFBWWlELEdBQ3BCTixFQUFRM0MsWUFBWStDLEdBRVB6SCxHQUFHLGtCQUNUMEUsWUFBWTJDLElBL0NRLE1BQUFZLEdBQUF0QixHQUFBLEVBQUFDLEVBQUFxQixFQUFBLGFBQUF2QixHQUFBSyxFQUFBbUIsUUFBQW5CLEVBQUFtQixTQUFBLFdBQUF2QixFQUFBLE1BQUFDLElBd0RuQzVHLEdBQUcsa0JBQWtCd0YsVUFBVU0sT0FBTyxRQUV0QzlGLEdBQUcsNENBQTRDd0MsTUFBTWlFLFFBQVUsT0FFL0R6RyxHQUFHLGtDQUFrQ3dGLFVBQVVNLE9BQU8sUUFHdEQsSUFBSVIsRUFBaUJ0QyxFQUFLb0MsY0FBYytDLE1BQU0sS0FBS0MsTUFJL0MsZUFBZTdILEtBQUsrRSxLQUNwQkEsRUFBaUIsZUFBZW5FLEtBQUttRSxHQUFnQixJQUd6RHRGLEdBQUcscURBQXFENkgsWUFBY3ZDLEVBRXRFdEYsR0FBRyxnREFBZ0Q2SCxZQUFjdkMsV0FRekVqSCxFQUFPRCxRQUFVaUM7Ozs7OENDN09qQmhDLEVBQUFELFFBQUFGLG9CQUFBOzs7OzJEQ0VBLElBQUFtSyxFQUFBbkssbUJBQUEscUNBQ0FvSyxFQUFBcEsseUJBQUEsMkNBQ0FxSyxFQUFBckssOEJBQUEsZ0RBQ0FzSyxFQUFBdEssa0NBQUEsb0RBQ0F1SyxFQUFBdksscUNBQUEsdURBQ0F3SyxFQUFBeEssNEJBQUEsZ0RBQ0F5SyxFQUFBLG9CQUFBNUksZUFBQTRJLE1BQUE1SSxPQUFBNEksS0FBQUMsS0FBQTdJLFNBQUE3QiwwQkFBQSw0Q0FFQUcsRUFBQUQsUUFBQSxTQUFBeUssR0FDQSxXQUFBN0csUUFBQSxTQUFBQyxFQUFBQyxHQUNBLElBQUE0RyxFQUFBRCxFQUFBN0YsS0FDQStGLEVBQUFGLEVBQUFsRyxRQUVBMEYsRUFBQVcsV0FBQUYsV0FDQUMsRUFBQSxnQkFHQSxJQUFBRSxFQUFBLElBQUFDLGVBQ0FDLEVBQUEscUJBQ0FDLEdBQUEsRUFpQkEsR0FYQSxvQkFBQXJKLFNBQ0FBLE9BQUFzSixnQkFBQSxvQkFBQUosR0FDQVIsRUFBQUksRUFBQWhJLE9BQ0FvSSxFQUFBLElBQUFsSixPQUFBc0osZUFDQUYsRUFBQSxTQUNBQyxHQUFBLEVBQ0FILEVBQUFLLFdBQUEsYUFDQUwsRUFBQU0sVUFBQSxjQUlBVixFQUFBVyxLQUFBLENBQ0EsSUFBQUMsRUFBQVosRUFBQVcsS0FBQUMsVUFBQSxHQUNBQyxFQUFBYixFQUFBVyxLQUFBRSxVQUFBLEdBQ0FYLEVBQUFZLGNBQUEsU0FBQWhCLEVBQUFjLEVBQUEsSUFBQUMsR0ErREEsR0E1REFULEVBQUFXLEtBQUFmLEVBQUFnQixPQUFBQyxjQUFBdkIsRUFBQU0sRUFBQWhJLElBQUFnSSxFQUFBa0IsT0FBQWxCLEVBQUFtQixtQkFBQSxHQUdBZixFQUFBZ0IsUUFBQXBCLEVBQUFvQixRQUdBaEIsRUFBQUUsR0FBQSxXQUNBLEdBQUFGLElBQUEsSUFBQUEsRUFBQWlCLFlBQUFkLEtBUUEsSUFBQUgsRUFBQTNCLFFBQUEyQixFQUFBa0IsYUFBQSxJQUFBbEIsRUFBQWtCLFlBQUFDLFFBQUEsV0FLQSxJQUFBQyxFQUFBLDBCQUFBcEIsRUFBQVQsRUFBQVMsRUFBQXFCLHlCQUFBLEtBRUFDLEdBQ0F2SCxLQUZBNkYsRUFBQTJCLGNBQUEsU0FBQTNCLEVBQUEyQixhQUFBdkIsRUFBQXNCLFNBQUF0QixFQUFBd0IsYUFJQW5ELE9BQUEsT0FBQTJCLEVBQUEzQixPQUFBLElBQUEyQixFQUFBM0IsT0FDQW9ELFdBQUEsT0FBQXpCLEVBQUEzQixPQUFBLGFBQUEyQixFQUFBeUIsV0FDQS9ILFFBQUEwSCxFQUNBeEIsU0FDQUksV0FHQVgsRUFBQXJHLEVBQUFDLEVBQUFxSSxHQUdBdEIsRUFBQSxPQUlBQSxFQUFBMEIsUUFBQSxXQUdBekksRUFBQXdHLEVBQUEsZ0JBQUFHLEVBQUEsS0FBQUksSUFHQUEsRUFBQSxNQUlBQSxFQUFBTSxVQUFBLFdBQ0FySCxFQUFBd0csRUFBQSxjQUFBRyxFQUFBb0IsUUFBQSxjQUFBcEIsRUFBQSxlQUNBSSxJQUdBQSxFQUFBLE1BTUFaLEVBQUF1Qyx1QkFBQSxDQUNBLElBQUFDLEVBQUEzTSw2QkFBQSwrQ0FHQTRNLEdBQUFqQyxFQUFBa0MsaUJBQUF0QyxFQUFBSSxFQUFBaEksT0FBQWdJLEVBQUFtQyxlQUNBSCxFQUFBSSxLQUFBcEMsRUFBQW1DLHFCQUNBbkUsRUFFQWlFLElBQ0EvQixFQUFBRixFQUFBcUMsZ0JBQUFKLEdBdUJBLEdBbEJBLHFCQUFBN0IsR0FDQVosRUFBQThDLFFBQUFwQyxFQUFBLFNBQUFxQyxFQUFBcEcsUUFDQSxJQUFBOEQsR0FBQSxpQkFBQTlELEVBQUF3QyxxQkFFQXVCLEVBQUEvRCxHQUdBaUUsRUFBQW9DLGlCQUFBckcsRUFBQW9HLEtBTUF2QyxFQUFBa0Msa0JBQ0E5QixFQUFBOEIsaUJBQUEsR0FJQWxDLEVBQUEyQixhQUNBLElBQ0F2QixFQUFBdUIsYUFBQTNCLEVBQUEyQixhQUNPLE1BQUEzSSxHQUdQLFlBQUFnSCxFQUFBMkIsYUFDQSxNQUFBM0ksRUFNQSxtQkFBQWdILEVBQUF5QyxvQkFDQXJDLEVBQUF4SSxpQkFBQSxXQUFBb0ksRUFBQXlDLG9CQUlBLG1CQUFBekMsRUFBQTBDLGtCQUFBdEMsRUFBQXVDLFFBQ0F2QyxFQUFBdUMsT0FBQS9LLGlCQUFBLFdBQUFvSSxFQUFBMEMsa0JBR0ExQyxFQUFBNEMsYUFFQTVDLEVBQUE0QyxZQUFBQyxRQUFBN0ksS0FBQSxTQUFBOEksR0FDQTFDLElBSUFBLEVBQUEyQyxRQUNBMUosRUFBQXlKLEdBRUExQyxFQUFBLGFBSUFwQyxJQUFBaUMsSUFDQUEsRUFBQSxNQUlBRyxFQUFBNEMsS0FBQS9DOzs7OzJEQy9LQSxJQUFBVCxFQUFBbkssZ0JBQUEscUNBQ0EwSyxFQUFBMUssdUJBQUEsNENBQ0E0TixFQUFBNU4scUJBQUEsMENBQ0E2TixFQUFBN04sbUJBQUEsd0NBUUEsU0FBQThOLEVBQUFDLEdBQ0EsSUFBQUMsRUFBQSxJQUFBSixFQUFBRyxHQUNBRSxFQUFBdkQsRUFBQWtELEVBQUFuTSxVQUFBc0osUUFBQWlELEdBUUEsT0FMQTdELEVBQUErRCxPQUFBRCxFQUFBTCxFQUFBbk0sVUFBQXVNLEdBR0E3RCxFQUFBK0QsT0FBQUQsRUFBQUQsR0FFQUMsRUFJQSxJQUFBOUssRUFBQTJLLEVBQUFELEdBR0ExSyxFQUFBeUssUUFHQXpLLEVBQUFnTCxPQUFBLFNBQUFDLEdBQ0EsT0FBQU4sRUFBQTNELEVBQUFrRSxNQUFBUixFQUFBTyxLQUlBakwsRUFBQW1MLE9BQUF0Tyx3QkFBQSw2Q0FDQW1ELEVBQUFvTCxZQUFBdk8sNkJBQUEsa0RBQ0FtRCxFQUFBcUwsU0FBQXhPLDBCQUFBLCtDQUdBbUQsRUFBQXNMLElBQUEsU0FBQUMsR0FDQSxPQUFBNUssUUFBQTJLLElBQUFDLElBRUF2TCxFQUFBd0wsT0FBQTNPLHlCQUFBLDhDQUVBRyxFQUFBRCxRQUFBaUQsRUFHQWhELEVBQUFELFFBQUEwTyxRQUFBekw7Ozs7MkRDM0NBLFNBQUFtTCxFQUFBeEUsR0FDQXZHLEtBQUF1RyxVQUdBd0UsRUFBQTdNLFVBQUFvTixTQUFBLFdBQ0EsZ0JBQUF0TCxLQUFBdUcsUUFBQSxLQUFBdkcsS0FBQXVHLFFBQUEsS0FHQXdFLEVBQUE3TSxVQUFBcU4sWUFBQSxFQUVBM08sRUFBQUQsUUFBQW9POzs7OzJEQ2hCQSxJQUFBQSxFQUFBdE8saUJBQUEsNkNBUUEsU0FBQXVPLEVBQUFRLEdBQ0Esc0JBQUFBLEVBQ0EsVUFBQUMsVUFBQSxnQ0FHQSxJQUFBQyxFQUNBMUwsS0FBQWlLLFFBQUEsSUFBQTFKLFFBQUEsU0FBQUMsR0FDQWtMLEVBQUFsTCxJQUdBLElBQUFtTCxFQUFBM0wsS0FDQXdMLEVBQUEsU0FBQWpGLEdBQ0FvRixFQUFBQyxTQUtBRCxFQUFBQyxPQUFBLElBQUFiLEVBQUF4RSxHQUNBbUYsRUFBQUMsRUFBQUMsV0FPQVosRUFBQTlNLFVBQUEyTixpQkFBQSxXQUNBLEdBQUE3TCxLQUFBNEwsT0FDQSxNQUFBNUwsS0FBQTRMLFFBUUFaLEVBQUFjLE9BQUEsV0FDQSxJQUFBNUIsRUFJQSxPQUNBeUIsTUFKQSxJQUFBWCxFQUFBLFNBQUE5TixHQUNBZ04sRUFBQWhOLElBSUFnTixXQUlBdE4sRUFBQUQsUUFBQXFPOzs7OzJEQ3REQXBPLEVBQUFELFFBQUEsU0FBQWtCLEdBQ0EsU0FBQUEsTUFBQTBOOzs7OzJEQ0RBLElBQUFqQixFQUFBN04sc0JBQUEsd0NBQ0FtSyxFQUFBbkssbUJBQUEscUNBQ0FzUCxFQUFBdFAsNkJBQUEsdURBQ0F1UCxFQUFBdlAsMEJBQUEsb0RBT0EsU0FBQTROLEVBQUFRLEdBQ0E3SyxLQUFBc0ssU0FBQU8sRUFDQTdLLEtBQUFpTSxjQUNBekUsUUFBQSxJQUFBdUUsRUFDQWpELFNBQUEsSUFBQWlELEdBU0ExQixFQUFBbk0sVUFBQXNKLFFBQUEsU0FBQUosR0FHQSxpQkFBQUEsSUFDQUEsRUFBQVIsRUFBQWtFLE9BQ0ExTCxJQUFBOE0sVUFBQSxJQUNLQSxVQUFBLE1BR0w5RSxFQUFBUixFQUFBa0UsTUFBQVIsR0FBa0NsQyxPQUFBLE9BQWNwSSxLQUFBc0ssU0FBQWxELElBQ2hEZ0IsT0FBQWhCLEVBQUFnQixPQUFBckMsY0FHQSxJQUFBb0csR0FBQUgsT0FBQTVHLEdBQ0E2RSxFQUFBMUosUUFBQUMsUUFBQTRHLEdBVUEsSUFSQXBILEtBQUFpTSxhQUFBekUsUUFBQWtDLFFBQUEsU0FBQTBDLEdBQ0FELEVBQUFFLFFBQUFELEVBQUFFLFVBQUFGLEVBQUFHLFlBR0F2TSxLQUFBaU0sYUFBQW5ELFNBQUFZLFFBQUEsU0FBQTBDLEdBQ0FELEVBQUFLLEtBQUFKLEVBQUFFLFVBQUFGLEVBQUFHLFlBR0FKLEVBQUF6SyxRQUNBdUksSUFBQTdJLEtBQUErSyxFQUFBTSxRQUFBTixFQUFBTSxTQUdBLE9BQUF4QyxHQUlBckQsRUFBQThDLFNBQUEsMENBQUF0QixHQUVBaUMsRUFBQW5NLFVBQUFrSyxHQUFBLFNBQUFoSixFQUFBZ0ksR0FDQSxPQUFBcEgsS0FBQXdILFFBQUFaLEVBQUFrRSxNQUFBMUQsT0FDQWdCLFNBQ0FoSixZQUtBd0gsRUFBQThDLFNBQUEsK0JBQUF0QixHQUVBaUMsRUFBQW5NLFVBQUFrSyxHQUFBLFNBQUFoSixFQUFBbUMsRUFBQTZGLEdBQ0EsT0FBQXBILEtBQUF3SCxRQUFBWixFQUFBa0UsTUFBQTFELE9BQ0FnQixTQUNBaEosTUFDQW1DLGFBS0EzRSxFQUFBRCxRQUFBME47Ozs7MkRDNUVBLElBQUF6RCxFQUFBbkssbUJBQUEscUNBRUEsU0FBQXNQLElBQ0EvTCxLQUFBME0sWUFXQVgsRUFBQTdOLFVBQUF5TyxJQUFBLFNBQUFMLEVBQUFDLEdBS0EsT0FKQXZNLEtBQUEwTSxTQUFBRixNQUNBRixZQUNBQyxhQUVBdk0sS0FBQTBNLFNBQUFoTCxPQUFBLEdBUUFxSyxFQUFBN04sVUFBQTBPLE1BQUEsU0FBQUMsR0FDQTdNLEtBQUEwTSxTQUFBRyxLQUNBN00sS0FBQTBNLFNBQUFHLEdBQUEsT0FZQWQsRUFBQTdOLFVBQUF3TCxRQUFBLFNBQUFvRCxHQUNBbEcsRUFBQThDLFFBQUExSixLQUFBME0sU0FBQSxTQUFBSyxHQUNBLE9BQUFBLEdBQ0FELEVBQUFDLE1BS0FuUSxFQUFBRCxRQUFBb1A7Ozs7MkRDakRBLElBQUFpQixFQUFBdlEsdUJBQUEsaURBWUFHLEVBQUFELFFBQUEsU0FBQTRKLEVBQUFhLEVBQUE2RixFQUFBekYsRUFBQXNCLEdBQ0EsSUFBQW9FLEVBQUEsSUFBQUMsTUFBQTVHLEdBQ0EsT0FBQXlHLEVBQUFFLEVBQUE5RixFQUFBNkYsRUFBQXpGLEVBQUFzQjs7OzsyRENkQSxJQUFBbEMsRUFBQW5LLG1CQUFBLHFDQUNBMlEsRUFBQTNRLHdCQUFBLGtEQUNBd08sRUFBQXhPLDJCQUFBLCtDQUNBNk4sRUFBQTdOLG9CQUFBLHdDQUNBNFEsRUFBQTVRLG1DQUFBLHFEQUNBNlEsRUFBQTdRLGlDQUFBLG1EQUtBLFNBQUE4USxFQUFBbkcsR0FDQUEsRUFBQTRDLGFBQ0E1QyxFQUFBNEMsWUFBQTZCLG1CQVVBalAsRUFBQUQsUUFBQSxTQUFBeUssR0FrQ0EsT0FqQ0FtRyxFQUFBbkcsR0FHQUEsRUFBQW9HLFVBQUFILEVBQUFqRyxFQUFBaEksT0FDQWdJLEVBQUFoSSxJQUFBa08sRUFBQWxHLEVBQUFvRyxRQUFBcEcsRUFBQWhJLE1BSUFnSSxFQUFBbEcsUUFBQWtHLEVBQUFsRyxZQUdBa0csRUFBQTdGLEtBQUE2TCxFQUNBaEcsRUFBQTdGLEtBQ0E2RixFQUFBbEcsUUFDQWtHLEVBQUFxRyxrQkFJQXJHLEVBQUFsRyxRQUFBMEYsRUFBQWtFLE1BQ0ExRCxFQUFBbEcsUUFBQXdNLFdBQ0F0RyxFQUFBbEcsUUFBQWtHLEVBQUFnQixZQUNBaEIsRUFBQWxHLGFBR0EwRixFQUFBOEMsU0FDQSxxREFDQSxTQUFBdEIsVUFDQWhCLEVBQUFsRyxRQUFBa0gsTUFJQWhCLEVBQUF1RyxTQUFBckQsRUFBQXFELFNBRUF2RyxHQUFBaEcsS0FBQSxTQUFBMEgsR0FVQSxPQVRBeUUsRUFBQW5HLEdBR0EwQixFQUFBdkgsS0FBQTZMLEVBQ0F0RSxFQUFBdkgsS0FDQXVILEVBQUE1SCxRQUNBa0csRUFBQXdHLG1CQUdBOUUsR0FDRyxTQUFBOEMsR0FjSCxPQWJBWCxFQUFBVyxLQUNBMkIsRUFBQW5HLEdBR0F3RSxLQUFBOUMsV0FDQThDLEVBQUE5QyxTQUFBdkgsS0FBQTZMLEVBQ0F4QixFQUFBOUMsU0FBQXZILEtBQ0FxSyxFQUFBOUMsU0FBQTVILFFBQ0FrRyxFQUFBd0cscUJBS0FyTixRQUFBRSxPQUFBbUw7Ozs7MkRDdkVBaFAsRUFBQUQsUUFBQSxTQUFBdVEsRUFBQTlGLEVBQUE2RixFQUFBekYsRUFBQXNCLEdBT0EsT0FOQW9FLEVBQUE5RixTQUNBNkYsSUFDQUMsRUFBQUQsUUFFQUMsRUFBQTFGLFVBQ0EwRixFQUFBcEUsV0FDQW9FOzs7OzJEQ2pCQSxJQUFBakcsRUFBQXhLLHNCQUFBLGdEQVNBRyxFQUFBRCxRQUFBLFNBQUE2RCxFQUFBQyxFQUFBcUksR0FDQSxJQUFBK0UsRUFBQS9FLEVBQUExQixPQUFBeUcsZUFFQS9FLEVBQUFqRCxRQUFBZ0ksTUFBQS9FLEVBQUFqRCxRQUdBcEYsRUFBQXdHLEVBQ0EsbUNBQUE2QixFQUFBakQsT0FDQWlELEVBQUExQixPQUNBLEtBQ0EwQixFQUFBdEIsUUFDQXNCLElBUEF0SSxFQUFBc0k7Ozs7MkRDYkEsSUFBQWxDLEVBQUFuSyxtQkFBQSxxQ0FVQUcsRUFBQUQsUUFBQSxTQUFBNEUsRUFBQUwsRUFBQTRNLEdBTUEsT0FKQWxILEVBQUE4QyxRQUFBb0UsRUFBQSxTQUFBaEIsR0FDQXZMLEVBQUF1TCxFQUFBdkwsRUFBQUwsS0FHQUs7Ozs7d0VDaEJBLElBQUFxRixFQUFBbkssZ0JBQUEscUNBQ0FzUixFQUFBdFIsc0NBQUEsMkRBRUF1UixHQUNBdkosZUFBQSxxQ0FHQSxTQUFBd0osRUFBQS9NLEVBQUFyRCxJQUNBK0ksRUFBQXNILFlBQUFoTixJQUFBMEYsRUFBQXNILFlBQUFoTixFQUFBLG1CQUNBQSxFQUFBLGdCQUFBckQsR0FnQkEsSUFYQThQLEVBV0FyRCxHQUNBcUQsU0FYQSxvQkFBQWxHLGVBRUFrRyxFQUFBbFIsdUJBQUEsaURBQ0csSUFBQTBSLElBRUhSLEVBQUFsUix3QkFBQSw2Q0FFQWtSLEdBTUFGLGtCQUFBLFNBQUFsTSxFQUFBTCxHQUVBLE9BREE2TSxFQUFBN00sRUFBQSxnQkFDQTBGLEVBQUFXLFdBQUFoRyxJQUNBcUYsRUFBQXdILGNBQUE3TSxJQUNBcUYsRUFBQXlILFNBQUE5TSxJQUNBcUYsRUFBQTBILFNBQUEvTSxJQUNBcUYsRUFBQTJILE9BQUFoTixJQUNBcUYsRUFBQTRILE9BQUFqTixHQUVBQSxFQUVBcUYsRUFBQTZILGtCQUFBbE4sR0FDQUEsRUFBQW1OLE9BRUE5SCxFQUFBK0gsa0JBQUFwTixJQUNBME0sRUFBQS9NLEVBQUEsbURBQ0FLLEVBQUErSixZQUVBMUUsRUFBQWdJLFNBQUFyTixJQUNBME0sRUFBQS9NLEVBQUEsa0NBQ0EyTixLQUFBQyxVQUFBdk4sSUFFQUEsSUFHQXFNLG1CQUFBLFNBQUFyTSxHQUVBLG9CQUFBQSxFQUNBLElBQ0FBLEVBQUFzTixLQUFBRSxNQUFBeE4sR0FDTyxNQUFBbkIsSUFFUCxPQUFBbUIsSUFPQWlILFFBQUEsRUFFQWUsZUFBQSxhQUNBRSxlQUFBLGVBRUF1RixrQkFBQSxFQUVBbkIsZUFBQSxTQUFBaEksR0FDQSxPQUFBQSxHQUFBLEtBQUFBLEVBQUEsTUFJQXlFLEVBQUFwSixTQUNBd00sUUFDQXVCLE9BQUEsc0NBSUFySSxFQUFBOEMsU0FBQSxnQ0FBQXRCLEdBQ0FrQyxFQUFBcEosUUFBQWtILFFBR0F4QixFQUFBOEMsU0FBQSwrQkFBQXRCLEdBQ0FrQyxFQUFBcEosUUFBQWtILEdBQUF4QixFQUFBa0UsTUFBQWtELEtBR0FwUixFQUFBRCxRQUFBMk47Ozs7MkRDN0ZBMU4sRUFBQUQsUUFBQSxTQUFBbVEsRUFBQW9DLEdBQ0Esa0JBRUEsSUFEQSxJQUFBQyxFQUFBLElBQUFDLE1BQUFsRCxVQUFBeEssUUFDQTdFLEVBQUEsRUFBbUJBLEVBQUFzUyxFQUFBek4sT0FBaUI3RSxJQUNwQ3NTLEVBQUF0UyxHQUFBcVAsVUFBQXJQLEdBRUEsT0FBQWlRLEVBQUF1QyxNQUFBSCxFQUFBQzs7OzsyRENKQSxJQUFBRyxFQUFBLG9FQUVBLFNBQUFDLElBQ0F2UCxLQUFBdUcsUUFBQSx1Q0FFQWdKLEVBQUFyUixVQUFBLElBQUFpUCxNQUNBb0MsRUFBQXJSLFVBQUErTyxLQUFBLEVBQ0FzQyxFQUFBclIsVUFBQWQsS0FBQSx3QkF3QkFSLEVBQUFELFFBdEJBLFNBQUE2UyxHQUdBLElBRkEsSUFJQUMsRUFBQUMsRUFKQUMsRUFBQUMsT0FBQUosR0FDQUssRUFBQSxHQUdBQyxFQUFBLEVBQUFDLEVBQUFULEVBSUFLLEVBQUFLLE9BQUEsRUFBQUYsS0FBQUMsRUFBQSxJQUFBRCxFQUFBLEdBRUFELEdBQUFFLEVBQUFDLE9BQUEsR0FBQVAsR0FBQSxFQUFBSyxFQUFBLEtBQ0EsQ0FFQSxJQURBSixFQUFBQyxFQUFBTSxXQUFBSCxHQUFBLE1BQ0EsSUFDQSxVQUFBUCxFQUVBRSxLQUFBLEVBQUFDLEVBRUEsT0FBQUc7Ozs7MkRDOUJBLElBQUFqSixFQUFBbkssbUJBQUEscUNBRUEsU0FBQXlULEVBQUF2RyxHQUNBLE9BQUF3RyxtQkFBQXhHLEdBQ0FwSyxRQUFBLGFBQ0FBLFFBQUEsYUFDQUEsUUFBQSxZQUNBQSxRQUFBLGFBQ0FBLFFBQUEsWUFDQUEsUUFBQSxhQUNBQSxRQUFBLGFBVUEzQyxFQUFBRCxRQUFBLFNBQUF5QyxFQUFBa0osRUFBQUMsR0FFQSxJQUFBRCxFQUNBLE9BQUFsSixFQUdBLElBQUFnUixFQUNBLEdBQUE3SCxFQUNBNkgsRUFBQTdILEVBQUFELFFBQ0csR0FBQTFCLEVBQUErSCxrQkFBQXJHLEdBQ0g4SCxFQUFBOUgsRUFBQWdELGVBQ0csQ0FDSCxJQUFBK0UsS0FFQXpKLEVBQUE4QyxRQUFBcEIsRUFBQSxTQUFBcUIsRUFBQXBHLEdBQ0EsT0FBQW9HLFFBQUEsSUFBQUEsSUFJQS9DLEVBQUEwSixRQUFBM0csR0FDQXBHLEdBQUEsS0FFQW9HLE1BR0EvQyxFQUFBOEMsUUFBQUMsRUFBQSxTQUFBNEcsR0FDQTNKLEVBQUE0SixPQUFBRCxHQUNBQSxJQUFBRSxjQUNTN0osRUFBQWdJLFNBQUEyQixLQUNUQSxFQUFBMUIsS0FBQUMsVUFBQXlCLElBRUFGLEVBQUE3RCxLQUFBMEQsRUFBQTNNLEdBQUEsSUFBQTJNLEVBQUFLLFNBSUFILEVBQUFDLEVBQUFLLEtBQUEsS0FPQSxPQUpBTixJQUNBaFIsS0FBQSxJQUFBQSxFQUFBdUosUUFBQSxjQUFBeUgsR0FHQWhSOzs7OzJEQ3ZEQXhDLEVBQUFELFFBQUEsU0FBQTZRLEVBQUFtRCxHQUNBLE9BQUFBLEVBQ0FuRCxFQUFBak8sUUFBQSxlQUFBb1IsRUFBQXBSLFFBQUEsV0FDQWlPOzs7OzJEQ1ZBLElBQUE1RyxFQUFBbkssbUJBQUEscUNBRUFHLEVBQUFELFFBQ0FpSyxFQUFBdUMsd0JBS0F5SCxNQUFBLFNBQUF4VCxFQUFBUyxFQUFBZ1QsRUFBQTdPLEVBQUE4TyxFQUFBQyxHQUNBLElBQUFDLEtBQ0FBLEVBQUF4RSxLQUFBcFAsRUFBQSxJQUFBK1MsbUJBQUF0UyxJQUVBK0ksRUFBQXFLLFNBQUFKLElBQ0FHLEVBQUF4RSxLQUFBLGVBQUEwRSxLQUFBTCxHQUFBTSxlQUdBdkssRUFBQXdLLFNBQUFwUCxJQUNBZ1AsRUFBQXhFLEtBQUEsUUFBQXhLLEdBR0E0RSxFQUFBd0ssU0FBQU4sSUFDQUUsRUFBQXhFLEtBQUEsVUFBQXNFLElBR0EsSUFBQUMsR0FDQUMsRUFBQXhFLEtBQUEsVUFHQS9OLFNBQUF1UyxTQUFBTixLQUFBLE9BR0FsSCxLQUFBLFNBQUFwTSxHQUNBLElBQUFpVSxFQUFBNVMsU0FBQXVTLE9BQUFLLE1BQUEsSUFBQTVSLE9BQUEsYUFBMERyQyxFQUFBLGNBQzFELE9BQUFpVSxFQUFBMVIsbUJBQUEwUixFQUFBLFVBR0FoTixPQUFBLFNBQUFqSCxHQUNBNEMsS0FBQTRRLE1BQUF4VCxFQUFBLEdBQUE4VCxLQUFBSSxNQUFBLFVBUUFWLE1BQUEsYUFDQXBILEtBQUEsV0FBNkIsYUFDN0JuRixPQUFBOzs7OzJEQ3pDQXpILEVBQUFELFFBQUEsU0FBQXlDLEdBSUEsc0NBQUFOLEtBQUFNOzs7OzJEQ1ZBLElBQUF3SCxFQUFBbkssbUJBQUEscUNBRUFHLEVBQUFELFFBQ0FpSyxFQUFBdUMsdUJBSUEsV0FDQSxJQUVBb0ksRUFGQUMsRUFBQSxrQkFBQTFTLEtBQUEyUyxVQUFBQyxXQUNBQyxFQUFBbFQsU0FBQXFFLGNBQUEsS0FTQSxTQUFBOE8sRUFBQXhTLEdBQ0EsSUFBQUUsRUFBQUYsRUFXQSxPQVRBb1MsSUFFQUcsRUFBQTVPLGFBQUEsT0FBQXpELEdBQ0FBLEVBQUFxUyxFQUFBclMsTUFHQXFTLEVBQUE1TyxhQUFBLE9BQUF6RCxJQUlBQSxLQUFBcVMsRUFBQXJTLEtBQ0F1UyxTQUFBRixFQUFBRSxTQUFBRixFQUFBRSxTQUFBdFMsUUFBQSxZQUNBdVMsS0FBQUgsRUFBQUcsS0FDQUMsT0FBQUosRUFBQUksT0FBQUosRUFBQUksT0FBQXhTLFFBQUEsYUFDQXlTLEtBQUFMLEVBQUFLLEtBQUFMLEVBQUFLLEtBQUF6UyxRQUFBLFlBQ0EwUyxTQUFBTixFQUFBTSxTQUNBQyxLQUFBUCxFQUFBTyxLQUNBalEsU0FBQSxNQUFBMFAsRUFBQTFQLFNBQUErTixPQUFBLEdBQ0EyQixFQUFBMVAsU0FDQSxJQUFBMFAsRUFBQTFQLFVBWUEsT0FSQXNQLEVBQUFLLEVBQUF0VCxPQUFBZSxTQUFBQyxNQVFBLFNBQUE2UyxHQUNBLElBQUFDLEVBQUF4TCxFQUFBd0ssU0FBQWUsR0FBQVAsRUFBQU8sS0FDQSxPQUFBQyxFQUFBUCxXQUFBTixFQUFBTSxVQUNBTyxFQUFBTixPQUFBUCxFQUFBTyxNQWhEQSxHQXNEQSxXQUNBOzs7OzJEQzlEQSxJQUFBbEwsRUFBQW5LLGlCQUFBLHFDQUVBRyxFQUFBRCxRQUFBLFNBQUF1RSxFQUFBbVIsR0FDQXpMLEVBQUE4QyxRQUFBeEksRUFBQSxTQUFBckQsRUFBQVQsR0FDQUEsSUFBQWlWLEdBQUFqVixFQUFBaUwsZ0JBQUFnSyxFQUFBaEssZ0JBQ0FuSCxFQUFBbVIsR0FBQXhVLFNBQ0FxRCxFQUFBOUQ7Ozs7MkRDTkEsSUFBQXdKLEVBQUFuSyxtQkFBQSxxQ0FJQTZWLEdBQ0EsNkRBQ0Esa0VBQ0EsZ0VBQ0Esc0NBZ0JBMVYsRUFBQUQsUUFBQSxTQUFBdUUsR0FDQSxJQUNBcUMsRUFDQW9HLEVBQ0E5TSxFQUhBdVYsS0FLQSxPQUFBbFIsR0FFQTBGLEVBQUE4QyxRQUFBeEksRUFBQXdGLE1BQUEsZUFBQTZMLEdBS0EsR0FKQTFWLEVBQUEwVixFQUFBNUosUUFBQSxLQUNBcEYsRUFBQXFELEVBQUE0TCxLQUFBRCxFQUFBRSxPQUFBLEVBQUE1VixJQUFBa0osY0FDQTRELEVBQUEvQyxFQUFBNEwsS0FBQUQsRUFBQUUsT0FBQTVWLEVBQUEsSUFFQTBHLEVBQUEsQ0FDQSxHQUFBNk8sRUFBQTdPLElBQUErTyxFQUFBM0osUUFBQXBGLElBQUEsRUFDQSxPQUdBNk8sRUFBQTdPLEdBREEsZUFBQUEsR0FDQTZPLEVBQUE3TyxHQUFBNk8sRUFBQTdPLE9BQUFtUCxRQUFBL0ksSUFFQXlJLEVBQUE3TyxHQUFBNk8sRUFBQTdPLEdBQUEsS0FBQW9HLE9BS0F5SSxHQW5CaUJBOzs7OzJEQ1ZqQnhWLEVBQUFELFFBQUEsU0FBQWdXLEdBQ0EsZ0JBQUFDLEdBQ0EsT0FBQUQsRUFBQXRELE1BQUEsS0FBQXVEOzs7OzJEQ3RCQSxJQUFBekwsRUFBQTFLLHVCQUFBLDRDQUNBNFIsRUFBQTVSLGtCQUFBLHFDQU1BNk8sRUFBQS9OLE9BQUFXLFVBQUFvTixTQVFBLFNBQUFnRixFQUFBM0csR0FDQSx5QkFBQTJCLEVBQUF0TyxLQUFBMk0sR0EyRUEsU0FBQWlGLEVBQUFqRixHQUNBLGNBQUFBLEdBQUEsaUJBQUFBLEVBdUNBLFNBQUFrSixFQUFBbEosR0FDQSw0QkFBQTJCLEVBQUF0TyxLQUFBMk0sR0FvRUEsU0FBQUQsRUFBQW9KLEVBQUFoRyxHQUVBLFVBQUFnRyxRQUFBLElBQUFBLEVBVUEsR0FMQSxpQkFBQUEsSUFFQUEsT0FHQXhDLEVBQUF3QyxHQUVBLFFBQUFqVyxFQUFBLEVBQUFDLEVBQUFnVyxFQUFBcFIsT0FBbUM3RSxFQUFBQyxFQUFPRCxJQUMxQ2lRLEVBQUE5UCxLQUFBLEtBQUE4VixFQUFBalcsS0FBQWlXLFFBSUEsUUFBQXZQLEtBQUF1UCxFQUNBdlYsT0FBQVcsVUFBQUMsZUFBQW5CLEtBQUE4VixFQUFBdlAsSUFDQXVKLEVBQUE5UCxLQUFBLEtBQUE4VixFQUFBdlAsS0FBQXVQLEdBMERBbFcsRUFBQUQsU0FDQTJULFVBQ0FsQyxjQWhRQSxTQUFBekUsR0FDQSwrQkFBQTJCLEVBQUF0TyxLQUFBMk0sSUFnUUEwRSxXQUNBOUcsV0F4UEEsU0FBQW9DLEdBQ0EsMEJBQUFvSixVQUFBcEosYUFBQW9KLFVBd1BBdEUsa0JBL09BLFNBQUE5RSxHQU9BLE1BTEEsb0JBQUFxSix5QkFBQSxPQUNBQSxZQUFBQyxPQUFBdEosR0FFQSxHQUFBQSxFQUFBLFFBQUFBLEVBQUErRSxrQkFBQXNFLGFBMk9BNUIsU0FoT0EsU0FBQXpILEdBQ0EsdUJBQUFBLEdBZ09Bc0gsU0F2TkEsU0FBQXRILEdBQ0EsdUJBQUFBLEdBdU5BaUYsV0FDQVYsWUEvTUEsU0FBQXZFLEdBQ0EsZ0JBQUFBLEdBK01BNkcsT0E1TEEsU0FBQTdHLEdBQ0Esd0JBQUEyQixFQUFBdE8sS0FBQTJNLElBNExBNEUsT0FuTEEsU0FBQTVFLEdBQ0Esd0JBQUEyQixFQUFBdE8sS0FBQTJNLElBbUxBNkUsT0ExS0EsU0FBQTdFLEdBQ0Esd0JBQUEyQixFQUFBdE8sS0FBQTJNLElBMEtBa0osYUFDQXZFLFNBeEpBLFNBQUEzRSxHQUNBLE9BQUFpRixFQUFBakYsSUFBQWtKLEVBQUFsSixFQUFBdUosT0F3SkF2RSxrQkEvSUEsU0FBQWhGLEdBQ0EsMEJBQUF3SixpQkFBQXhKLGFBQUF3SixpQkErSUFoSyxxQkFySEEsV0FDQSwyQkFBQXNJLFdBQUEsZ0JBQUFBLFVBQUEyQixVQUlBLG9CQUFBOVUsUUFDQSxvQkFBQUcsVUFnSEFpTCxVQUNBb0IsTUFyREEsU0FBQUEsSUFDQSxJQUFBekosS0FDQSxTQUFBZ1MsRUFBQTFKLEVBQUFwRyxHQUNBLGlCQUFBbEMsRUFBQWtDLElBQUEsaUJBQUFvRyxFQUNBdEksRUFBQWtDLEdBQUF1SCxFQUFBekosRUFBQWtDLEdBQUFvRyxHQUVBdEksRUFBQWtDLEdBQUFvRyxFQUlBLFFBQUE5TSxFQUFBLEVBQUFDLEVBQUFvUCxVQUFBeEssT0FBdUM3RSxFQUFBQyxFQUFPRCxJQUM5QzZNLEVBQUF3QyxVQUFBclAsR0FBQXdXLEdBRUEsT0FBQWhTLEdBeUNBc0osT0E5QkEsU0FBQTJJLEVBQUFDLEVBQUFyRSxHQVFBLE9BUEF4RixFQUFBNkosRUFBQSxTQUFBNUosRUFBQXBHLEdBRUErUCxFQUFBL1AsR0FEQTJMLEdBQUEsbUJBQUF2RixFQUNBeEMsRUFBQXdDLEVBQUF1RixHQUVBdkYsSUFHQTJKLEdBdUJBZCxLQTFJQSxTQUFBN0MsR0FDQSxPQUFBQSxFQUFBcFEsUUFBQSxXQUFBQSxRQUFBOzs7OzRDQ3ZKQSxTQUFBOE8sRUFBQXlFLEdBQ0EsUUFBQUEsRUFBQVUsYUFBQSxtQkFBQVYsRUFBQVUsWUFBQW5GLFVBQUF5RSxFQUFBVSxZQUFBbkYsU0FBQXlFOzs7Ozs7O0FBTEFsVyxFQUFBRCxRQUFBLFNBQUFtVyxHQUNBLGFBQUFBLElBQUF6RSxFQUFBeUUsSUFRQSxTQUFBQSxHQUNBLHlCQUFBQSxFQUFBVyxhQUFBLG1CQUFBWCxFQUFBWSxPQUFBckYsRUFBQXlFLEVBQUFZLE1BQUEsTUFUQUMsQ0FBQWIsUUFBQWM7Ozs7NENDVEEsSUFPQUMsRUFDQUMsRUFSQTNGLEVBQUF2UixFQUFBRCxXQVVBLFNBQUFvWCxJQUNBLFVBQUE1RyxNQUFBLG1DQUVBLFNBQUE2RyxJQUNBLFVBQUE3RyxNQUFBLHFDQXNCQSxTQUFBOEcsRUFBQUMsR0FDQSxHQUFBTCxJQUFBNVMsV0FFQSxPQUFBQSxXQUFBaVQsRUFBQSxHQUdBLElBQUFMLElBQUFFLElBQUFGLElBQUE1UyxXQUVBLE9BREE0UyxFQUFBNVMsV0FDQUEsV0FBQWlULEVBQUEsR0FFQSxJQUVBLE9BQUFMLEVBQUFLLEVBQUEsR0FDSyxNQUFBOVQsR0FDTCxJQUVBLE9BQUF5VCxFQUFBN1csS0FBQSxLQUFBa1gsRUFBQSxHQUNTLE1BQUE5VCxHQUVULE9BQUF5VCxFQUFBN1csS0FBQWdELEtBQUFrVSxFQUFBLE1BdkNBLFdBQ0EsSUFFQUwsRUFEQSxtQkFBQTVTLFdBQ0FBLFdBRUE4UyxFQUVLLE1BQUEzVCxHQUNMeVQsRUFBQUUsRUFFQSxJQUVBRCxFQURBLG1CQUFBSyxhQUNBQSxhQUVBSCxFQUVLLE1BQUE1VCxHQUNMMFQsRUFBQUUsR0FqQkEsR0F3RUEsSUFFQUksRUFGQUMsS0FDQUMsR0FBQSxFQUVBQyxHQUFBLEVBRUEsU0FBQUMsSUFDQUYsR0FBQUYsSUFHQUUsR0FBQSxFQUNBRixFQUFBMVMsT0FDQTJTLEVBQUFELEVBQUExQixPQUFBMkIsR0FFQUUsR0FBQSxFQUVBRixFQUFBM1MsUUFDQStTLEtBSUEsU0FBQUEsSUFDQSxJQUFBSCxFQUFBLENBR0EsSUFBQTlMLEVBQUF5TCxFQUFBTyxHQUNBRixHQUFBLEVBR0EsSUFEQSxJQUFBSSxFQUFBTCxFQUFBM1MsT0FDQWdULEdBQUEsQ0FHQSxJQUZBTixFQUFBQyxFQUNBQSxPQUNBRSxFQUFBRyxHQUNBTixHQUNBQSxFQUFBRyxHQUFBSSxNQUdBSixHQUFBLEVBQ0FHLEVBQUFMLEVBQUEzUyxPQUVBMFMsRUFBQSxLQUNBRSxHQUFBLEVBbkVBLFNBQUFNLEdBQ0EsR0FBQWQsSUFBQUssYUFFQSxPQUFBQSxhQUFBUyxHQUdBLElBQUFkLElBQUFFLElBQUFGLElBQUFLLGFBRUEsT0FEQUwsRUFBQUssYUFDQUEsYUFBQVMsR0FFQSxJQUVBZCxFQUFBYyxHQUNLLE1BQUF4VSxHQUNMLElBRUEsT0FBQTBULEVBQUE5VyxLQUFBLEtBQUE0WCxHQUNTLE1BQUF4VSxHQUdULE9BQUEwVCxFQUFBOVcsS0FBQWdELEtBQUE0VSxLQWdEQUMsQ0FBQXJNLElBaUJBLFNBQUFzTSxFQUFBWixFQUFBYSxHQUNBL1UsS0FBQWtVLE1BQ0FsVSxLQUFBK1UsUUFZQSxTQUFBQyxLQTVCQTdHLEVBQUE4RyxTQUFBLFNBQUFmLEdBQ0EsSUFBQS9FLEVBQUEsSUFBQUMsTUFBQWxELFVBQUF4SyxPQUFBLEdBQ0EsR0FBQXdLLFVBQUF4SyxPQUFBLEVBQ0EsUUFBQTdFLEVBQUEsRUFBdUJBLEVBQUFxUCxVQUFBeEssT0FBc0I3RSxJQUM3Q3NTLEVBQUF0UyxFQUFBLEdBQUFxUCxVQUFBclAsR0FHQXdYLEVBQUE3SCxLQUFBLElBQUFzSSxFQUFBWixFQUFBL0UsSUFDQSxJQUFBa0YsRUFBQTNTLFFBQUE0UyxHQUNBTCxFQUFBUSxJQVNBSyxFQUFBNVcsVUFBQXlXLElBQUEsV0FDQTNVLEtBQUFrVSxJQUFBN0UsTUFBQSxLQUFBclAsS0FBQStVLFFBRUE1RyxFQUFBdE0sTUFBQSxVQUNBc00sRUFBQStHLFNBQUEsRUFDQS9HLEVBQUFnSCxPQUNBaEgsRUFBQWlILFFBQ0FqSCxFQUFBa0gsUUFBQSxHQUNBbEgsRUFBQW1ILFlBSUFuSCxFQUFBb0gsR0FBQVAsRUFDQTdHLEVBQUFxSCxZQUFBUixFQUNBN0csRUFBQXNILEtBQUFULEVBQ0E3RyxFQUFBdUgsSUFBQVYsRUFDQTdHLEVBQUF3SCxlQUFBWCxFQUNBN0csRUFBQXlILG1CQUFBWixFQUNBN0csRUFBQTBILEtBQUFiLEVBQ0E3RyxFQUFBMkgsZ0JBQUFkLEVBQ0E3RyxFQUFBNEgsb0JBQUFmLEVBRUE3RyxFQUFBNkgsVUFBQSxTQUFBNVksR0FBcUMsVUFFckMrUSxFQUFBOEgsUUFBQSxTQUFBN1ksR0FDQSxVQUFBK1AsTUFBQSxxQ0FHQWdCLEVBQUErSCxJQUFBLFdBQTJCLFdBQzNCL0gsRUFBQWdJLE1BQUEsU0FBQUMsR0FDQSxVQUFBakosTUFBQSxtQ0FFQWdCLEVBQUFrSSxNQUFBLFdBQTRCIiwiZmlsZSI6Ii4vamF2YXNjcmlwdHMvSE9QRS5idW5kbGUuanMiLCJzb3VyY2VzQ29udGVudCI6WyIgXHQvLyBUaGUgbW9kdWxlIGNhY2hlXG4gXHR2YXIgaW5zdGFsbGVkTW9kdWxlcyA9IHt9O1xuXG4gXHQvLyBUaGUgcmVxdWlyZSBmdW5jdGlvblxuIFx0ZnVuY3Rpb24gX193ZWJwYWNrX3JlcXVpcmVfXyhtb2R1bGVJZCkge1xuXG4gXHRcdC8vIENoZWNrIGlmIG1vZHVsZSBpcyBpbiBjYWNoZVxuIFx0XHRpZihpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSkge1xuIFx0XHRcdHJldHVybiBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXS5leHBvcnRzO1xuIFx0XHR9XG4gXHRcdC8vIENyZWF0ZSBhIG5ldyBtb2R1bGUgKGFuZCBwdXQgaXQgaW50byB0aGUgY2FjaGUpXG4gXHRcdHZhciBtb2R1bGUgPSBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSA9IHtcbiBcdFx0XHRpOiBtb2R1bGVJZCxcbiBcdFx0XHRsOiBmYWxzZSxcbiBcdFx0XHRleHBvcnRzOiB7fVxuIFx0XHR9O1xuXG4gXHRcdC8vIEV4ZWN1dGUgdGhlIG1vZHVsZSBmdW5jdGlvblxuIFx0XHRtb2R1bGVzW21vZHVsZUlkXS5jYWxsKG1vZHVsZS5leHBvcnRzLCBtb2R1bGUsIG1vZHVsZS5leHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKTtcblxuIFx0XHQvLyBGbGFnIHRoZSBtb2R1bGUgYXMgbG9hZGVkXG4gXHRcdG1vZHVsZS5sID0gdHJ1ZTtcblxuIFx0XHQvLyBSZXR1cm4gdGhlIGV4cG9ydHMgb2YgdGhlIG1vZHVsZVxuIFx0XHRyZXR1cm4gbW9kdWxlLmV4cG9ydHM7XG4gXHR9XG5cblxuIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGVzIG9iamVjdCAoX193ZWJwYWNrX21vZHVsZXNfXylcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubSA9IG1vZHVsZXM7XG5cbiBcdC8vIGV4cG9zZSB0aGUgbW9kdWxlIGNhY2hlXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmMgPSBpbnN0YWxsZWRNb2R1bGVzO1xuXG4gXHQvLyBkZWZpbmUgZ2V0dGVyIGZ1bmN0aW9uIGZvciBoYXJtb255IGV4cG9ydHNcbiBcdF9fd2VicGFja19yZXF1aXJlX18uZCA9IGZ1bmN0aW9uKGV4cG9ydHMsIG5hbWUsIGdldHRlcikge1xuIFx0XHRpZighX193ZWJwYWNrX3JlcXVpcmVfXy5vKGV4cG9ydHMsIG5hbWUpKSB7XG4gXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIG5hbWUsIHtcbiBcdFx0XHRcdGNvbmZpZ3VyYWJsZTogZmFsc2UsXG4gXHRcdFx0XHRlbnVtZXJhYmxlOiB0cnVlLFxuIFx0XHRcdFx0Z2V0OiBnZXR0ZXJcbiBcdFx0XHR9KTtcbiBcdFx0fVxuIFx0fTtcblxuIFx0Ly8gZGVmaW5lIF9fZXNNb2R1bGUgb24gZXhwb3J0c1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5yID0gZnVuY3Rpb24oZXhwb3J0cykge1xuIFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgJ19fZXNNb2R1bGUnLCB7IHZhbHVlOiB0cnVlIH0pO1xuIFx0fTtcblxuIFx0Ly8gZ2V0RGVmYXVsdEV4cG9ydCBmdW5jdGlvbiBmb3IgY29tcGF0aWJpbGl0eSB3aXRoIG5vbi1oYXJtb255IG1vZHVsZXNcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubiA9IGZ1bmN0aW9uKG1vZHVsZSkge1xuIFx0XHR2YXIgZ2V0dGVyID0gbW9kdWxlICYmIG1vZHVsZS5fX2VzTW9kdWxlID9cbiBcdFx0XHRmdW5jdGlvbiBnZXREZWZhdWx0KCkgeyByZXR1cm4gbW9kdWxlWydkZWZhdWx0J107IH0gOlxuIFx0XHRcdGZ1bmN0aW9uIGdldE1vZHVsZUV4cG9ydHMoKSB7IHJldHVybiBtb2R1bGU7IH07XG4gXHRcdF9fd2VicGFja19yZXF1aXJlX18uZChnZXR0ZXIsICdhJywgZ2V0dGVyKTtcbiBcdFx0cmV0dXJuIGdldHRlcjtcbiBcdH07XG5cbiBcdC8vIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbFxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5vID0gZnVuY3Rpb24ob2JqZWN0LCBwcm9wZXJ0eSkgeyByZXR1cm4gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iamVjdCwgcHJvcGVydHkpOyB9O1xuXG4gXHQvLyBfX3dlYnBhY2tfcHVibGljX3BhdGhfX1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5wID0gXCJcIjtcblxuXG4gXHQvLyBMb2FkIGVudHJ5IG1vZHVsZSBhbmQgcmV0dXJuIGV4cG9ydHNcbiBcdHJldHVybiBfX3dlYnBhY2tfcmVxdWlyZV9fKF9fd2VicGFja19yZXF1aXJlX18ucyA9IFwiLi9jbGllbnQvc2NyaXB0cy9IT1BFL2luZGV4LmpzXCIpO1xuIiwid2luZG93LiQkID0gKHNlbGVjdG9yKSA9PiB7XHJcbiAgICByZXR1cm4gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihzZWxlY3Rvcik7XHJcbn1cclxuLy9cclxuXHJcbmNvbnN0IFByb2dyZXNzQmFyID0gcmVxdWlyZSgnLi4vUHJvZ3Jlc3NCYXInKTtcclxuXHJcbmNvbnN0IFRlc3QgPSByZXF1aXJlKCcuLi9UZXN0Jyk7XHJcblxyXG4vL1xyXG5cclxuY29uc3QgbG9hZGluZyA9IG5ldyBQcm9ncmVzc0JhcigpO1xyXG5cclxud2luZG93LnRlc3QgPSBuZXcgVGVzdCgpO1xyXG5cclxuLy9cclxuXHJcbi8vIHNob3cgbG9hZGluZ1xyXG5cclxubG9hZGluZy5zaG93TG9hZGluZygpO1xyXG5cclxuLy8gYWRkIGxvYWRpbmcncyBldmVudHNcclxuXHJcbmRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ3BqYXg6c3RhcnQnLCAoKSA9PiB7XHJcbiAgICBsb2FkaW5nLnNob3dMb2FkaW5nKCk7XHJcbn0pXHJcblxyXG5kb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdwamF4OmVuZCcsICgpID0+IHtcclxuICAgIGxvYWRpbmcuaGlkZUxvYWRpbmcoKTtcclxufSlcclxuXHJcbndpbmRvdy5vbmxvYWQgPSAoKSA9PiB7XHJcbiAgICBsb2FkaW5nLmhpZGVMb2FkaW5nKCk7XHJcbn1cclxuXHJcbi8vIGxldCdzIGFkZCBzb21lIHV0aWxpdGllc1xyXG5cclxud2luZG93LmdldFBhcmFtZXRlckJ5TmFtZSA9IChuYW1lLCB1cmwpPT57XHJcbiAgICBpZiAoIXVybCkgdXJsID0gd2luZG93LmxvY2F0aW9uLmhyZWY7XHJcbiAgICBuYW1lID0gbmFtZS5yZXBsYWNlKC9bXFxbXFxdXS9nLCBcIlxcXFwkJlwiKTtcclxuICAgIHZhciByZWdleCA9IG5ldyBSZWdFeHAoXCJbPyZdXCIgKyBuYW1lICsgXCIoPShbXiYjXSopfCZ8I3wkKVwiKSxcclxuICAgICAgICByZXN1bHRzID0gcmVnZXguZXhlYyh1cmwpO1xyXG4gICAgaWYgKCFyZXN1bHRzKSByZXR1cm4gbnVsbDtcclxuICAgIGlmICghcmVzdWx0c1syXSkgcmV0dXJuICcnO1xyXG4gICAgcmV0dXJuIGRlY29kZVVSSUNvbXBvbmVudChyZXN1bHRzWzJdLnJlcGxhY2UoL1xcKy9nLCBcIiBcIikpO1xyXG59IiwiY29uc3QgYXhpb3MgPSByZXF1aXJlKFwiYXhpb3NcIik7XHJcblxyXG5jbGFzcyBQSmF4IHtcclxuXHJcbiAgICAvKipcclxuICAgICAqIFxyXG4gICAgICogY29uc3RydWN0b3JcclxuICAgICAqIFxyXG4gICAgICovXHJcblxyXG4gICAgY29uc3RydWN0b3Iod3JhcHBlckVsZW1JZCkge1xyXG5cclxuICAgICAgICB0aGlzLndyYXBwZXJFbGVtID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNcIiArIHdyYXBwZXJFbGVtSWQpO1xyXG5cclxuICAgICAgICAvLyBpZiB0aGUgdXNlciB1c2VzIHRoZSBiY2t3YXJkIHx8IGZvcndhcmQgYnRuIG9uIHRoZSBicm93c2VyXHJcblxyXG4gICAgICAgIHdpbmRvdy5vbnBvcHN0YXRlID0gKGUpID0+IHtcclxuICAgICAgICAgICAgdGhpcy5iYWNrT3JGb3J3YXJkKGUpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIFxyXG4gICAgICogQGRlc2NyaXB0aW9uIGFwcGVuZHMgYSBwYXJ0aWFsIHRvIHRoZSB3cmFwcGVyRWxlbVxyXG4gICAgICogXHJcbiAgICAgKiBAcGFyYW0ge1N0cmluZ30gdXJsIC0gdGhlIHVybCBvZiB0aGUgcGFydGlhbFxyXG4gICAgICogXHJcbiAgICAgKi9cclxuXHJcbiAgICBhcHBlbmRQYXJ0aWFsKHVybCkge1xyXG5cclxuICAgICAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xyXG5cclxuICAgICAgICAgICAgZG9jdW1lbnQuZGlzcGF0Y2hFdmVudChuZXcgRXZlbnQoXCJwamF4OnN0YXJ0XCIpKTtcclxuXHJcbiAgICAgICAgICAgIC8vIGxldCdzIGZhZGUgb3V0IGN1cnJlbnQgY29udGVudFxyXG4gICAgICAgICAgICBjb25zb2xlLmxvZyh3aW5kb3cubG9jYXRpb24ub3JpZ2luICsgdXJsKVxyXG4gICAgICAgICAgICAkJChcIi5wamF4RmFkZUl0ZW1cIikuc3R5bGUub3BhY2l0eSA9IDA7XHJcblxyXG4gICAgICAgICAgICBzZXRUaW1lb3V0KCgpPT57XHJcbiAgICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgICAgIGF4aW9zLmdldCh3aW5kb3cubG9jYXRpb24ub3JpZ2luICsgdXJsLCB7XHJcbiAgICAgICAgICAgICAgICAgICAgaGVhZGVyczoge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAnWC1wamF4JzogJ3RydWUnXHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfSkudGhlbigocmVzdWx0KSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy53cmFwcGVyRWxlbS5pbm5lckhUTUwgPSByZXN1bHQuZGF0YTtcclxuICAgICAgICAgICAgICAgICAgICAvLyBleGVjdXRlIHNjcmlwdHNcclxuICAgICAgICAgICAgICAgICAgICBsZXQgY29kZXMgPSB0aGlzLndyYXBwZXJFbGVtLmdldEVsZW1lbnRzQnlUYWdOYW1lKFwic2NyaXB0XCIpO1xyXG4gICAgICAgICAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgY29kZXMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZXZhbChjb2Rlc1tpXS50ZXh0KTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoKCk9PntcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIGxldCdzIGZhZGUgaW4gY29udGVudFxyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgJCQoXCIucGpheEZhZGVJdGVtXCIpLnN0eWxlLm9wYWNpdHkgPSAxO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gRG9uZTspXHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXNvbHZlKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAgICAgICAgIH0sNTAwKVxyXG5cclxuICAgICAgICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgICAgIH0pXHJcblxyXG4gICAgICAgICAgICB9LDUwMClcclxuXHJcbiAgICAgICAgICAgIFxyXG5cclxuICAgICAgICAgICAgZG9jdW1lbnQuZGlzcGF0Y2hFdmVudChuZXcgRXZlbnQoXCJwamF4OmVuZFwiKSk7XHJcblxyXG4gICAgICAgIH0pXHJcblxyXG5cclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIFxyXG4gICAgICogQGRlc2NyaXB0aW9uIHB1c2ggc3RhdGUgdGhlIHVybFxyXG4gICAgICogXHJcbiAgICAgKiBAcGFyYW0ge1N0cmluZ30gdXJsIC0gdGhlIHVybCBvZiB0aGUgcGFnZVxyXG4gICAgICogXHJcbiAgICAgKiBAcGFyYW0ge1N0cmluZ30gdGl0bGUgLSB0aGUgdGl0bGUgb2YgdGhlIHBhZ2VcclxuICAgICAqIFxyXG4gICAgICovXHJcblxyXG4gICAgbmF2aWdhdGUodXJsLCB0aXRsZSkge1xyXG4gICAgICAgIGhpc3RvcnkucHVzaFN0YXRlKHt9LCB0aXRsZSwgd2luZG93LmxvY2F0aW9uLm9yaWdpbiArIFwiL1wiICsgdXJsKTtcclxuICAgICAgICBkb2N1bWVudC50aXRsZSA9IHRpdGxlO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogXHJcbiAgICAgKiBAZGVzY3JpcHRpb24gZ29lcyBiYWNrd2FyZCBvciBmb3J3YXJkKGRlcGVuZGluZyBvbiB0aGUgdXNlcidzIGFjdGlvbilcclxuICAgICAqIFxyXG4gICAgICogQHBhcmFtIHtFdmVudH0gZVxyXG4gICAgICogXHJcbiAgICAgKi9cclxuXHJcbiAgICBiYWNrT3JGb3J3YXJkKGUpIHtcclxuXHJcbiAgICAgICAgaWYgKC9cXC9ldmFsdWF0ZS9pLnRlc3QoZS5wYXRoWzBdLmxvY2F0aW9uLnBhdGhuYW1lKSkgeyAvLyBpZiB0aGUgcmVzdWx0IHBhZ2UgaXMgcmVxdWVzdGVkXHJcbiAgICAgICAgICAgIHdpbmRvdy5sb2NhdGlvbi5yZWxvYWQoKTtcclxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgdGhpcy5hcHBlbmRQYXJ0aWFsKGUucGF0aFswXS5sb2NhdGlvbi5wYXRobmFtZSlcclxuICAgIH1cclxuXHJcbn1cclxuXHJcbm1vZHVsZS5leHBvcnRzID0gUEpheDsiLCJjbGFzcyBMb2FkaW5ne1xyXG5cclxuICAgIHNob3dMb2FkaW5nKCl7XHJcblxyXG4gICAgICAgIHRoaXMubG9hZGluZ0VsZW0gPSB0aGlzLl9jcmVhdGVMb2FkaW5nKCk7XHJcblxyXG4gICAgICAgIHRoaXMubG9hZGluZ0ludGVydmFsID0gc2V0SW50ZXJ2YWwoKCk9PntcclxuICAgICAgICAgICAgdGhpcy5fcHJvZ3Jlc3MoKTtcclxuICAgICAgICB9LDEwMDApXHJcblxyXG4gICAgfVxyXG5cclxuICAgIGhpZGVMb2FkaW5nKCl7XHJcblxyXG4gICAgICAgIGNsZWFySW50ZXJ2YWwodGhpcy5sb2FkaW5nSW50ZXJ2YWwpO1xyXG5cclxuICAgICAgICB0aGlzLmxvYWRpbmdFbGVtLnN0eWxlLndpZHRoID0gXCIxMDAlXCI7XHJcblxyXG4gICAgICAgIHNldFRpbWVvdXQodGhpcy5fZGlzdHJ1Y3RMb2FkaW5nLDUwMCk7XHJcblxyXG5cclxuICAgIH1cclxuXHJcbiAgICBfY3JlYXRlTG9hZGluZygpe1xyXG4gICAgICAgIGxldCBkaXYgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpXHJcbiAgICAgICAgZGl2LnNldEF0dHJpYnV0ZShcImlkXCIsXCJucHJvZ3Jlc3NcIik7XHJcbiAgICAgICAgZGl2LnN0eWxlLndpZHRoID0gXCIwJVwiO1xyXG4gICAgICAgIGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQoZGl2KTtcclxuICAgICAgICByZXR1cm4gZGl2O1xyXG4gICAgfVxyXG5cclxuICAgIF9kaXN0cnVjdExvYWRpbmcoKXtcclxuICAgICAgICBkb2N1bWVudC5ib2R5LnJlbW92ZUNoaWxkKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjbnByb2dyZXNzXCIpKTtcclxuICAgIH1cclxuXHJcbiAgICBfcHJvZ3Jlc3MoKXtcclxuICAgICAgICBpZihwYXJzZUludCh0aGlzLmxvYWRpbmdFbGVtLnN0eWxlLndpZHRoKSA+PSA5NSl7XHJcbiAgICAgICAgICAgIGNsZWFySW50ZXJ2YWwodGhpcy5sb2FkaW5nSW50ZXJ2YWwpXHJcbiAgICAgICAgfWVsc2V7XHJcbiAgICAgICAgICAgIHRoaXMubG9hZGluZ0VsZW0uc3R5bGUud2lkdGggPSBwYXJzZUludCh0aGlzLmxvYWRpbmdFbGVtLnN0eWxlLndpZHRoKSArIDUgKyBcIiVcIjtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG59XHJcblxyXG5tb2R1bGUuZXhwb3J0cyA9IExvYWRpbmc7IiwiY29uc3QgYXhpb3MgPSByZXF1aXJlKCdheGlvcycpO1xyXG5cclxuY29uc3QgUEpheCA9IHJlcXVpcmUoJy4vUEpheCcpO1xyXG5cclxuY2xhc3MgVGVzdCB7XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBcclxuICAgICAqIGNvbnN0cnV0b3JcclxuICAgICAqIFxyXG4gICAgICovXHJcblxyXG4gICAgY29uc3RydWN0b3IoKSB7XHJcbiAgICAgICAgdGhpcy5wamF4ID0gbmV3IFBKYXgoJ3dyYXBwZXInKTtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIFxyXG4gICAgICogQGRlc2NyaXB0aW9uIGxpc3RlbnMgb24gdGhlIHNlYXJjaCBidXR0b24gY2xpY2sgZXZlbnRcclxuICAgICAqIFxyXG4gICAgICovXHJcblxyXG4gICAgaW5pdGlhdGVFdmVudHMoKSB7XHJcblxyXG4gICAgICAgIC8vIG9uY2xpY2sgc2VhcmNoIEJ1dHRvblxyXG5cclxuICAgICAgICBsZXQgc2VhcmNoQnRuID0gJCQoJyNzZWFyY2hCb3hDb250PmRpdicpO1xyXG5cclxuICAgICAgICBkb2N1bWVudC5vbmtleWRvd24gPSAoZSkgPT4ge1xyXG4gICAgICAgICAgICBpZiAoZS5rZXkudG9Mb2NhbGVMb3dlckNhc2UoKSA9PSAnZW50ZXInKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnByb2Nlc3NFdmFsdWF0aW9uKCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHNlYXJjaEJ0bi5vbmNsaWNrID0gKCkgPT4ge1xyXG5cclxuICAgICAgICAgICAgdGhpcy5wcm9jZXNzRXZhbHVhdGlvbigpO1xyXG5cclxuICAgICAgICB9XHJcblxyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogXHJcbiAgICAgKiBAZGVzY3JpcHRpb24gcHJvY2Vzc2VzIHRoZSBwcm9jZXNzIG9mIGV2YWx1YXRpb25cclxuICAgICAqIFxyXG4gICAgICovXHJcblxyXG4gICAgcHJvY2Vzc0V2YWx1YXRpb24oKSB7XHJcbiAgICAgICAgLy8gTGV0J3MgdmFsaWRhdGUgdGhlIHVybFxyXG5cclxuICAgICAgICBsZXQgcmVwb3NpdG9yeVVybCA9ICQkKCcjc2VhcmNoQm94Q29udD5pbnB1dFt0eXBlPXNlYXJjaF0nKS52YWx1ZTtcclxuXHJcbiAgICAgICAgbGV0IHJlcG9zaXRvcnlVcmxSZWdleCA9IC9eKD86aHR0cHxodHRwcyk6XFwvXFwvZ2l0aHViXFwuY29tXFwvKFtcXHctLl0rPylcXC8oW1xcdy0uXSs/KSg/OlxcLmdpdHwpJC9pO1xyXG5cclxuICAgICAgICBpZiAoIXJlcG9zaXRvcnlVcmwgfHwgIXJlcG9zaXRvcnlVcmxSZWdleC50ZXN0KHJlcG9zaXRvcnlVcmwpKSB7XHJcblxyXG4gICAgICAgICAgICAvL2Vycm9yIC0+IGludmFsaWQgdXJsXHJcblxyXG4gICAgICAgICAgICBTbmFja2Jhci5zaG93KHt0ZXh0OiAnVVJMIGlzIGludmFsaWQhJyxhY3Rpb25UZXh0Q29sb3I6ICcjZmVjMTBiJ30pOyBcclxuXHJcbiAgICAgICAgICAgIHJldHVybjtcclxuXHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBsZXQgcmVnUmVzdWx0ID0gcmVwb3NpdG9yeVVybFJlZ2V4LmV4ZWMocmVwb3NpdG9yeVVybCk7XHJcblxyXG4gICAgICAgIGxldCByZXBvc2l0b3J5TmFtZSA9IHJlZ1Jlc3VsdFsyXTtcclxuXHJcbiAgICAgICAgbGV0IHNlYXJjaEJ0biA9ICQkKCcjc2VhcmNoQm94Q29udD5kaXYnKTtcclxuXHJcbiAgICAgICAgc2VhcmNoQnRuLnN0eWxlLm9wYWNpdHkgPSAwLjU7XHJcbiAgICAgICAgc2VhcmNoQnRuLnN0eWxlLnBvaW50ZXJFdmVudHMgPSAnbm9uZSc7XHJcbiAgICAgICAgc2VhcmNoQnRuLnF1ZXJ5U2VsZWN0b3IoJ2knKS5jbGFzc0xpc3QuYWRkKCdsb2FkaW5nJyk7XHJcblxyXG4gICAgICAgIHRoaXMuZXZhbHVhdGUocmVwb3NpdG9yeVVybCkudGhlbigocmVzdWx0KSA9PiB7XHJcblxyXG4gICAgICAgICAgICBpZihyZXN1bHQuaGFzT3duUHJvcGVydHkoXCJlcnJvclwiKSl7XHJcbiAgICAgICAgICAgICAgICBTbmFja2Jhci5zaG93KHt0ZXh0OiAnUmVwb3NpdG9yeSBub3QgZm91bmQhJyxhY3Rpb25UZXh0Q29sb3I6ICcjZmVjMTBiJ30pO1xyXG4gICAgICAgICAgICAgICAgc2VhcmNoQnRuLnF1ZXJ5U2VsZWN0b3IoJ2knKS5jbGFzc0xpc3QucmVtb3ZlKCdsb2FkaW5nJyk7XHJcbiAgICAgICAgICAgICAgICBzZWFyY2hCdG4uc3R5bGUub3BhY2l0eSA9IDE7XHJcbiAgICAgICAgICAgICAgICBzZWFyY2hCdG4uc3R5bGUucG9pbnRlckV2ZW50cyA9ICdhdXRvJztcclxuICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgdGhpcy5wamF4Lm5hdmlnYXRlKCdldmFsdWF0ZT91cmw9JyArIHJlcG9zaXRvcnlVcmwsICdIT1BFIHwgUmVzdWx0IG9mICcgKyByZXBvc2l0b3J5TmFtZSk7XHJcblxyXG4gICAgICAgICAgICB0aGlzLnBqYXguYXBwZW5kUGFydGlhbCgnL2V2YWx1YXRlP3VybD0nICsgcmVwb3NpdG9yeVVybCkudGhlbigoKSA9PiB7XHJcblxyXG4gICAgICAgICAgICAgICAgcmVzdWx0LnJlcG9zaXRvcnlVcmwgPSByZXBvc2l0b3J5VXJsO1xyXG5cclxuICAgICAgICAgICAgICAgIHRoaXMuYXBwZW5kUmVzdWx0KHJlc3VsdCk7XHJcblxyXG4gICAgICAgICAgICB9KTtcclxuXHJcblxyXG4gICAgICAgIH0pXHJcblxyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogXHJcbiAgICAgKiBAZGVzY3JpcHRpb24gc2VuZCBhIHJlcXVlc3QgdG8gc2VydmVyIHRvIGV2YWx1YXRlIHRoZSByZXBvc2l0b3J5XHJcbiAgICAgKiBcclxuICAgICAqIEBwYXJhbSB7U3RyaW5nfSB1cmwgLSByZXBvc2l0b3J5VXJsXHJcbiAgICAgKiBcclxuICAgICAqL1xyXG5cclxuICAgIGV2YWx1YXRlKHVybCkge1xyXG5cclxuICAgICAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUscmVqZWN0KSA9PiB7XHJcblxyXG4gICAgICAgICAgICBheGlvcy5wb3N0KHdpbmRvdy5sb2NhdGlvbi5vcmlnaW4gKyAnL2FwaS9ldmFsdWF0ZScsIHtcclxuICAgICAgICAgICAgICAgIHJlcG9zaXRvcnlVcmw6IHVybFxyXG4gICAgICAgICAgICB9LCB7XHJcbiAgICAgICAgICAgICAgICBoZWFkZXJzOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJ1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KS50aGVuKChyZXN1bHQpID0+IHtcclxuXHJcbiAgICAgICAgICAgICAgICByZXNvbHZlKHJlc3VsdC5kYXRhKTtcclxuXHJcbiAgICAgICAgICAgIH0pLmNhdGNoKHJlamVjdClcclxuICAgICAgICB9KVxyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogXHJcbiAgICAgKiBcclxuICAgICAqIFxyXG4gICAgICovXHJcblxyXG4gICAgYXBwZW5kUmVzdWx0KGRhdGEpIHtcclxuXHJcbiAgICAgICAgLy8gY2hhbmdlIHRleHQgb2YgdGhlIHNlYXJjaCBiYXJcclxuXHJcbiAgICAgICAgJCQoJyNzZWFyY2hCb3hDb250PmlucHV0JykudmFsdWUgPSBkYXRhLnJlcG9zaXRvcnlVcmw7XHJcblxyXG4gICAgICAgIC8vIGNoYW5nZSBzY29yZSBwcm9wc1xyXG5cclxuICAgICAgICAkJCgnI3Njb3JlVGV4dCcpLmlubmVyVGV4dCA9IGRhdGEuc2NvcmVUZXh0O1xyXG5cclxuICAgICAgICAkJCgnI3Njb3JlJykuaW5uZXJUZXh0ID0gZGF0YS5xdWFsaXR5O1xyXG5cclxuICAgICAgICAkJCgnI3Njb3JlJykuY2xhc3NMaXN0ID0gZGF0YS5zY29yZUNvbG9yO1xyXG5cclxuICAgICAgICAkJCgnI3Njb3JlVGV4dCcpLmNsYXNzTGlzdCA9IGRhdGEuc2NvcmVDb2xvcjtcclxuXHJcbiAgICAgICAgLy8gaGlkZSBzY29yZSBzZWN0aW9uIGxvYWRpbmdcclxuXHJcbiAgICAgICAgJCQoJy5yZXN1bHRTaWRlOmZpcnN0LW9mLXR5cGUgLmJsdXInKS5jbGFzc0xpc3QucmVtb3ZlKCdibHVyJyk7XHJcblxyXG4gICAgICAgICQkKCcucmVzdWx0U2lkZTpmaXJzdC1vZi10eXBlIC5sb2FkaW5nT3ZlcmxheScpLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7XHJcblxyXG4gICAgICAgIC8vIGxldCdzIGFkZCB0aXBzXHJcblxyXG4gICAgICAgIGZvciAobGV0IHRpcEdyb3VwIGluIGRhdGEucmVzdWx0cykge1xyXG4gICAgICAgICAgICBmb3IgKGxldCB0aXAgb2YgZGF0YS5yZXN1bHRzW3RpcEdyb3VwXSkge1xyXG5cclxuICAgICAgICAgICAgICAgIGxldCB0aXBDb250ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XHJcbiAgICAgICAgICAgICAgICB0aXBDb250LmNsYXNzTGlzdC5hZGQoJ3RpcCcpO1xyXG5cclxuICAgICAgICAgICAgICAgIGxldCBzdGF0dXMgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdpJyk7XHJcbiAgICAgICAgICAgICAgICBzdGF0dXMuY2xhc3NMaXN0LmFkZCgndGlwVHlwZScpO1xyXG4gICAgICAgICAgICAgICAgc3RhdHVzLmNsYXNzTGlzdC5hZGQodGlwLnR5cGUudG9Mb3dlckNhc2UoKSk7XHJcblxyXG4gICAgICAgICAgICAgICAgbGV0IGZpeEljb24gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdhJyk7XHJcbiAgICAgICAgICAgICAgICBmaXhJY29uLmhyZWYgPSAnIyc7XHJcbiAgICAgICAgICAgICAgICBmaXhJY29uLmNsYXNzTGlzdC5hZGQoJ3RpcEZpeCcpO1xyXG4gICAgICAgICAgICAgICAgZml4SWNvbi5zZXRBdHRyaWJ1dGUoXCJ0YXJnZXRcIixcIl9ibGFua1wiKTtcclxuICAgICAgICAgICAgICAgIC8vIGZpeEljb24uY2xhc3NMaXN0LmFkZCgnc29vbicpXHJcbiAgICAgICAgICAgICAgICBpZigvbGljZW5zZS9pLnRlc3QodGlwLmhlYWRpbmcpKXtcclxuICAgICAgICAgICAgICAgICAgICBmaXhJY29uLmhyZWYgPSAnL2FkdmlzZXInO1xyXG4gICAgICAgICAgICAgICAgfWVsc2V7XHJcbiAgICAgICAgICAgICAgICAgICAgZml4SWNvbi5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnXHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgbGV0IHRpcENvbnRlbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcclxuICAgICAgICAgICAgICAgIHRpcENvbnRlbnQuY2xhc3NMaXN0LmFkZCgndGlwQ29udGVudCcpO1xyXG5cclxuICAgICAgICAgICAgICAgIGxldCB0aXBIZWFkaW5nID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XHJcbiAgICAgICAgICAgICAgICB0aXBIZWFkaW5nLmNsYXNzTGlzdC5hZGQoJ3RpcEhlYWRpbmcnKTtcclxuICAgICAgICAgICAgICAgIHRpcEhlYWRpbmcudGV4dENvbnRlbnQgPSB0aXAuaGVhZGluZztcclxuXHJcbiAgICAgICAgICAgICAgICBsZXQgdGlwSGVscCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2EnKTtcclxuICAgICAgICAgICAgICAgIHRpcEhlbHAuaHJlZiA9ICcjJztcclxuICAgICAgICAgICAgICAgIHRpcEhlbHAuY2xhc3NMaXN0LmFkZCgndGlwSGVscCcpO1xyXG5cclxuICAgICAgICAgICAgICAgIGxldCB0aXBUZXh0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XHJcbiAgICAgICAgICAgICAgICB0aXBUZXh0LmNsYXNzTGlzdC5hZGQoJ3RpcFRleHQnKTtcclxuICAgICAgICAgICAgICAgIHRpcFRleHQudGV4dENvbnRlbnQgPSB0aXAubWVzc2FnZTtcclxuXHJcbiAgICAgICAgICAgICAgICAvLyBhcHBlbmRpbmdcclxuXHJcbiAgICAgICAgICAgICAgICB0aXBDb250ZW50LmFwcGVuZENoaWxkKHRpcEhlYWRpbmcpO1xyXG4gICAgICAgICAgICAgICAgdGlwSGVhZGluZy5hcHBlbmRDaGlsZCh0aXBIZWxwKTtcclxuICAgICAgICAgICAgICAgIHRpcENvbnRlbnQuYXBwZW5kQ2hpbGQodGlwVGV4dCk7XHJcblxyXG4gICAgICAgICAgICAgICAgdGlwQ29udC5hcHBlbmRDaGlsZChzdGF0dXMpO1xyXG4gICAgICAgICAgICAgICAgdGlwQ29udC5hcHBlbmRDaGlsZCh0aXBDb250ZW50KTtcclxuICAgICAgICAgICAgICAgIHRpcENvbnQuYXBwZW5kQ2hpbGQoZml4SWNvbik7XHJcblxyXG4gICAgICAgICAgICAgICAgbGV0IGZhdGhlciA9ICQkKCcjdGlwc1NsaWRlQ29udCcpXHJcbiAgICAgICAgICAgICAgICBmYXRoZXIuYXBwZW5kQ2hpbGQodGlwQ29udClcclxuXHJcbiAgICAgICAgICAgIH1cclxuXHJcblxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8gaGlkZUxvYWRpbmdcclxuXHJcbiAgICAgICAgJCQoJyN0aXBzQ29udC5ibHVyJykuY2xhc3NMaXN0LnJlbW92ZSgnYmx1cicpO1xyXG5cclxuICAgICAgICAkJCgnLnJlc3VsdFNpZGU6bGFzdC1vZi10eXBlIC5sb2FkaW5nT3ZlcmxheScpLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7XHJcblxyXG4gICAgICAgICQkKCcucmVzdWx0U2lkZTpsYXN0LW9mLXR5cGUgLmJsdXInKS5jbGFzc0xpc3QucmVtb3ZlKCdibHVyJyk7XHJcbiAgICAgICAgLy8gc2V0IG5hbWUgb2YgdGhlIHJlcG9zaXRvcnlcclxuXHJcbiAgICAgICAgbGV0IHJlcG9zaXRvcnlOYW1lID0gZGF0YS5yZXBvc2l0b3J5VXJsLnNwbGl0KCcvJykucG9wKCk7XHJcblxyXG4gICAgICAgIC8vIGlmIC5naXQgdXJsXHJcblxyXG4gICAgICAgIGlmICgvXiguKylcXC5naXQkL2kudGVzdChyZXBvc2l0b3J5TmFtZSkpIHtcclxuICAgICAgICAgICAgcmVwb3NpdG9yeU5hbWUgPSAvXiguKylcXC5naXQkL2kuZXhlYyhyZXBvc2l0b3J5TmFtZSlbMV07XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAkJCgnI3Njb3JlUmVzdWx0Q29udD5kaXY6Zmlyc3Qtb2YtdHlwZT5zcGFuLmhpZ2hsaWdodCcpLnRleHRDb250ZW50ID0gcmVwb3NpdG9yeU5hbWU7XHJcblxyXG4gICAgICAgICQkKCcucmVzdWx0U2lkZTpudGgtb2YtdHlwZSgyKT5oMj5zcGFuLmhpZ2hsaWdodCcpLnRleHRDb250ZW50ID0gcmVwb3NpdG9yeU5hbWU7XHJcblxyXG4gICAgfVxyXG5cclxuXHJcblxyXG59XHJcblxyXG5tb2R1bGUuZXhwb3J0cyA9IFRlc3Q7IiwibW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKCcuL2xpYi9heGlvcycpOyIsIid1c2Ugc3RyaWN0JztcblxudmFyIHV0aWxzID0gcmVxdWlyZSgnLi8uLi91dGlscycpO1xudmFyIHNldHRsZSA9IHJlcXVpcmUoJy4vLi4vY29yZS9zZXR0bGUnKTtcbnZhciBidWlsZFVSTCA9IHJlcXVpcmUoJy4vLi4vaGVscGVycy9idWlsZFVSTCcpO1xudmFyIHBhcnNlSGVhZGVycyA9IHJlcXVpcmUoJy4vLi4vaGVscGVycy9wYXJzZUhlYWRlcnMnKTtcbnZhciBpc1VSTFNhbWVPcmlnaW4gPSByZXF1aXJlKCcuLy4uL2hlbHBlcnMvaXNVUkxTYW1lT3JpZ2luJyk7XG52YXIgY3JlYXRlRXJyb3IgPSByZXF1aXJlKCcuLi9jb3JlL2NyZWF0ZUVycm9yJyk7XG52YXIgYnRvYSA9ICh0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJyAmJiB3aW5kb3cuYnRvYSAmJiB3aW5kb3cuYnRvYS5iaW5kKHdpbmRvdykpIHx8IHJlcXVpcmUoJy4vLi4vaGVscGVycy9idG9hJyk7XG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24geGhyQWRhcHRlcihjb25maWcpIHtcbiAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uIGRpc3BhdGNoWGhyUmVxdWVzdChyZXNvbHZlLCByZWplY3QpIHtcbiAgICB2YXIgcmVxdWVzdERhdGEgPSBjb25maWcuZGF0YTtcbiAgICB2YXIgcmVxdWVzdEhlYWRlcnMgPSBjb25maWcuaGVhZGVycztcblxuICAgIGlmICh1dGlscy5pc0Zvcm1EYXRhKHJlcXVlc3REYXRhKSkge1xuICAgICAgZGVsZXRlIHJlcXVlc3RIZWFkZXJzWydDb250ZW50LVR5cGUnXTsgLy8gTGV0IHRoZSBicm93c2VyIHNldCBpdFxuICAgIH1cblxuICAgIHZhciByZXF1ZXN0ID0gbmV3IFhNTEh0dHBSZXF1ZXN0KCk7XG4gICAgdmFyIGxvYWRFdmVudCA9ICdvbnJlYWR5c3RhdGVjaGFuZ2UnO1xuICAgIHZhciB4RG9tYWluID0gZmFsc2U7XG5cbiAgICAvLyBGb3IgSUUgOC85IENPUlMgc3VwcG9ydFxuICAgIC8vIE9ubHkgc3VwcG9ydHMgUE9TVCBhbmQgR0VUIGNhbGxzIGFuZCBkb2Vzbid0IHJldHVybnMgdGhlIHJlc3BvbnNlIGhlYWRlcnMuXG4gICAgLy8gRE9OJ1QgZG8gdGhpcyBmb3IgdGVzdGluZyBiL2MgWE1MSHR0cFJlcXVlc3QgaXMgbW9ja2VkLCBub3QgWERvbWFpblJlcXVlc3QuXG4gICAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAndGVzdCcgJiZcbiAgICAgICAgdHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcgJiZcbiAgICAgICAgd2luZG93LlhEb21haW5SZXF1ZXN0ICYmICEoJ3dpdGhDcmVkZW50aWFscycgaW4gcmVxdWVzdCkgJiZcbiAgICAgICAgIWlzVVJMU2FtZU9yaWdpbihjb25maWcudXJsKSkge1xuICAgICAgcmVxdWVzdCA9IG5ldyB3aW5kb3cuWERvbWFpblJlcXVlc3QoKTtcbiAgICAgIGxvYWRFdmVudCA9ICdvbmxvYWQnO1xuICAgICAgeERvbWFpbiA9IHRydWU7XG4gICAgICByZXF1ZXN0Lm9ucHJvZ3Jlc3MgPSBmdW5jdGlvbiBoYW5kbGVQcm9ncmVzcygpIHt9O1xuICAgICAgcmVxdWVzdC5vbnRpbWVvdXQgPSBmdW5jdGlvbiBoYW5kbGVUaW1lb3V0KCkge307XG4gICAgfVxuXG4gICAgLy8gSFRUUCBiYXNpYyBhdXRoZW50aWNhdGlvblxuICAgIGlmIChjb25maWcuYXV0aCkge1xuICAgICAgdmFyIHVzZXJuYW1lID0gY29uZmlnLmF1dGgudXNlcm5hbWUgfHwgJyc7XG4gICAgICB2YXIgcGFzc3dvcmQgPSBjb25maWcuYXV0aC5wYXNzd29yZCB8fCAnJztcbiAgICAgIHJlcXVlc3RIZWFkZXJzLkF1dGhvcml6YXRpb24gPSAnQmFzaWMgJyArIGJ0b2EodXNlcm5hbWUgKyAnOicgKyBwYXNzd29yZCk7XG4gICAgfVxuXG4gICAgcmVxdWVzdC5vcGVuKGNvbmZpZy5tZXRob2QudG9VcHBlckNhc2UoKSwgYnVpbGRVUkwoY29uZmlnLnVybCwgY29uZmlnLnBhcmFtcywgY29uZmlnLnBhcmFtc1NlcmlhbGl6ZXIpLCB0cnVlKTtcblxuICAgIC8vIFNldCB0aGUgcmVxdWVzdCB0aW1lb3V0IGluIE1TXG4gICAgcmVxdWVzdC50aW1lb3V0ID0gY29uZmlnLnRpbWVvdXQ7XG5cbiAgICAvLyBMaXN0ZW4gZm9yIHJlYWR5IHN0YXRlXG4gICAgcmVxdWVzdFtsb2FkRXZlbnRdID0gZnVuY3Rpb24gaGFuZGxlTG9hZCgpIHtcbiAgICAgIGlmICghcmVxdWVzdCB8fCAocmVxdWVzdC5yZWFkeVN0YXRlICE9PSA0ICYmICF4RG9tYWluKSkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIC8vIFRoZSByZXF1ZXN0IGVycm9yZWQgb3V0IGFuZCB3ZSBkaWRuJ3QgZ2V0IGEgcmVzcG9uc2UsIHRoaXMgd2lsbCBiZVxuICAgICAgLy8gaGFuZGxlZCBieSBvbmVycm9yIGluc3RlYWRcbiAgICAgIC8vIFdpdGggb25lIGV4Y2VwdGlvbjogcmVxdWVzdCB0aGF0IHVzaW5nIGZpbGU6IHByb3RvY29sLCBtb3N0IGJyb3dzZXJzXG4gICAgICAvLyB3aWxsIHJldHVybiBzdGF0dXMgYXMgMCBldmVuIHRob3VnaCBpdCdzIGEgc3VjY2Vzc2Z1bCByZXF1ZXN0XG4gICAgICBpZiAocmVxdWVzdC5zdGF0dXMgPT09IDAgJiYgIShyZXF1ZXN0LnJlc3BvbnNlVVJMICYmIHJlcXVlc3QucmVzcG9uc2VVUkwuaW5kZXhPZignZmlsZTonKSA9PT0gMCkpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICAvLyBQcmVwYXJlIHRoZSByZXNwb25zZVxuICAgICAgdmFyIHJlc3BvbnNlSGVhZGVycyA9ICdnZXRBbGxSZXNwb25zZUhlYWRlcnMnIGluIHJlcXVlc3QgPyBwYXJzZUhlYWRlcnMocmVxdWVzdC5nZXRBbGxSZXNwb25zZUhlYWRlcnMoKSkgOiBudWxsO1xuICAgICAgdmFyIHJlc3BvbnNlRGF0YSA9ICFjb25maWcucmVzcG9uc2VUeXBlIHx8IGNvbmZpZy5yZXNwb25zZVR5cGUgPT09ICd0ZXh0JyA/IHJlcXVlc3QucmVzcG9uc2VUZXh0IDogcmVxdWVzdC5yZXNwb25zZTtcbiAgICAgIHZhciByZXNwb25zZSA9IHtcbiAgICAgICAgZGF0YTogcmVzcG9uc2VEYXRhLFxuICAgICAgICAvLyBJRSBzZW5kcyAxMjIzIGluc3RlYWQgb2YgMjA0IChodHRwczovL2dpdGh1Yi5jb20vYXhpb3MvYXhpb3MvaXNzdWVzLzIwMSlcbiAgICAgICAgc3RhdHVzOiByZXF1ZXN0LnN0YXR1cyA9PT0gMTIyMyA/IDIwNCA6IHJlcXVlc3Quc3RhdHVzLFxuICAgICAgICBzdGF0dXNUZXh0OiByZXF1ZXN0LnN0YXR1cyA9PT0gMTIyMyA/ICdObyBDb250ZW50JyA6IHJlcXVlc3Quc3RhdHVzVGV4dCxcbiAgICAgICAgaGVhZGVyczogcmVzcG9uc2VIZWFkZXJzLFxuICAgICAgICBjb25maWc6IGNvbmZpZyxcbiAgICAgICAgcmVxdWVzdDogcmVxdWVzdFxuICAgICAgfTtcblxuICAgICAgc2V0dGxlKHJlc29sdmUsIHJlamVjdCwgcmVzcG9uc2UpO1xuXG4gICAgICAvLyBDbGVhbiB1cCByZXF1ZXN0XG4gICAgICByZXF1ZXN0ID0gbnVsbDtcbiAgICB9O1xuXG4gICAgLy8gSGFuZGxlIGxvdyBsZXZlbCBuZXR3b3JrIGVycm9yc1xuICAgIHJlcXVlc3Qub25lcnJvciA9IGZ1bmN0aW9uIGhhbmRsZUVycm9yKCkge1xuICAgICAgLy8gUmVhbCBlcnJvcnMgYXJlIGhpZGRlbiBmcm9tIHVzIGJ5IHRoZSBicm93c2VyXG4gICAgICAvLyBvbmVycm9yIHNob3VsZCBvbmx5IGZpcmUgaWYgaXQncyBhIG5ldHdvcmsgZXJyb3JcbiAgICAgIHJlamVjdChjcmVhdGVFcnJvcignTmV0d29yayBFcnJvcicsIGNvbmZpZywgbnVsbCwgcmVxdWVzdCkpO1xuXG4gICAgICAvLyBDbGVhbiB1cCByZXF1ZXN0XG4gICAgICByZXF1ZXN0ID0gbnVsbDtcbiAgICB9O1xuXG4gICAgLy8gSGFuZGxlIHRpbWVvdXRcbiAgICByZXF1ZXN0Lm9udGltZW91dCA9IGZ1bmN0aW9uIGhhbmRsZVRpbWVvdXQoKSB7XG4gICAgICByZWplY3QoY3JlYXRlRXJyb3IoJ3RpbWVvdXQgb2YgJyArIGNvbmZpZy50aW1lb3V0ICsgJ21zIGV4Y2VlZGVkJywgY29uZmlnLCAnRUNPTk5BQk9SVEVEJyxcbiAgICAgICAgcmVxdWVzdCkpO1xuXG4gICAgICAvLyBDbGVhbiB1cCByZXF1ZXN0XG4gICAgICByZXF1ZXN0ID0gbnVsbDtcbiAgICB9O1xuXG4gICAgLy8gQWRkIHhzcmYgaGVhZGVyXG4gICAgLy8gVGhpcyBpcyBvbmx5IGRvbmUgaWYgcnVubmluZyBpbiBhIHN0YW5kYXJkIGJyb3dzZXIgZW52aXJvbm1lbnQuXG4gICAgLy8gU3BlY2lmaWNhbGx5IG5vdCBpZiB3ZSdyZSBpbiBhIHdlYiB3b3JrZXIsIG9yIHJlYWN0LW5hdGl2ZS5cbiAgICBpZiAodXRpbHMuaXNTdGFuZGFyZEJyb3dzZXJFbnYoKSkge1xuICAgICAgdmFyIGNvb2tpZXMgPSByZXF1aXJlKCcuLy4uL2hlbHBlcnMvY29va2llcycpO1xuXG4gICAgICAvLyBBZGQgeHNyZiBoZWFkZXJcbiAgICAgIHZhciB4c3JmVmFsdWUgPSAoY29uZmlnLndpdGhDcmVkZW50aWFscyB8fCBpc1VSTFNhbWVPcmlnaW4oY29uZmlnLnVybCkpICYmIGNvbmZpZy54c3JmQ29va2llTmFtZSA/XG4gICAgICAgICAgY29va2llcy5yZWFkKGNvbmZpZy54c3JmQ29va2llTmFtZSkgOlxuICAgICAgICAgIHVuZGVmaW5lZDtcblxuICAgICAgaWYgKHhzcmZWYWx1ZSkge1xuICAgICAgICByZXF1ZXN0SGVhZGVyc1tjb25maWcueHNyZkhlYWRlck5hbWVdID0geHNyZlZhbHVlO1xuICAgICAgfVxuICAgIH1cblxuICAgIC8vIEFkZCBoZWFkZXJzIHRvIHRoZSByZXF1ZXN0XG4gICAgaWYgKCdzZXRSZXF1ZXN0SGVhZGVyJyBpbiByZXF1ZXN0KSB7XG4gICAgICB1dGlscy5mb3JFYWNoKHJlcXVlc3RIZWFkZXJzLCBmdW5jdGlvbiBzZXRSZXF1ZXN0SGVhZGVyKHZhbCwga2V5KSB7XG4gICAgICAgIGlmICh0eXBlb2YgcmVxdWVzdERhdGEgPT09ICd1bmRlZmluZWQnICYmIGtleS50b0xvd2VyQ2FzZSgpID09PSAnY29udGVudC10eXBlJykge1xuICAgICAgICAgIC8vIFJlbW92ZSBDb250ZW50LVR5cGUgaWYgZGF0YSBpcyB1bmRlZmluZWRcbiAgICAgICAgICBkZWxldGUgcmVxdWVzdEhlYWRlcnNba2V5XTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAvLyBPdGhlcndpc2UgYWRkIGhlYWRlciB0byB0aGUgcmVxdWVzdFxuICAgICAgICAgIHJlcXVlc3Quc2V0UmVxdWVzdEhlYWRlcihrZXksIHZhbCk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH1cblxuICAgIC8vIEFkZCB3aXRoQ3JlZGVudGlhbHMgdG8gcmVxdWVzdCBpZiBuZWVkZWRcbiAgICBpZiAoY29uZmlnLndpdGhDcmVkZW50aWFscykge1xuICAgICAgcmVxdWVzdC53aXRoQ3JlZGVudGlhbHMgPSB0cnVlO1xuICAgIH1cblxuICAgIC8vIEFkZCByZXNwb25zZVR5cGUgdG8gcmVxdWVzdCBpZiBuZWVkZWRcbiAgICBpZiAoY29uZmlnLnJlc3BvbnNlVHlwZSkge1xuICAgICAgdHJ5IHtcbiAgICAgICAgcmVxdWVzdC5yZXNwb25zZVR5cGUgPSBjb25maWcucmVzcG9uc2VUeXBlO1xuICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICAvLyBFeHBlY3RlZCBET01FeGNlcHRpb24gdGhyb3duIGJ5IGJyb3dzZXJzIG5vdCBjb21wYXRpYmxlIFhNTEh0dHBSZXF1ZXN0IExldmVsIDIuXG4gICAgICAgIC8vIEJ1dCwgdGhpcyBjYW4gYmUgc3VwcHJlc3NlZCBmb3IgJ2pzb24nIHR5cGUgYXMgaXQgY2FuIGJlIHBhcnNlZCBieSBkZWZhdWx0ICd0cmFuc2Zvcm1SZXNwb25zZScgZnVuY3Rpb24uXG4gICAgICAgIGlmIChjb25maWcucmVzcG9uc2VUeXBlICE9PSAnanNvbicpIHtcbiAgICAgICAgICB0aHJvdyBlO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgLy8gSGFuZGxlIHByb2dyZXNzIGlmIG5lZWRlZFxuICAgIGlmICh0eXBlb2YgY29uZmlnLm9uRG93bmxvYWRQcm9ncmVzcyA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgcmVxdWVzdC5hZGRFdmVudExpc3RlbmVyKCdwcm9ncmVzcycsIGNvbmZpZy5vbkRvd25sb2FkUHJvZ3Jlc3MpO1xuICAgIH1cblxuICAgIC8vIE5vdCBhbGwgYnJvd3NlcnMgc3VwcG9ydCB1cGxvYWQgZXZlbnRzXG4gICAgaWYgKHR5cGVvZiBjb25maWcub25VcGxvYWRQcm9ncmVzcyA9PT0gJ2Z1bmN0aW9uJyAmJiByZXF1ZXN0LnVwbG9hZCkge1xuICAgICAgcmVxdWVzdC51cGxvYWQuYWRkRXZlbnRMaXN0ZW5lcigncHJvZ3Jlc3MnLCBjb25maWcub25VcGxvYWRQcm9ncmVzcyk7XG4gICAgfVxuXG4gICAgaWYgKGNvbmZpZy5jYW5jZWxUb2tlbikge1xuICAgICAgLy8gSGFuZGxlIGNhbmNlbGxhdGlvblxuICAgICAgY29uZmlnLmNhbmNlbFRva2VuLnByb21pc2UudGhlbihmdW5jdGlvbiBvbkNhbmNlbGVkKGNhbmNlbCkge1xuICAgICAgICBpZiAoIXJlcXVlc3QpIHtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICByZXF1ZXN0LmFib3J0KCk7XG4gICAgICAgIHJlamVjdChjYW5jZWwpO1xuICAgICAgICAvLyBDbGVhbiB1cCByZXF1ZXN0XG4gICAgICAgIHJlcXVlc3QgPSBudWxsO1xuICAgICAgfSk7XG4gICAgfVxuXG4gICAgaWYgKHJlcXVlc3REYXRhID09PSB1bmRlZmluZWQpIHtcbiAgICAgIHJlcXVlc3REYXRhID0gbnVsbDtcbiAgICB9XG5cbiAgICAvLyBTZW5kIHRoZSByZXF1ZXN0XG4gICAgcmVxdWVzdC5zZW5kKHJlcXVlc3REYXRhKTtcbiAgfSk7XG59O1xuIiwiJ3VzZSBzdHJpY3QnO1xuXG52YXIgdXRpbHMgPSByZXF1aXJlKCcuL3V0aWxzJyk7XG52YXIgYmluZCA9IHJlcXVpcmUoJy4vaGVscGVycy9iaW5kJyk7XG52YXIgQXhpb3MgPSByZXF1aXJlKCcuL2NvcmUvQXhpb3MnKTtcbnZhciBkZWZhdWx0cyA9IHJlcXVpcmUoJy4vZGVmYXVsdHMnKTtcblxuLyoqXG4gKiBDcmVhdGUgYW4gaW5zdGFuY2Ugb2YgQXhpb3NcbiAqXG4gKiBAcGFyYW0ge09iamVjdH0gZGVmYXVsdENvbmZpZyBUaGUgZGVmYXVsdCBjb25maWcgZm9yIHRoZSBpbnN0YW5jZVxuICogQHJldHVybiB7QXhpb3N9IEEgbmV3IGluc3RhbmNlIG9mIEF4aW9zXG4gKi9cbmZ1bmN0aW9uIGNyZWF0ZUluc3RhbmNlKGRlZmF1bHRDb25maWcpIHtcbiAgdmFyIGNvbnRleHQgPSBuZXcgQXhpb3MoZGVmYXVsdENvbmZpZyk7XG4gIHZhciBpbnN0YW5jZSA9IGJpbmQoQXhpb3MucHJvdG90eXBlLnJlcXVlc3QsIGNvbnRleHQpO1xuXG4gIC8vIENvcHkgYXhpb3MucHJvdG90eXBlIHRvIGluc3RhbmNlXG4gIHV0aWxzLmV4dGVuZChpbnN0YW5jZSwgQXhpb3MucHJvdG90eXBlLCBjb250ZXh0KTtcblxuICAvLyBDb3B5IGNvbnRleHQgdG8gaW5zdGFuY2VcbiAgdXRpbHMuZXh0ZW5kKGluc3RhbmNlLCBjb250ZXh0KTtcblxuICByZXR1cm4gaW5zdGFuY2U7XG59XG5cbi8vIENyZWF0ZSB0aGUgZGVmYXVsdCBpbnN0YW5jZSB0byBiZSBleHBvcnRlZFxudmFyIGF4aW9zID0gY3JlYXRlSW5zdGFuY2UoZGVmYXVsdHMpO1xuXG4vLyBFeHBvc2UgQXhpb3MgY2xhc3MgdG8gYWxsb3cgY2xhc3MgaW5oZXJpdGFuY2VcbmF4aW9zLkF4aW9zID0gQXhpb3M7XG5cbi8vIEZhY3RvcnkgZm9yIGNyZWF0aW5nIG5ldyBpbnN0YW5jZXNcbmF4aW9zLmNyZWF0ZSA9IGZ1bmN0aW9uIGNyZWF0ZShpbnN0YW5jZUNvbmZpZykge1xuICByZXR1cm4gY3JlYXRlSW5zdGFuY2UodXRpbHMubWVyZ2UoZGVmYXVsdHMsIGluc3RhbmNlQ29uZmlnKSk7XG59O1xuXG4vLyBFeHBvc2UgQ2FuY2VsICYgQ2FuY2VsVG9rZW5cbmF4aW9zLkNhbmNlbCA9IHJlcXVpcmUoJy4vY2FuY2VsL0NhbmNlbCcpO1xuYXhpb3MuQ2FuY2VsVG9rZW4gPSByZXF1aXJlKCcuL2NhbmNlbC9DYW5jZWxUb2tlbicpO1xuYXhpb3MuaXNDYW5jZWwgPSByZXF1aXJlKCcuL2NhbmNlbC9pc0NhbmNlbCcpO1xuXG4vLyBFeHBvc2UgYWxsL3NwcmVhZFxuYXhpb3MuYWxsID0gZnVuY3Rpb24gYWxsKHByb21pc2VzKSB7XG4gIHJldHVybiBQcm9taXNlLmFsbChwcm9taXNlcyk7XG59O1xuYXhpb3Muc3ByZWFkID0gcmVxdWlyZSgnLi9oZWxwZXJzL3NwcmVhZCcpO1xuXG5tb2R1bGUuZXhwb3J0cyA9IGF4aW9zO1xuXG4vLyBBbGxvdyB1c2Ugb2YgZGVmYXVsdCBpbXBvcnQgc3ludGF4IGluIFR5cGVTY3JpcHRcbm1vZHVsZS5leHBvcnRzLmRlZmF1bHQgPSBheGlvcztcbiIsIid1c2Ugc3RyaWN0JztcblxuLyoqXG4gKiBBIGBDYW5jZWxgIGlzIGFuIG9iamVjdCB0aGF0IGlzIHRocm93biB3aGVuIGFuIG9wZXJhdGlvbiBpcyBjYW5jZWxlZC5cbiAqXG4gKiBAY2xhc3NcbiAqIEBwYXJhbSB7c3RyaW5nPX0gbWVzc2FnZSBUaGUgbWVzc2FnZS5cbiAqL1xuZnVuY3Rpb24gQ2FuY2VsKG1lc3NhZ2UpIHtcbiAgdGhpcy5tZXNzYWdlID0gbWVzc2FnZTtcbn1cblxuQ2FuY2VsLnByb3RvdHlwZS50b1N0cmluZyA9IGZ1bmN0aW9uIHRvU3RyaW5nKCkge1xuICByZXR1cm4gJ0NhbmNlbCcgKyAodGhpcy5tZXNzYWdlID8gJzogJyArIHRoaXMubWVzc2FnZSA6ICcnKTtcbn07XG5cbkNhbmNlbC5wcm90b3R5cGUuX19DQU5DRUxfXyA9IHRydWU7XG5cbm1vZHVsZS5leHBvcnRzID0gQ2FuY2VsO1xuIiwiJ3VzZSBzdHJpY3QnO1xuXG52YXIgQ2FuY2VsID0gcmVxdWlyZSgnLi9DYW5jZWwnKTtcblxuLyoqXG4gKiBBIGBDYW5jZWxUb2tlbmAgaXMgYW4gb2JqZWN0IHRoYXQgY2FuIGJlIHVzZWQgdG8gcmVxdWVzdCBjYW5jZWxsYXRpb24gb2YgYW4gb3BlcmF0aW9uLlxuICpcbiAqIEBjbGFzc1xuICogQHBhcmFtIHtGdW5jdGlvbn0gZXhlY3V0b3IgVGhlIGV4ZWN1dG9yIGZ1bmN0aW9uLlxuICovXG5mdW5jdGlvbiBDYW5jZWxUb2tlbihleGVjdXRvcikge1xuICBpZiAodHlwZW9mIGV4ZWN1dG9yICE9PSAnZnVuY3Rpb24nKSB7XG4gICAgdGhyb3cgbmV3IFR5cGVFcnJvcignZXhlY3V0b3IgbXVzdCBiZSBhIGZ1bmN0aW9uLicpO1xuICB9XG5cbiAgdmFyIHJlc29sdmVQcm9taXNlO1xuICB0aGlzLnByb21pc2UgPSBuZXcgUHJvbWlzZShmdW5jdGlvbiBwcm9taXNlRXhlY3V0b3IocmVzb2x2ZSkge1xuICAgIHJlc29sdmVQcm9taXNlID0gcmVzb2x2ZTtcbiAgfSk7XG5cbiAgdmFyIHRva2VuID0gdGhpcztcbiAgZXhlY3V0b3IoZnVuY3Rpb24gY2FuY2VsKG1lc3NhZ2UpIHtcbiAgICBpZiAodG9rZW4ucmVhc29uKSB7XG4gICAgICAvLyBDYW5jZWxsYXRpb24gaGFzIGFscmVhZHkgYmVlbiByZXF1ZXN0ZWRcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICB0b2tlbi5yZWFzb24gPSBuZXcgQ2FuY2VsKG1lc3NhZ2UpO1xuICAgIHJlc29sdmVQcm9taXNlKHRva2VuLnJlYXNvbik7XG4gIH0pO1xufVxuXG4vKipcbiAqIFRocm93cyBhIGBDYW5jZWxgIGlmIGNhbmNlbGxhdGlvbiBoYXMgYmVlbiByZXF1ZXN0ZWQuXG4gKi9cbkNhbmNlbFRva2VuLnByb3RvdHlwZS50aHJvd0lmUmVxdWVzdGVkID0gZnVuY3Rpb24gdGhyb3dJZlJlcXVlc3RlZCgpIHtcbiAgaWYgKHRoaXMucmVhc29uKSB7XG4gICAgdGhyb3cgdGhpcy5yZWFzb247XG4gIH1cbn07XG5cbi8qKlxuICogUmV0dXJucyBhbiBvYmplY3QgdGhhdCBjb250YWlucyBhIG5ldyBgQ2FuY2VsVG9rZW5gIGFuZCBhIGZ1bmN0aW9uIHRoYXQsIHdoZW4gY2FsbGVkLFxuICogY2FuY2VscyB0aGUgYENhbmNlbFRva2VuYC5cbiAqL1xuQ2FuY2VsVG9rZW4uc291cmNlID0gZnVuY3Rpb24gc291cmNlKCkge1xuICB2YXIgY2FuY2VsO1xuICB2YXIgdG9rZW4gPSBuZXcgQ2FuY2VsVG9rZW4oZnVuY3Rpb24gZXhlY3V0b3IoYykge1xuICAgIGNhbmNlbCA9IGM7XG4gIH0pO1xuICByZXR1cm4ge1xuICAgIHRva2VuOiB0b2tlbixcbiAgICBjYW5jZWw6IGNhbmNlbFxuICB9O1xufTtcblxubW9kdWxlLmV4cG9ydHMgPSBDYW5jZWxUb2tlbjtcbiIsIid1c2Ugc3RyaWN0JztcblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiBpc0NhbmNlbCh2YWx1ZSkge1xuICByZXR1cm4gISEodmFsdWUgJiYgdmFsdWUuX19DQU5DRUxfXyk7XG59O1xuIiwiJ3VzZSBzdHJpY3QnO1xuXG52YXIgZGVmYXVsdHMgPSByZXF1aXJlKCcuLy4uL2RlZmF1bHRzJyk7XG52YXIgdXRpbHMgPSByZXF1aXJlKCcuLy4uL3V0aWxzJyk7XG52YXIgSW50ZXJjZXB0b3JNYW5hZ2VyID0gcmVxdWlyZSgnLi9JbnRlcmNlcHRvck1hbmFnZXInKTtcbnZhciBkaXNwYXRjaFJlcXVlc3QgPSByZXF1aXJlKCcuL2Rpc3BhdGNoUmVxdWVzdCcpO1xuXG4vKipcbiAqIENyZWF0ZSBhIG5ldyBpbnN0YW5jZSBvZiBBeGlvc1xuICpcbiAqIEBwYXJhbSB7T2JqZWN0fSBpbnN0YW5jZUNvbmZpZyBUaGUgZGVmYXVsdCBjb25maWcgZm9yIHRoZSBpbnN0YW5jZVxuICovXG5mdW5jdGlvbiBBeGlvcyhpbnN0YW5jZUNvbmZpZykge1xuICB0aGlzLmRlZmF1bHRzID0gaW5zdGFuY2VDb25maWc7XG4gIHRoaXMuaW50ZXJjZXB0b3JzID0ge1xuICAgIHJlcXVlc3Q6IG5ldyBJbnRlcmNlcHRvck1hbmFnZXIoKSxcbiAgICByZXNwb25zZTogbmV3IEludGVyY2VwdG9yTWFuYWdlcigpXG4gIH07XG59XG5cbi8qKlxuICogRGlzcGF0Y2ggYSByZXF1ZXN0XG4gKlxuICogQHBhcmFtIHtPYmplY3R9IGNvbmZpZyBUaGUgY29uZmlnIHNwZWNpZmljIGZvciB0aGlzIHJlcXVlc3QgKG1lcmdlZCB3aXRoIHRoaXMuZGVmYXVsdHMpXG4gKi9cbkF4aW9zLnByb3RvdHlwZS5yZXF1ZXN0ID0gZnVuY3Rpb24gcmVxdWVzdChjb25maWcpIHtcbiAgLyplc2xpbnQgbm8tcGFyYW0tcmVhc3NpZ246MCovXG4gIC8vIEFsbG93IGZvciBheGlvcygnZXhhbXBsZS91cmwnWywgY29uZmlnXSkgYSBsYSBmZXRjaCBBUElcbiAgaWYgKHR5cGVvZiBjb25maWcgPT09ICdzdHJpbmcnKSB7XG4gICAgY29uZmlnID0gdXRpbHMubWVyZ2Uoe1xuICAgICAgdXJsOiBhcmd1bWVudHNbMF1cbiAgICB9LCBhcmd1bWVudHNbMV0pO1xuICB9XG5cbiAgY29uZmlnID0gdXRpbHMubWVyZ2UoZGVmYXVsdHMsIHttZXRob2Q6ICdnZXQnfSwgdGhpcy5kZWZhdWx0cywgY29uZmlnKTtcbiAgY29uZmlnLm1ldGhvZCA9IGNvbmZpZy5tZXRob2QudG9Mb3dlckNhc2UoKTtcblxuICAvLyBIb29rIHVwIGludGVyY2VwdG9ycyBtaWRkbGV3YXJlXG4gIHZhciBjaGFpbiA9IFtkaXNwYXRjaFJlcXVlc3QsIHVuZGVmaW5lZF07XG4gIHZhciBwcm9taXNlID0gUHJvbWlzZS5yZXNvbHZlKGNvbmZpZyk7XG5cbiAgdGhpcy5pbnRlcmNlcHRvcnMucmVxdWVzdC5mb3JFYWNoKGZ1bmN0aW9uIHVuc2hpZnRSZXF1ZXN0SW50ZXJjZXB0b3JzKGludGVyY2VwdG9yKSB7XG4gICAgY2hhaW4udW5zaGlmdChpbnRlcmNlcHRvci5mdWxmaWxsZWQsIGludGVyY2VwdG9yLnJlamVjdGVkKTtcbiAgfSk7XG5cbiAgdGhpcy5pbnRlcmNlcHRvcnMucmVzcG9uc2UuZm9yRWFjaChmdW5jdGlvbiBwdXNoUmVzcG9uc2VJbnRlcmNlcHRvcnMoaW50ZXJjZXB0b3IpIHtcbiAgICBjaGFpbi5wdXNoKGludGVyY2VwdG9yLmZ1bGZpbGxlZCwgaW50ZXJjZXB0b3IucmVqZWN0ZWQpO1xuICB9KTtcblxuICB3aGlsZSAoY2hhaW4ubGVuZ3RoKSB7XG4gICAgcHJvbWlzZSA9IHByb21pc2UudGhlbihjaGFpbi5zaGlmdCgpLCBjaGFpbi5zaGlmdCgpKTtcbiAgfVxuXG4gIHJldHVybiBwcm9taXNlO1xufTtcblxuLy8gUHJvdmlkZSBhbGlhc2VzIGZvciBzdXBwb3J0ZWQgcmVxdWVzdCBtZXRob2RzXG51dGlscy5mb3JFYWNoKFsnZGVsZXRlJywgJ2dldCcsICdoZWFkJywgJ29wdGlvbnMnXSwgZnVuY3Rpb24gZm9yRWFjaE1ldGhvZE5vRGF0YShtZXRob2QpIHtcbiAgLyplc2xpbnQgZnVuYy1uYW1lczowKi9cbiAgQXhpb3MucHJvdG90eXBlW21ldGhvZF0gPSBmdW5jdGlvbih1cmwsIGNvbmZpZykge1xuICAgIHJldHVybiB0aGlzLnJlcXVlc3QodXRpbHMubWVyZ2UoY29uZmlnIHx8IHt9LCB7XG4gICAgICBtZXRob2Q6IG1ldGhvZCxcbiAgICAgIHVybDogdXJsXG4gICAgfSkpO1xuICB9O1xufSk7XG5cbnV0aWxzLmZvckVhY2goWydwb3N0JywgJ3B1dCcsICdwYXRjaCddLCBmdW5jdGlvbiBmb3JFYWNoTWV0aG9kV2l0aERhdGEobWV0aG9kKSB7XG4gIC8qZXNsaW50IGZ1bmMtbmFtZXM6MCovXG4gIEF4aW9zLnByb3RvdHlwZVttZXRob2RdID0gZnVuY3Rpb24odXJsLCBkYXRhLCBjb25maWcpIHtcbiAgICByZXR1cm4gdGhpcy5yZXF1ZXN0KHV0aWxzLm1lcmdlKGNvbmZpZyB8fCB7fSwge1xuICAgICAgbWV0aG9kOiBtZXRob2QsXG4gICAgICB1cmw6IHVybCxcbiAgICAgIGRhdGE6IGRhdGFcbiAgICB9KSk7XG4gIH07XG59KTtcblxubW9kdWxlLmV4cG9ydHMgPSBBeGlvcztcbiIsIid1c2Ugc3RyaWN0JztcblxudmFyIHV0aWxzID0gcmVxdWlyZSgnLi8uLi91dGlscycpO1xuXG5mdW5jdGlvbiBJbnRlcmNlcHRvck1hbmFnZXIoKSB7XG4gIHRoaXMuaGFuZGxlcnMgPSBbXTtcbn1cblxuLyoqXG4gKiBBZGQgYSBuZXcgaW50ZXJjZXB0b3IgdG8gdGhlIHN0YWNrXG4gKlxuICogQHBhcmFtIHtGdW5jdGlvbn0gZnVsZmlsbGVkIFRoZSBmdW5jdGlvbiB0byBoYW5kbGUgYHRoZW5gIGZvciBhIGBQcm9taXNlYFxuICogQHBhcmFtIHtGdW5jdGlvbn0gcmVqZWN0ZWQgVGhlIGZ1bmN0aW9uIHRvIGhhbmRsZSBgcmVqZWN0YCBmb3IgYSBgUHJvbWlzZWBcbiAqXG4gKiBAcmV0dXJuIHtOdW1iZXJ9IEFuIElEIHVzZWQgdG8gcmVtb3ZlIGludGVyY2VwdG9yIGxhdGVyXG4gKi9cbkludGVyY2VwdG9yTWFuYWdlci5wcm90b3R5cGUudXNlID0gZnVuY3Rpb24gdXNlKGZ1bGZpbGxlZCwgcmVqZWN0ZWQpIHtcbiAgdGhpcy5oYW5kbGVycy5wdXNoKHtcbiAgICBmdWxmaWxsZWQ6IGZ1bGZpbGxlZCxcbiAgICByZWplY3RlZDogcmVqZWN0ZWRcbiAgfSk7XG4gIHJldHVybiB0aGlzLmhhbmRsZXJzLmxlbmd0aCAtIDE7XG59O1xuXG4vKipcbiAqIFJlbW92ZSBhbiBpbnRlcmNlcHRvciBmcm9tIHRoZSBzdGFja1xuICpcbiAqIEBwYXJhbSB7TnVtYmVyfSBpZCBUaGUgSUQgdGhhdCB3YXMgcmV0dXJuZWQgYnkgYHVzZWBcbiAqL1xuSW50ZXJjZXB0b3JNYW5hZ2VyLnByb3RvdHlwZS5lamVjdCA9IGZ1bmN0aW9uIGVqZWN0KGlkKSB7XG4gIGlmICh0aGlzLmhhbmRsZXJzW2lkXSkge1xuICAgIHRoaXMuaGFuZGxlcnNbaWRdID0gbnVsbDtcbiAgfVxufTtcblxuLyoqXG4gKiBJdGVyYXRlIG92ZXIgYWxsIHRoZSByZWdpc3RlcmVkIGludGVyY2VwdG9yc1xuICpcbiAqIFRoaXMgbWV0aG9kIGlzIHBhcnRpY3VsYXJseSB1c2VmdWwgZm9yIHNraXBwaW5nIG92ZXIgYW55XG4gKiBpbnRlcmNlcHRvcnMgdGhhdCBtYXkgaGF2ZSBiZWNvbWUgYG51bGxgIGNhbGxpbmcgYGVqZWN0YC5cbiAqXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBmbiBUaGUgZnVuY3Rpb24gdG8gY2FsbCBmb3IgZWFjaCBpbnRlcmNlcHRvclxuICovXG5JbnRlcmNlcHRvck1hbmFnZXIucHJvdG90eXBlLmZvckVhY2ggPSBmdW5jdGlvbiBmb3JFYWNoKGZuKSB7XG4gIHV0aWxzLmZvckVhY2godGhpcy5oYW5kbGVycywgZnVuY3Rpb24gZm9yRWFjaEhhbmRsZXIoaCkge1xuICAgIGlmIChoICE9PSBudWxsKSB7XG4gICAgICBmbihoKTtcbiAgICB9XG4gIH0pO1xufTtcblxubW9kdWxlLmV4cG9ydHMgPSBJbnRlcmNlcHRvck1hbmFnZXI7XG4iLCIndXNlIHN0cmljdCc7XG5cbnZhciBlbmhhbmNlRXJyb3IgPSByZXF1aXJlKCcuL2VuaGFuY2VFcnJvcicpO1xuXG4vKipcbiAqIENyZWF0ZSBhbiBFcnJvciB3aXRoIHRoZSBzcGVjaWZpZWQgbWVzc2FnZSwgY29uZmlnLCBlcnJvciBjb2RlLCByZXF1ZXN0IGFuZCByZXNwb25zZS5cbiAqXG4gKiBAcGFyYW0ge3N0cmluZ30gbWVzc2FnZSBUaGUgZXJyb3IgbWVzc2FnZS5cbiAqIEBwYXJhbSB7T2JqZWN0fSBjb25maWcgVGhlIGNvbmZpZy5cbiAqIEBwYXJhbSB7c3RyaW5nfSBbY29kZV0gVGhlIGVycm9yIGNvZGUgKGZvciBleGFtcGxlLCAnRUNPTk5BQk9SVEVEJykuXG4gKiBAcGFyYW0ge09iamVjdH0gW3JlcXVlc3RdIFRoZSByZXF1ZXN0LlxuICogQHBhcmFtIHtPYmplY3R9IFtyZXNwb25zZV0gVGhlIHJlc3BvbnNlLlxuICogQHJldHVybnMge0Vycm9yfSBUaGUgY3JlYXRlZCBlcnJvci5cbiAqL1xubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiBjcmVhdGVFcnJvcihtZXNzYWdlLCBjb25maWcsIGNvZGUsIHJlcXVlc3QsIHJlc3BvbnNlKSB7XG4gIHZhciBlcnJvciA9IG5ldyBFcnJvcihtZXNzYWdlKTtcbiAgcmV0dXJuIGVuaGFuY2VFcnJvcihlcnJvciwgY29uZmlnLCBjb2RlLCByZXF1ZXN0LCByZXNwb25zZSk7XG59O1xuIiwiJ3VzZSBzdHJpY3QnO1xuXG52YXIgdXRpbHMgPSByZXF1aXJlKCcuLy4uL3V0aWxzJyk7XG52YXIgdHJhbnNmb3JtRGF0YSA9IHJlcXVpcmUoJy4vdHJhbnNmb3JtRGF0YScpO1xudmFyIGlzQ2FuY2VsID0gcmVxdWlyZSgnLi4vY2FuY2VsL2lzQ2FuY2VsJyk7XG52YXIgZGVmYXVsdHMgPSByZXF1aXJlKCcuLi9kZWZhdWx0cycpO1xudmFyIGlzQWJzb2x1dGVVUkwgPSByZXF1aXJlKCcuLy4uL2hlbHBlcnMvaXNBYnNvbHV0ZVVSTCcpO1xudmFyIGNvbWJpbmVVUkxzID0gcmVxdWlyZSgnLi8uLi9oZWxwZXJzL2NvbWJpbmVVUkxzJyk7XG5cbi8qKlxuICogVGhyb3dzIGEgYENhbmNlbGAgaWYgY2FuY2VsbGF0aW9uIGhhcyBiZWVuIHJlcXVlc3RlZC5cbiAqL1xuZnVuY3Rpb24gdGhyb3dJZkNhbmNlbGxhdGlvblJlcXVlc3RlZChjb25maWcpIHtcbiAgaWYgKGNvbmZpZy5jYW5jZWxUb2tlbikge1xuICAgIGNvbmZpZy5jYW5jZWxUb2tlbi50aHJvd0lmUmVxdWVzdGVkKCk7XG4gIH1cbn1cblxuLyoqXG4gKiBEaXNwYXRjaCBhIHJlcXVlc3QgdG8gdGhlIHNlcnZlciB1c2luZyB0aGUgY29uZmlndXJlZCBhZGFwdGVyLlxuICpcbiAqIEBwYXJhbSB7b2JqZWN0fSBjb25maWcgVGhlIGNvbmZpZyB0aGF0IGlzIHRvIGJlIHVzZWQgZm9yIHRoZSByZXF1ZXN0XG4gKiBAcmV0dXJucyB7UHJvbWlzZX0gVGhlIFByb21pc2UgdG8gYmUgZnVsZmlsbGVkXG4gKi9cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gZGlzcGF0Y2hSZXF1ZXN0KGNvbmZpZykge1xuICB0aHJvd0lmQ2FuY2VsbGF0aW9uUmVxdWVzdGVkKGNvbmZpZyk7XG5cbiAgLy8gU3VwcG9ydCBiYXNlVVJMIGNvbmZpZ1xuICBpZiAoY29uZmlnLmJhc2VVUkwgJiYgIWlzQWJzb2x1dGVVUkwoY29uZmlnLnVybCkpIHtcbiAgICBjb25maWcudXJsID0gY29tYmluZVVSTHMoY29uZmlnLmJhc2VVUkwsIGNvbmZpZy51cmwpO1xuICB9XG5cbiAgLy8gRW5zdXJlIGhlYWRlcnMgZXhpc3RcbiAgY29uZmlnLmhlYWRlcnMgPSBjb25maWcuaGVhZGVycyB8fCB7fTtcblxuICAvLyBUcmFuc2Zvcm0gcmVxdWVzdCBkYXRhXG4gIGNvbmZpZy5kYXRhID0gdHJhbnNmb3JtRGF0YShcbiAgICBjb25maWcuZGF0YSxcbiAgICBjb25maWcuaGVhZGVycyxcbiAgICBjb25maWcudHJhbnNmb3JtUmVxdWVzdFxuICApO1xuXG4gIC8vIEZsYXR0ZW4gaGVhZGVyc1xuICBjb25maWcuaGVhZGVycyA9IHV0aWxzLm1lcmdlKFxuICAgIGNvbmZpZy5oZWFkZXJzLmNvbW1vbiB8fCB7fSxcbiAgICBjb25maWcuaGVhZGVyc1tjb25maWcubWV0aG9kXSB8fCB7fSxcbiAgICBjb25maWcuaGVhZGVycyB8fCB7fVxuICApO1xuXG4gIHV0aWxzLmZvckVhY2goXG4gICAgWydkZWxldGUnLCAnZ2V0JywgJ2hlYWQnLCAncG9zdCcsICdwdXQnLCAncGF0Y2gnLCAnY29tbW9uJ10sXG4gICAgZnVuY3Rpb24gY2xlYW5IZWFkZXJDb25maWcobWV0aG9kKSB7XG4gICAgICBkZWxldGUgY29uZmlnLmhlYWRlcnNbbWV0aG9kXTtcbiAgICB9XG4gICk7XG5cbiAgdmFyIGFkYXB0ZXIgPSBjb25maWcuYWRhcHRlciB8fCBkZWZhdWx0cy5hZGFwdGVyO1xuXG4gIHJldHVybiBhZGFwdGVyKGNvbmZpZykudGhlbihmdW5jdGlvbiBvbkFkYXB0ZXJSZXNvbHV0aW9uKHJlc3BvbnNlKSB7XG4gICAgdGhyb3dJZkNhbmNlbGxhdGlvblJlcXVlc3RlZChjb25maWcpO1xuXG4gICAgLy8gVHJhbnNmb3JtIHJlc3BvbnNlIGRhdGFcbiAgICByZXNwb25zZS5kYXRhID0gdHJhbnNmb3JtRGF0YShcbiAgICAgIHJlc3BvbnNlLmRhdGEsXG4gICAgICByZXNwb25zZS5oZWFkZXJzLFxuICAgICAgY29uZmlnLnRyYW5zZm9ybVJlc3BvbnNlXG4gICAgKTtcblxuICAgIHJldHVybiByZXNwb25zZTtcbiAgfSwgZnVuY3Rpb24gb25BZGFwdGVyUmVqZWN0aW9uKHJlYXNvbikge1xuICAgIGlmICghaXNDYW5jZWwocmVhc29uKSkge1xuICAgICAgdGhyb3dJZkNhbmNlbGxhdGlvblJlcXVlc3RlZChjb25maWcpO1xuXG4gICAgICAvLyBUcmFuc2Zvcm0gcmVzcG9uc2UgZGF0YVxuICAgICAgaWYgKHJlYXNvbiAmJiByZWFzb24ucmVzcG9uc2UpIHtcbiAgICAgICAgcmVhc29uLnJlc3BvbnNlLmRhdGEgPSB0cmFuc2Zvcm1EYXRhKFxuICAgICAgICAgIHJlYXNvbi5yZXNwb25zZS5kYXRhLFxuICAgICAgICAgIHJlYXNvbi5yZXNwb25zZS5oZWFkZXJzLFxuICAgICAgICAgIGNvbmZpZy50cmFuc2Zvcm1SZXNwb25zZVxuICAgICAgICApO1xuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiBQcm9taXNlLnJlamVjdChyZWFzb24pO1xuICB9KTtcbn07XG4iLCIndXNlIHN0cmljdCc7XG5cbi8qKlxuICogVXBkYXRlIGFuIEVycm9yIHdpdGggdGhlIHNwZWNpZmllZCBjb25maWcsIGVycm9yIGNvZGUsIGFuZCByZXNwb25zZS5cbiAqXG4gKiBAcGFyYW0ge0Vycm9yfSBlcnJvciBUaGUgZXJyb3IgdG8gdXBkYXRlLlxuICogQHBhcmFtIHtPYmplY3R9IGNvbmZpZyBUaGUgY29uZmlnLlxuICogQHBhcmFtIHtzdHJpbmd9IFtjb2RlXSBUaGUgZXJyb3IgY29kZSAoZm9yIGV4YW1wbGUsICdFQ09OTkFCT1JURUQnKS5cbiAqIEBwYXJhbSB7T2JqZWN0fSBbcmVxdWVzdF0gVGhlIHJlcXVlc3QuXG4gKiBAcGFyYW0ge09iamVjdH0gW3Jlc3BvbnNlXSBUaGUgcmVzcG9uc2UuXG4gKiBAcmV0dXJucyB7RXJyb3J9IFRoZSBlcnJvci5cbiAqL1xubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiBlbmhhbmNlRXJyb3IoZXJyb3IsIGNvbmZpZywgY29kZSwgcmVxdWVzdCwgcmVzcG9uc2UpIHtcbiAgZXJyb3IuY29uZmlnID0gY29uZmlnO1xuICBpZiAoY29kZSkge1xuICAgIGVycm9yLmNvZGUgPSBjb2RlO1xuICB9XG4gIGVycm9yLnJlcXVlc3QgPSByZXF1ZXN0O1xuICBlcnJvci5yZXNwb25zZSA9IHJlc3BvbnNlO1xuICByZXR1cm4gZXJyb3I7XG59O1xuIiwiJ3VzZSBzdHJpY3QnO1xuXG52YXIgY3JlYXRlRXJyb3IgPSByZXF1aXJlKCcuL2NyZWF0ZUVycm9yJyk7XG5cbi8qKlxuICogUmVzb2x2ZSBvciByZWplY3QgYSBQcm9taXNlIGJhc2VkIG9uIHJlc3BvbnNlIHN0YXR1cy5cbiAqXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSByZXNvbHZlIEEgZnVuY3Rpb24gdGhhdCByZXNvbHZlcyB0aGUgcHJvbWlzZS5cbiAqIEBwYXJhbSB7RnVuY3Rpb259IHJlamVjdCBBIGZ1bmN0aW9uIHRoYXQgcmVqZWN0cyB0aGUgcHJvbWlzZS5cbiAqIEBwYXJhbSB7b2JqZWN0fSByZXNwb25zZSBUaGUgcmVzcG9uc2UuXG4gKi9cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gc2V0dGxlKHJlc29sdmUsIHJlamVjdCwgcmVzcG9uc2UpIHtcbiAgdmFyIHZhbGlkYXRlU3RhdHVzID0gcmVzcG9uc2UuY29uZmlnLnZhbGlkYXRlU3RhdHVzO1xuICAvLyBOb3RlOiBzdGF0dXMgaXMgbm90IGV4cG9zZWQgYnkgWERvbWFpblJlcXVlc3RcbiAgaWYgKCFyZXNwb25zZS5zdGF0dXMgfHwgIXZhbGlkYXRlU3RhdHVzIHx8IHZhbGlkYXRlU3RhdHVzKHJlc3BvbnNlLnN0YXR1cykpIHtcbiAgICByZXNvbHZlKHJlc3BvbnNlKTtcbiAgfSBlbHNlIHtcbiAgICByZWplY3QoY3JlYXRlRXJyb3IoXG4gICAgICAnUmVxdWVzdCBmYWlsZWQgd2l0aCBzdGF0dXMgY29kZSAnICsgcmVzcG9uc2Uuc3RhdHVzLFxuICAgICAgcmVzcG9uc2UuY29uZmlnLFxuICAgICAgbnVsbCxcbiAgICAgIHJlc3BvbnNlLnJlcXVlc3QsXG4gICAgICByZXNwb25zZVxuICAgICkpO1xuICB9XG59O1xuIiwiJ3VzZSBzdHJpY3QnO1xuXG52YXIgdXRpbHMgPSByZXF1aXJlKCcuLy4uL3V0aWxzJyk7XG5cbi8qKlxuICogVHJhbnNmb3JtIHRoZSBkYXRhIGZvciBhIHJlcXVlc3Qgb3IgYSByZXNwb25zZVxuICpcbiAqIEBwYXJhbSB7T2JqZWN0fFN0cmluZ30gZGF0YSBUaGUgZGF0YSB0byBiZSB0cmFuc2Zvcm1lZFxuICogQHBhcmFtIHtBcnJheX0gaGVhZGVycyBUaGUgaGVhZGVycyBmb3IgdGhlIHJlcXVlc3Qgb3IgcmVzcG9uc2VcbiAqIEBwYXJhbSB7QXJyYXl8RnVuY3Rpb259IGZucyBBIHNpbmdsZSBmdW5jdGlvbiBvciBBcnJheSBvZiBmdW5jdGlvbnNcbiAqIEByZXR1cm5zIHsqfSBUaGUgcmVzdWx0aW5nIHRyYW5zZm9ybWVkIGRhdGFcbiAqL1xubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiB0cmFuc2Zvcm1EYXRhKGRhdGEsIGhlYWRlcnMsIGZucykge1xuICAvKmVzbGludCBuby1wYXJhbS1yZWFzc2lnbjowKi9cbiAgdXRpbHMuZm9yRWFjaChmbnMsIGZ1bmN0aW9uIHRyYW5zZm9ybShmbikge1xuICAgIGRhdGEgPSBmbihkYXRhLCBoZWFkZXJzKTtcbiAgfSk7XG5cbiAgcmV0dXJuIGRhdGE7XG59O1xuIiwiJ3VzZSBzdHJpY3QnO1xuXG52YXIgdXRpbHMgPSByZXF1aXJlKCcuL3V0aWxzJyk7XG52YXIgbm9ybWFsaXplSGVhZGVyTmFtZSA9IHJlcXVpcmUoJy4vaGVscGVycy9ub3JtYWxpemVIZWFkZXJOYW1lJyk7XG5cbnZhciBERUZBVUxUX0NPTlRFTlRfVFlQRSA9IHtcbiAgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi94LXd3dy1mb3JtLXVybGVuY29kZWQnXG59O1xuXG5mdW5jdGlvbiBzZXRDb250ZW50VHlwZUlmVW5zZXQoaGVhZGVycywgdmFsdWUpIHtcbiAgaWYgKCF1dGlscy5pc1VuZGVmaW5lZChoZWFkZXJzKSAmJiB1dGlscy5pc1VuZGVmaW5lZChoZWFkZXJzWydDb250ZW50LVR5cGUnXSkpIHtcbiAgICBoZWFkZXJzWydDb250ZW50LVR5cGUnXSA9IHZhbHVlO1xuICB9XG59XG5cbmZ1bmN0aW9uIGdldERlZmF1bHRBZGFwdGVyKCkge1xuICB2YXIgYWRhcHRlcjtcbiAgaWYgKHR5cGVvZiBYTUxIdHRwUmVxdWVzdCAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAvLyBGb3IgYnJvd3NlcnMgdXNlIFhIUiBhZGFwdGVyXG4gICAgYWRhcHRlciA9IHJlcXVpcmUoJy4vYWRhcHRlcnMveGhyJyk7XG4gIH0gZWxzZSBpZiAodHlwZW9mIHByb2Nlc3MgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgLy8gRm9yIG5vZGUgdXNlIEhUVFAgYWRhcHRlclxuICAgIGFkYXB0ZXIgPSByZXF1aXJlKCcuL2FkYXB0ZXJzL2h0dHAnKTtcbiAgfVxuICByZXR1cm4gYWRhcHRlcjtcbn1cblxudmFyIGRlZmF1bHRzID0ge1xuICBhZGFwdGVyOiBnZXREZWZhdWx0QWRhcHRlcigpLFxuXG4gIHRyYW5zZm9ybVJlcXVlc3Q6IFtmdW5jdGlvbiB0cmFuc2Zvcm1SZXF1ZXN0KGRhdGEsIGhlYWRlcnMpIHtcbiAgICBub3JtYWxpemVIZWFkZXJOYW1lKGhlYWRlcnMsICdDb250ZW50LVR5cGUnKTtcbiAgICBpZiAodXRpbHMuaXNGb3JtRGF0YShkYXRhKSB8fFxuICAgICAgdXRpbHMuaXNBcnJheUJ1ZmZlcihkYXRhKSB8fFxuICAgICAgdXRpbHMuaXNCdWZmZXIoZGF0YSkgfHxcbiAgICAgIHV0aWxzLmlzU3RyZWFtKGRhdGEpIHx8XG4gICAgICB1dGlscy5pc0ZpbGUoZGF0YSkgfHxcbiAgICAgIHV0aWxzLmlzQmxvYihkYXRhKVxuICAgICkge1xuICAgICAgcmV0dXJuIGRhdGE7XG4gICAgfVxuICAgIGlmICh1dGlscy5pc0FycmF5QnVmZmVyVmlldyhkYXRhKSkge1xuICAgICAgcmV0dXJuIGRhdGEuYnVmZmVyO1xuICAgIH1cbiAgICBpZiAodXRpbHMuaXNVUkxTZWFyY2hQYXJhbXMoZGF0YSkpIHtcbiAgICAgIHNldENvbnRlbnRUeXBlSWZVbnNldChoZWFkZXJzLCAnYXBwbGljYXRpb24veC13d3ctZm9ybS11cmxlbmNvZGVkO2NoYXJzZXQ9dXRmLTgnKTtcbiAgICAgIHJldHVybiBkYXRhLnRvU3RyaW5nKCk7XG4gICAgfVxuICAgIGlmICh1dGlscy5pc09iamVjdChkYXRhKSkge1xuICAgICAgc2V0Q29udGVudFR5cGVJZlVuc2V0KGhlYWRlcnMsICdhcHBsaWNhdGlvbi9qc29uO2NoYXJzZXQ9dXRmLTgnKTtcbiAgICAgIHJldHVybiBKU09OLnN0cmluZ2lmeShkYXRhKTtcbiAgICB9XG4gICAgcmV0dXJuIGRhdGE7XG4gIH1dLFxuXG4gIHRyYW5zZm9ybVJlc3BvbnNlOiBbZnVuY3Rpb24gdHJhbnNmb3JtUmVzcG9uc2UoZGF0YSkge1xuICAgIC8qZXNsaW50IG5vLXBhcmFtLXJlYXNzaWduOjAqL1xuICAgIGlmICh0eXBlb2YgZGF0YSA9PT0gJ3N0cmluZycpIHtcbiAgICAgIHRyeSB7XG4gICAgICAgIGRhdGEgPSBKU09OLnBhcnNlKGRhdGEpO1xuICAgICAgfSBjYXRjaCAoZSkgeyAvKiBJZ25vcmUgKi8gfVxuICAgIH1cbiAgICByZXR1cm4gZGF0YTtcbiAgfV0sXG5cbiAgLyoqXG4gICAqIEEgdGltZW91dCBpbiBtaWxsaXNlY29uZHMgdG8gYWJvcnQgYSByZXF1ZXN0LiBJZiBzZXQgdG8gMCAoZGVmYXVsdCkgYVxuICAgKiB0aW1lb3V0IGlzIG5vdCBjcmVhdGVkLlxuICAgKi9cbiAgdGltZW91dDogMCxcblxuICB4c3JmQ29va2llTmFtZTogJ1hTUkYtVE9LRU4nLFxuICB4c3JmSGVhZGVyTmFtZTogJ1gtWFNSRi1UT0tFTicsXG5cbiAgbWF4Q29udGVudExlbmd0aDogLTEsXG5cbiAgdmFsaWRhdGVTdGF0dXM6IGZ1bmN0aW9uIHZhbGlkYXRlU3RhdHVzKHN0YXR1cykge1xuICAgIHJldHVybiBzdGF0dXMgPj0gMjAwICYmIHN0YXR1cyA8IDMwMDtcbiAgfVxufTtcblxuZGVmYXVsdHMuaGVhZGVycyA9IHtcbiAgY29tbW9uOiB7XG4gICAgJ0FjY2VwdCc6ICdhcHBsaWNhdGlvbi9qc29uLCB0ZXh0L3BsYWluLCAqLyonXG4gIH1cbn07XG5cbnV0aWxzLmZvckVhY2goWydkZWxldGUnLCAnZ2V0JywgJ2hlYWQnXSwgZnVuY3Rpb24gZm9yRWFjaE1ldGhvZE5vRGF0YShtZXRob2QpIHtcbiAgZGVmYXVsdHMuaGVhZGVyc1ttZXRob2RdID0ge307XG59KTtcblxudXRpbHMuZm9yRWFjaChbJ3Bvc3QnLCAncHV0JywgJ3BhdGNoJ10sIGZ1bmN0aW9uIGZvckVhY2hNZXRob2RXaXRoRGF0YShtZXRob2QpIHtcbiAgZGVmYXVsdHMuaGVhZGVyc1ttZXRob2RdID0gdXRpbHMubWVyZ2UoREVGQVVMVF9DT05URU5UX1RZUEUpO1xufSk7XG5cbm1vZHVsZS5leHBvcnRzID0gZGVmYXVsdHM7XG4iLCIndXNlIHN0cmljdCc7XG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gYmluZChmbiwgdGhpc0FyZykge1xuICByZXR1cm4gZnVuY3Rpb24gd3JhcCgpIHtcbiAgICB2YXIgYXJncyA9IG5ldyBBcnJheShhcmd1bWVudHMubGVuZ3RoKTtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGFyZ3MubGVuZ3RoOyBpKyspIHtcbiAgICAgIGFyZ3NbaV0gPSBhcmd1bWVudHNbaV07XG4gICAgfVxuICAgIHJldHVybiBmbi5hcHBseSh0aGlzQXJnLCBhcmdzKTtcbiAgfTtcbn07XG4iLCIndXNlIHN0cmljdCc7XG5cbi8vIGJ0b2EgcG9seWZpbGwgZm9yIElFPDEwIGNvdXJ0ZXN5IGh0dHBzOi8vZ2l0aHViLmNvbS9kYXZpZGNoYW1iZXJzL0Jhc2U2NC5qc1xuXG52YXIgY2hhcnMgPSAnQUJDREVGR0hJSktMTU5PUFFSU1RVVldYWVphYmNkZWZnaGlqa2xtbm9wcXJzdHV2d3h5ejAxMjM0NTY3ODkrLz0nO1xuXG5mdW5jdGlvbiBFKCkge1xuICB0aGlzLm1lc3NhZ2UgPSAnU3RyaW5nIGNvbnRhaW5zIGFuIGludmFsaWQgY2hhcmFjdGVyJztcbn1cbkUucHJvdG90eXBlID0gbmV3IEVycm9yO1xuRS5wcm90b3R5cGUuY29kZSA9IDU7XG5FLnByb3RvdHlwZS5uYW1lID0gJ0ludmFsaWRDaGFyYWN0ZXJFcnJvcic7XG5cbmZ1bmN0aW9uIGJ0b2EoaW5wdXQpIHtcbiAgdmFyIHN0ciA9IFN0cmluZyhpbnB1dCk7XG4gIHZhciBvdXRwdXQgPSAnJztcbiAgZm9yIChcbiAgICAvLyBpbml0aWFsaXplIHJlc3VsdCBhbmQgY291bnRlclxuICAgIHZhciBibG9jaywgY2hhckNvZGUsIGlkeCA9IDAsIG1hcCA9IGNoYXJzO1xuICAgIC8vIGlmIHRoZSBuZXh0IHN0ciBpbmRleCBkb2VzIG5vdCBleGlzdDpcbiAgICAvLyAgIGNoYW5nZSB0aGUgbWFwcGluZyB0YWJsZSB0byBcIj1cIlxuICAgIC8vICAgY2hlY2sgaWYgZCBoYXMgbm8gZnJhY3Rpb25hbCBkaWdpdHNcbiAgICBzdHIuY2hhckF0KGlkeCB8IDApIHx8IChtYXAgPSAnPScsIGlkeCAlIDEpO1xuICAgIC8vIFwiOCAtIGlkeCAlIDEgKiA4XCIgZ2VuZXJhdGVzIHRoZSBzZXF1ZW5jZSAyLCA0LCA2LCA4XG4gICAgb3V0cHV0ICs9IG1hcC5jaGFyQXQoNjMgJiBibG9jayA+PiA4IC0gaWR4ICUgMSAqIDgpXG4gICkge1xuICAgIGNoYXJDb2RlID0gc3RyLmNoYXJDb2RlQXQoaWR4ICs9IDMgLyA0KTtcbiAgICBpZiAoY2hhckNvZGUgPiAweEZGKSB7XG4gICAgICB0aHJvdyBuZXcgRSgpO1xuICAgIH1cbiAgICBibG9jayA9IGJsb2NrIDw8IDggfCBjaGFyQ29kZTtcbiAgfVxuICByZXR1cm4gb3V0cHV0O1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IGJ0b2E7XG4iLCIndXNlIHN0cmljdCc7XG5cbnZhciB1dGlscyA9IHJlcXVpcmUoJy4vLi4vdXRpbHMnKTtcblxuZnVuY3Rpb24gZW5jb2RlKHZhbCkge1xuICByZXR1cm4gZW5jb2RlVVJJQ29tcG9uZW50KHZhbCkuXG4gICAgcmVwbGFjZSgvJTQwL2dpLCAnQCcpLlxuICAgIHJlcGxhY2UoLyUzQS9naSwgJzonKS5cbiAgICByZXBsYWNlKC8lMjQvZywgJyQnKS5cbiAgICByZXBsYWNlKC8lMkMvZ2ksICcsJykuXG4gICAgcmVwbGFjZSgvJTIwL2csICcrJykuXG4gICAgcmVwbGFjZSgvJTVCL2dpLCAnWycpLlxuICAgIHJlcGxhY2UoLyU1RC9naSwgJ10nKTtcbn1cblxuLyoqXG4gKiBCdWlsZCBhIFVSTCBieSBhcHBlbmRpbmcgcGFyYW1zIHRvIHRoZSBlbmRcbiAqXG4gKiBAcGFyYW0ge3N0cmluZ30gdXJsIFRoZSBiYXNlIG9mIHRoZSB1cmwgKGUuZy4sIGh0dHA6Ly93d3cuZ29vZ2xlLmNvbSlcbiAqIEBwYXJhbSB7b2JqZWN0fSBbcGFyYW1zXSBUaGUgcGFyYW1zIHRvIGJlIGFwcGVuZGVkXG4gKiBAcmV0dXJucyB7c3RyaW5nfSBUaGUgZm9ybWF0dGVkIHVybFxuICovXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIGJ1aWxkVVJMKHVybCwgcGFyYW1zLCBwYXJhbXNTZXJpYWxpemVyKSB7XG4gIC8qZXNsaW50IG5vLXBhcmFtLXJlYXNzaWduOjAqL1xuICBpZiAoIXBhcmFtcykge1xuICAgIHJldHVybiB1cmw7XG4gIH1cblxuICB2YXIgc2VyaWFsaXplZFBhcmFtcztcbiAgaWYgKHBhcmFtc1NlcmlhbGl6ZXIpIHtcbiAgICBzZXJpYWxpemVkUGFyYW1zID0gcGFyYW1zU2VyaWFsaXplcihwYXJhbXMpO1xuICB9IGVsc2UgaWYgKHV0aWxzLmlzVVJMU2VhcmNoUGFyYW1zKHBhcmFtcykpIHtcbiAgICBzZXJpYWxpemVkUGFyYW1zID0gcGFyYW1zLnRvU3RyaW5nKCk7XG4gIH0gZWxzZSB7XG4gICAgdmFyIHBhcnRzID0gW107XG5cbiAgICB1dGlscy5mb3JFYWNoKHBhcmFtcywgZnVuY3Rpb24gc2VyaWFsaXplKHZhbCwga2V5KSB7XG4gICAgICBpZiAodmFsID09PSBudWxsIHx8IHR5cGVvZiB2YWwgPT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgaWYgKHV0aWxzLmlzQXJyYXkodmFsKSkge1xuICAgICAgICBrZXkgPSBrZXkgKyAnW10nO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdmFsID0gW3ZhbF07XG4gICAgICB9XG5cbiAgICAgIHV0aWxzLmZvckVhY2godmFsLCBmdW5jdGlvbiBwYXJzZVZhbHVlKHYpIHtcbiAgICAgICAgaWYgKHV0aWxzLmlzRGF0ZSh2KSkge1xuICAgICAgICAgIHYgPSB2LnRvSVNPU3RyaW5nKCk7XG4gICAgICAgIH0gZWxzZSBpZiAodXRpbHMuaXNPYmplY3QodikpIHtcbiAgICAgICAgICB2ID0gSlNPTi5zdHJpbmdpZnkodik7XG4gICAgICAgIH1cbiAgICAgICAgcGFydHMucHVzaChlbmNvZGUoa2V5KSArICc9JyArIGVuY29kZSh2KSk7XG4gICAgICB9KTtcbiAgICB9KTtcblxuICAgIHNlcmlhbGl6ZWRQYXJhbXMgPSBwYXJ0cy5qb2luKCcmJyk7XG4gIH1cblxuICBpZiAoc2VyaWFsaXplZFBhcmFtcykge1xuICAgIHVybCArPSAodXJsLmluZGV4T2YoJz8nKSA9PT0gLTEgPyAnPycgOiAnJicpICsgc2VyaWFsaXplZFBhcmFtcztcbiAgfVxuXG4gIHJldHVybiB1cmw7XG59O1xuIiwiJ3VzZSBzdHJpY3QnO1xuXG4vKipcbiAqIENyZWF0ZXMgYSBuZXcgVVJMIGJ5IGNvbWJpbmluZyB0aGUgc3BlY2lmaWVkIFVSTHNcbiAqXG4gKiBAcGFyYW0ge3N0cmluZ30gYmFzZVVSTCBUaGUgYmFzZSBVUkxcbiAqIEBwYXJhbSB7c3RyaW5nfSByZWxhdGl2ZVVSTCBUaGUgcmVsYXRpdmUgVVJMXG4gKiBAcmV0dXJucyB7c3RyaW5nfSBUaGUgY29tYmluZWQgVVJMXG4gKi9cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gY29tYmluZVVSTHMoYmFzZVVSTCwgcmVsYXRpdmVVUkwpIHtcbiAgcmV0dXJuIHJlbGF0aXZlVVJMXG4gICAgPyBiYXNlVVJMLnJlcGxhY2UoL1xcLyskLywgJycpICsgJy8nICsgcmVsYXRpdmVVUkwucmVwbGFjZSgvXlxcLysvLCAnJylcbiAgICA6IGJhc2VVUkw7XG59O1xuIiwiJ3VzZSBzdHJpY3QnO1xuXG52YXIgdXRpbHMgPSByZXF1aXJlKCcuLy4uL3V0aWxzJyk7XG5cbm1vZHVsZS5leHBvcnRzID0gKFxuICB1dGlscy5pc1N0YW5kYXJkQnJvd3NlckVudigpID9cblxuICAvLyBTdGFuZGFyZCBicm93c2VyIGVudnMgc3VwcG9ydCBkb2N1bWVudC5jb29raWVcbiAgKGZ1bmN0aW9uIHN0YW5kYXJkQnJvd3NlckVudigpIHtcbiAgICByZXR1cm4ge1xuICAgICAgd3JpdGU6IGZ1bmN0aW9uIHdyaXRlKG5hbWUsIHZhbHVlLCBleHBpcmVzLCBwYXRoLCBkb21haW4sIHNlY3VyZSkge1xuICAgICAgICB2YXIgY29va2llID0gW107XG4gICAgICAgIGNvb2tpZS5wdXNoKG5hbWUgKyAnPScgKyBlbmNvZGVVUklDb21wb25lbnQodmFsdWUpKTtcblxuICAgICAgICBpZiAodXRpbHMuaXNOdW1iZXIoZXhwaXJlcykpIHtcbiAgICAgICAgICBjb29raWUucHVzaCgnZXhwaXJlcz0nICsgbmV3IERhdGUoZXhwaXJlcykudG9HTVRTdHJpbmcoKSk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAodXRpbHMuaXNTdHJpbmcocGF0aCkpIHtcbiAgICAgICAgICBjb29raWUucHVzaCgncGF0aD0nICsgcGF0aCk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAodXRpbHMuaXNTdHJpbmcoZG9tYWluKSkge1xuICAgICAgICAgIGNvb2tpZS5wdXNoKCdkb21haW49JyArIGRvbWFpbik7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoc2VjdXJlID09PSB0cnVlKSB7XG4gICAgICAgICAgY29va2llLnB1c2goJ3NlY3VyZScpO1xuICAgICAgICB9XG5cbiAgICAgICAgZG9jdW1lbnQuY29va2llID0gY29va2llLmpvaW4oJzsgJyk7XG4gICAgICB9LFxuXG4gICAgICByZWFkOiBmdW5jdGlvbiByZWFkKG5hbWUpIHtcbiAgICAgICAgdmFyIG1hdGNoID0gZG9jdW1lbnQuY29va2llLm1hdGNoKG5ldyBSZWdFeHAoJyhefDtcXFxccyopKCcgKyBuYW1lICsgJyk9KFteO10qKScpKTtcbiAgICAgICAgcmV0dXJuIChtYXRjaCA/IGRlY29kZVVSSUNvbXBvbmVudChtYXRjaFszXSkgOiBudWxsKTtcbiAgICAgIH0sXG5cbiAgICAgIHJlbW92ZTogZnVuY3Rpb24gcmVtb3ZlKG5hbWUpIHtcbiAgICAgICAgdGhpcy53cml0ZShuYW1lLCAnJywgRGF0ZS5ub3coKSAtIDg2NDAwMDAwKTtcbiAgICAgIH1cbiAgICB9O1xuICB9KSgpIDpcblxuICAvLyBOb24gc3RhbmRhcmQgYnJvd3NlciBlbnYgKHdlYiB3b3JrZXJzLCByZWFjdC1uYXRpdmUpIGxhY2sgbmVlZGVkIHN1cHBvcnQuXG4gIChmdW5jdGlvbiBub25TdGFuZGFyZEJyb3dzZXJFbnYoKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIHdyaXRlOiBmdW5jdGlvbiB3cml0ZSgpIHt9LFxuICAgICAgcmVhZDogZnVuY3Rpb24gcmVhZCgpIHsgcmV0dXJuIG51bGw7IH0sXG4gICAgICByZW1vdmU6IGZ1bmN0aW9uIHJlbW92ZSgpIHt9XG4gICAgfTtcbiAgfSkoKVxuKTtcbiIsIid1c2Ugc3RyaWN0JztcblxuLyoqXG4gKiBEZXRlcm1pbmVzIHdoZXRoZXIgdGhlIHNwZWNpZmllZCBVUkwgaXMgYWJzb2x1dGVcbiAqXG4gKiBAcGFyYW0ge3N0cmluZ30gdXJsIFRoZSBVUkwgdG8gdGVzdFxuICogQHJldHVybnMge2Jvb2xlYW59IFRydWUgaWYgdGhlIHNwZWNpZmllZCBVUkwgaXMgYWJzb2x1dGUsIG90aGVyd2lzZSBmYWxzZVxuICovXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIGlzQWJzb2x1dGVVUkwodXJsKSB7XG4gIC8vIEEgVVJMIGlzIGNvbnNpZGVyZWQgYWJzb2x1dGUgaWYgaXQgYmVnaW5zIHdpdGggXCI8c2NoZW1lPjovL1wiIG9yIFwiLy9cIiAocHJvdG9jb2wtcmVsYXRpdmUgVVJMKS5cbiAgLy8gUkZDIDM5ODYgZGVmaW5lcyBzY2hlbWUgbmFtZSBhcyBhIHNlcXVlbmNlIG9mIGNoYXJhY3RlcnMgYmVnaW5uaW5nIHdpdGggYSBsZXR0ZXIgYW5kIGZvbGxvd2VkXG4gIC8vIGJ5IGFueSBjb21iaW5hdGlvbiBvZiBsZXR0ZXJzLCBkaWdpdHMsIHBsdXMsIHBlcmlvZCwgb3IgaHlwaGVuLlxuICByZXR1cm4gL14oW2Etel1bYS16XFxkXFwrXFwtXFwuXSo6KT9cXC9cXC8vaS50ZXN0KHVybCk7XG59O1xuIiwiJ3VzZSBzdHJpY3QnO1xuXG52YXIgdXRpbHMgPSByZXF1aXJlKCcuLy4uL3V0aWxzJyk7XG5cbm1vZHVsZS5leHBvcnRzID0gKFxuICB1dGlscy5pc1N0YW5kYXJkQnJvd3NlckVudigpID9cblxuICAvLyBTdGFuZGFyZCBicm93c2VyIGVudnMgaGF2ZSBmdWxsIHN1cHBvcnQgb2YgdGhlIEFQSXMgbmVlZGVkIHRvIHRlc3RcbiAgLy8gd2hldGhlciB0aGUgcmVxdWVzdCBVUkwgaXMgb2YgdGhlIHNhbWUgb3JpZ2luIGFzIGN1cnJlbnQgbG9jYXRpb24uXG4gIChmdW5jdGlvbiBzdGFuZGFyZEJyb3dzZXJFbnYoKSB7XG4gICAgdmFyIG1zaWUgPSAvKG1zaWV8dHJpZGVudCkvaS50ZXN0KG5hdmlnYXRvci51c2VyQWdlbnQpO1xuICAgIHZhciB1cmxQYXJzaW5nTm9kZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2EnKTtcbiAgICB2YXIgb3JpZ2luVVJMO1xuXG4gICAgLyoqXG4gICAgKiBQYXJzZSBhIFVSTCB0byBkaXNjb3ZlciBpdCdzIGNvbXBvbmVudHNcbiAgICAqXG4gICAgKiBAcGFyYW0ge1N0cmluZ30gdXJsIFRoZSBVUkwgdG8gYmUgcGFyc2VkXG4gICAgKiBAcmV0dXJucyB7T2JqZWN0fVxuICAgICovXG4gICAgZnVuY3Rpb24gcmVzb2x2ZVVSTCh1cmwpIHtcbiAgICAgIHZhciBocmVmID0gdXJsO1xuXG4gICAgICBpZiAobXNpZSkge1xuICAgICAgICAvLyBJRSBuZWVkcyBhdHRyaWJ1dGUgc2V0IHR3aWNlIHRvIG5vcm1hbGl6ZSBwcm9wZXJ0aWVzXG4gICAgICAgIHVybFBhcnNpbmdOb2RlLnNldEF0dHJpYnV0ZSgnaHJlZicsIGhyZWYpO1xuICAgICAgICBocmVmID0gdXJsUGFyc2luZ05vZGUuaHJlZjtcbiAgICAgIH1cblxuICAgICAgdXJsUGFyc2luZ05vZGUuc2V0QXR0cmlidXRlKCdocmVmJywgaHJlZik7XG5cbiAgICAgIC8vIHVybFBhcnNpbmdOb2RlIHByb3ZpZGVzIHRoZSBVcmxVdGlscyBpbnRlcmZhY2UgLSBodHRwOi8vdXJsLnNwZWMud2hhdHdnLm9yZy8jdXJsdXRpbHNcbiAgICAgIHJldHVybiB7XG4gICAgICAgIGhyZWY6IHVybFBhcnNpbmdOb2RlLmhyZWYsXG4gICAgICAgIHByb3RvY29sOiB1cmxQYXJzaW5nTm9kZS5wcm90b2NvbCA/IHVybFBhcnNpbmdOb2RlLnByb3RvY29sLnJlcGxhY2UoLzokLywgJycpIDogJycsXG4gICAgICAgIGhvc3Q6IHVybFBhcnNpbmdOb2RlLmhvc3QsXG4gICAgICAgIHNlYXJjaDogdXJsUGFyc2luZ05vZGUuc2VhcmNoID8gdXJsUGFyc2luZ05vZGUuc2VhcmNoLnJlcGxhY2UoL15cXD8vLCAnJykgOiAnJyxcbiAgICAgICAgaGFzaDogdXJsUGFyc2luZ05vZGUuaGFzaCA/IHVybFBhcnNpbmdOb2RlLmhhc2gucmVwbGFjZSgvXiMvLCAnJykgOiAnJyxcbiAgICAgICAgaG9zdG5hbWU6IHVybFBhcnNpbmdOb2RlLmhvc3RuYW1lLFxuICAgICAgICBwb3J0OiB1cmxQYXJzaW5nTm9kZS5wb3J0LFxuICAgICAgICBwYXRobmFtZTogKHVybFBhcnNpbmdOb2RlLnBhdGhuYW1lLmNoYXJBdCgwKSA9PT0gJy8nKSA/XG4gICAgICAgICAgICAgICAgICB1cmxQYXJzaW5nTm9kZS5wYXRobmFtZSA6XG4gICAgICAgICAgICAgICAgICAnLycgKyB1cmxQYXJzaW5nTm9kZS5wYXRobmFtZVxuICAgICAgfTtcbiAgICB9XG5cbiAgICBvcmlnaW5VUkwgPSByZXNvbHZlVVJMKHdpbmRvdy5sb2NhdGlvbi5ocmVmKTtcblxuICAgIC8qKlxuICAgICogRGV0ZXJtaW5lIGlmIGEgVVJMIHNoYXJlcyB0aGUgc2FtZSBvcmlnaW4gYXMgdGhlIGN1cnJlbnQgbG9jYXRpb25cbiAgICAqXG4gICAgKiBAcGFyYW0ge1N0cmluZ30gcmVxdWVzdFVSTCBUaGUgVVJMIHRvIHRlc3RcbiAgICAqIEByZXR1cm5zIHtib29sZWFufSBUcnVlIGlmIFVSTCBzaGFyZXMgdGhlIHNhbWUgb3JpZ2luLCBvdGhlcndpc2UgZmFsc2VcbiAgICAqL1xuICAgIHJldHVybiBmdW5jdGlvbiBpc1VSTFNhbWVPcmlnaW4ocmVxdWVzdFVSTCkge1xuICAgICAgdmFyIHBhcnNlZCA9ICh1dGlscy5pc1N0cmluZyhyZXF1ZXN0VVJMKSkgPyByZXNvbHZlVVJMKHJlcXVlc3RVUkwpIDogcmVxdWVzdFVSTDtcbiAgICAgIHJldHVybiAocGFyc2VkLnByb3RvY29sID09PSBvcmlnaW5VUkwucHJvdG9jb2wgJiZcbiAgICAgICAgICAgIHBhcnNlZC5ob3N0ID09PSBvcmlnaW5VUkwuaG9zdCk7XG4gICAgfTtcbiAgfSkoKSA6XG5cbiAgLy8gTm9uIHN0YW5kYXJkIGJyb3dzZXIgZW52cyAod2ViIHdvcmtlcnMsIHJlYWN0LW5hdGl2ZSkgbGFjayBuZWVkZWQgc3VwcG9ydC5cbiAgKGZ1bmN0aW9uIG5vblN0YW5kYXJkQnJvd3NlckVudigpIHtcbiAgICByZXR1cm4gZnVuY3Rpb24gaXNVUkxTYW1lT3JpZ2luKCkge1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfTtcbiAgfSkoKVxuKTtcbiIsIid1c2Ugc3RyaWN0JztcblxudmFyIHV0aWxzID0gcmVxdWlyZSgnLi4vdXRpbHMnKTtcblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiBub3JtYWxpemVIZWFkZXJOYW1lKGhlYWRlcnMsIG5vcm1hbGl6ZWROYW1lKSB7XG4gIHV0aWxzLmZvckVhY2goaGVhZGVycywgZnVuY3Rpb24gcHJvY2Vzc0hlYWRlcih2YWx1ZSwgbmFtZSkge1xuICAgIGlmIChuYW1lICE9PSBub3JtYWxpemVkTmFtZSAmJiBuYW1lLnRvVXBwZXJDYXNlKCkgPT09IG5vcm1hbGl6ZWROYW1lLnRvVXBwZXJDYXNlKCkpIHtcbiAgICAgIGhlYWRlcnNbbm9ybWFsaXplZE5hbWVdID0gdmFsdWU7XG4gICAgICBkZWxldGUgaGVhZGVyc1tuYW1lXTtcbiAgICB9XG4gIH0pO1xufTtcbiIsIid1c2Ugc3RyaWN0JztcblxudmFyIHV0aWxzID0gcmVxdWlyZSgnLi8uLi91dGlscycpO1xuXG4vLyBIZWFkZXJzIHdob3NlIGR1cGxpY2F0ZXMgYXJlIGlnbm9yZWQgYnkgbm9kZVxuLy8gYy5mLiBodHRwczovL25vZGVqcy5vcmcvYXBpL2h0dHAuaHRtbCNodHRwX21lc3NhZ2VfaGVhZGVyc1xudmFyIGlnbm9yZUR1cGxpY2F0ZU9mID0gW1xuICAnYWdlJywgJ2F1dGhvcml6YXRpb24nLCAnY29udGVudC1sZW5ndGgnLCAnY29udGVudC10eXBlJywgJ2V0YWcnLFxuICAnZXhwaXJlcycsICdmcm9tJywgJ2hvc3QnLCAnaWYtbW9kaWZpZWQtc2luY2UnLCAnaWYtdW5tb2RpZmllZC1zaW5jZScsXG4gICdsYXN0LW1vZGlmaWVkJywgJ2xvY2F0aW9uJywgJ21heC1mb3J3YXJkcycsICdwcm94eS1hdXRob3JpemF0aW9uJyxcbiAgJ3JlZmVyZXInLCAncmV0cnktYWZ0ZXInLCAndXNlci1hZ2VudCdcbl07XG5cbi8qKlxuICogUGFyc2UgaGVhZGVycyBpbnRvIGFuIG9iamVjdFxuICpcbiAqIGBgYFxuICogRGF0ZTogV2VkLCAyNyBBdWcgMjAxNCAwODo1ODo0OSBHTVRcbiAqIENvbnRlbnQtVHlwZTogYXBwbGljYXRpb24vanNvblxuICogQ29ubmVjdGlvbjoga2VlcC1hbGl2ZVxuICogVHJhbnNmZXItRW5jb2Rpbmc6IGNodW5rZWRcbiAqIGBgYFxuICpcbiAqIEBwYXJhbSB7U3RyaW5nfSBoZWFkZXJzIEhlYWRlcnMgbmVlZGluZyB0byBiZSBwYXJzZWRcbiAqIEByZXR1cm5zIHtPYmplY3R9IEhlYWRlcnMgcGFyc2VkIGludG8gYW4gb2JqZWN0XG4gKi9cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gcGFyc2VIZWFkZXJzKGhlYWRlcnMpIHtcbiAgdmFyIHBhcnNlZCA9IHt9O1xuICB2YXIga2V5O1xuICB2YXIgdmFsO1xuICB2YXIgaTtcblxuICBpZiAoIWhlYWRlcnMpIHsgcmV0dXJuIHBhcnNlZDsgfVxuXG4gIHV0aWxzLmZvckVhY2goaGVhZGVycy5zcGxpdCgnXFxuJyksIGZ1bmN0aW9uIHBhcnNlcihsaW5lKSB7XG4gICAgaSA9IGxpbmUuaW5kZXhPZignOicpO1xuICAgIGtleSA9IHV0aWxzLnRyaW0obGluZS5zdWJzdHIoMCwgaSkpLnRvTG93ZXJDYXNlKCk7XG4gICAgdmFsID0gdXRpbHMudHJpbShsaW5lLnN1YnN0cihpICsgMSkpO1xuXG4gICAgaWYgKGtleSkge1xuICAgICAgaWYgKHBhcnNlZFtrZXldICYmIGlnbm9yZUR1cGxpY2F0ZU9mLmluZGV4T2Yoa2V5KSA+PSAwKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGlmIChrZXkgPT09ICdzZXQtY29va2llJykge1xuICAgICAgICBwYXJzZWRba2V5XSA9IChwYXJzZWRba2V5XSA/IHBhcnNlZFtrZXldIDogW10pLmNvbmNhdChbdmFsXSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBwYXJzZWRba2V5XSA9IHBhcnNlZFtrZXldID8gcGFyc2VkW2tleV0gKyAnLCAnICsgdmFsIDogdmFsO1xuICAgICAgfVxuICAgIH1cbiAgfSk7XG5cbiAgcmV0dXJuIHBhcnNlZDtcbn07XG4iLCIndXNlIHN0cmljdCc7XG5cbi8qKlxuICogU3ludGFjdGljIHN1Z2FyIGZvciBpbnZva2luZyBhIGZ1bmN0aW9uIGFuZCBleHBhbmRpbmcgYW4gYXJyYXkgZm9yIGFyZ3VtZW50cy5cbiAqXG4gKiBDb21tb24gdXNlIGNhc2Ugd291bGQgYmUgdG8gdXNlIGBGdW5jdGlvbi5wcm90b3R5cGUuYXBwbHlgLlxuICpcbiAqICBgYGBqc1xuICogIGZ1bmN0aW9uIGYoeCwgeSwgeikge31cbiAqICB2YXIgYXJncyA9IFsxLCAyLCAzXTtcbiAqICBmLmFwcGx5KG51bGwsIGFyZ3MpO1xuICogIGBgYFxuICpcbiAqIFdpdGggYHNwcmVhZGAgdGhpcyBleGFtcGxlIGNhbiBiZSByZS13cml0dGVuLlxuICpcbiAqICBgYGBqc1xuICogIHNwcmVhZChmdW5jdGlvbih4LCB5LCB6KSB7fSkoWzEsIDIsIDNdKTtcbiAqICBgYGBcbiAqXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBjYWxsYmFja1xuICogQHJldHVybnMge0Z1bmN0aW9ufVxuICovXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIHNwcmVhZChjYWxsYmFjaykge1xuICByZXR1cm4gZnVuY3Rpb24gd3JhcChhcnIpIHtcbiAgICByZXR1cm4gY2FsbGJhY2suYXBwbHkobnVsbCwgYXJyKTtcbiAgfTtcbn07XG4iLCIndXNlIHN0cmljdCc7XG5cbnZhciBiaW5kID0gcmVxdWlyZSgnLi9oZWxwZXJzL2JpbmQnKTtcbnZhciBpc0J1ZmZlciA9IHJlcXVpcmUoJ2lzLWJ1ZmZlcicpO1xuXG4vKmdsb2JhbCB0b1N0cmluZzp0cnVlKi9cblxuLy8gdXRpbHMgaXMgYSBsaWJyYXJ5IG9mIGdlbmVyaWMgaGVscGVyIGZ1bmN0aW9ucyBub24tc3BlY2lmaWMgdG8gYXhpb3NcblxudmFyIHRvU3RyaW5nID0gT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZztcblxuLyoqXG4gKiBEZXRlcm1pbmUgaWYgYSB2YWx1ZSBpcyBhbiBBcnJheVxuICpcbiAqIEBwYXJhbSB7T2JqZWN0fSB2YWwgVGhlIHZhbHVlIHRvIHRlc3RcbiAqIEByZXR1cm5zIHtib29sZWFufSBUcnVlIGlmIHZhbHVlIGlzIGFuIEFycmF5LCBvdGhlcndpc2UgZmFsc2VcbiAqL1xuZnVuY3Rpb24gaXNBcnJheSh2YWwpIHtcbiAgcmV0dXJuIHRvU3RyaW5nLmNhbGwodmFsKSA9PT0gJ1tvYmplY3QgQXJyYXldJztcbn1cblxuLyoqXG4gKiBEZXRlcm1pbmUgaWYgYSB2YWx1ZSBpcyBhbiBBcnJheUJ1ZmZlclxuICpcbiAqIEBwYXJhbSB7T2JqZWN0fSB2YWwgVGhlIHZhbHVlIHRvIHRlc3RcbiAqIEByZXR1cm5zIHtib29sZWFufSBUcnVlIGlmIHZhbHVlIGlzIGFuIEFycmF5QnVmZmVyLCBvdGhlcndpc2UgZmFsc2VcbiAqL1xuZnVuY3Rpb24gaXNBcnJheUJ1ZmZlcih2YWwpIHtcbiAgcmV0dXJuIHRvU3RyaW5nLmNhbGwodmFsKSA9PT0gJ1tvYmplY3QgQXJyYXlCdWZmZXJdJztcbn1cblxuLyoqXG4gKiBEZXRlcm1pbmUgaWYgYSB2YWx1ZSBpcyBhIEZvcm1EYXRhXG4gKlxuICogQHBhcmFtIHtPYmplY3R9IHZhbCBUaGUgdmFsdWUgdG8gdGVzdFxuICogQHJldHVybnMge2Jvb2xlYW59IFRydWUgaWYgdmFsdWUgaXMgYW4gRm9ybURhdGEsIG90aGVyd2lzZSBmYWxzZVxuICovXG5mdW5jdGlvbiBpc0Zvcm1EYXRhKHZhbCkge1xuICByZXR1cm4gKHR5cGVvZiBGb3JtRGF0YSAhPT0gJ3VuZGVmaW5lZCcpICYmICh2YWwgaW5zdGFuY2VvZiBGb3JtRGF0YSk7XG59XG5cbi8qKlxuICogRGV0ZXJtaW5lIGlmIGEgdmFsdWUgaXMgYSB2aWV3IG9uIGFuIEFycmF5QnVmZmVyXG4gKlxuICogQHBhcmFtIHtPYmplY3R9IHZhbCBUaGUgdmFsdWUgdG8gdGVzdFxuICogQHJldHVybnMge2Jvb2xlYW59IFRydWUgaWYgdmFsdWUgaXMgYSB2aWV3IG9uIGFuIEFycmF5QnVmZmVyLCBvdGhlcndpc2UgZmFsc2VcbiAqL1xuZnVuY3Rpb24gaXNBcnJheUJ1ZmZlclZpZXcodmFsKSB7XG4gIHZhciByZXN1bHQ7XG4gIGlmICgodHlwZW9mIEFycmF5QnVmZmVyICE9PSAndW5kZWZpbmVkJykgJiYgKEFycmF5QnVmZmVyLmlzVmlldykpIHtcbiAgICByZXN1bHQgPSBBcnJheUJ1ZmZlci5pc1ZpZXcodmFsKTtcbiAgfSBlbHNlIHtcbiAgICByZXN1bHQgPSAodmFsKSAmJiAodmFsLmJ1ZmZlcikgJiYgKHZhbC5idWZmZXIgaW5zdGFuY2VvZiBBcnJheUJ1ZmZlcik7XG4gIH1cbiAgcmV0dXJuIHJlc3VsdDtcbn1cblxuLyoqXG4gKiBEZXRlcm1pbmUgaWYgYSB2YWx1ZSBpcyBhIFN0cmluZ1xuICpcbiAqIEBwYXJhbSB7T2JqZWN0fSB2YWwgVGhlIHZhbHVlIHRvIHRlc3RcbiAqIEByZXR1cm5zIHtib29sZWFufSBUcnVlIGlmIHZhbHVlIGlzIGEgU3RyaW5nLCBvdGhlcndpc2UgZmFsc2VcbiAqL1xuZnVuY3Rpb24gaXNTdHJpbmcodmFsKSB7XG4gIHJldHVybiB0eXBlb2YgdmFsID09PSAnc3RyaW5nJztcbn1cblxuLyoqXG4gKiBEZXRlcm1pbmUgaWYgYSB2YWx1ZSBpcyBhIE51bWJlclxuICpcbiAqIEBwYXJhbSB7T2JqZWN0fSB2YWwgVGhlIHZhbHVlIHRvIHRlc3RcbiAqIEByZXR1cm5zIHtib29sZWFufSBUcnVlIGlmIHZhbHVlIGlzIGEgTnVtYmVyLCBvdGhlcndpc2UgZmFsc2VcbiAqL1xuZnVuY3Rpb24gaXNOdW1iZXIodmFsKSB7XG4gIHJldHVybiB0eXBlb2YgdmFsID09PSAnbnVtYmVyJztcbn1cblxuLyoqXG4gKiBEZXRlcm1pbmUgaWYgYSB2YWx1ZSBpcyB1bmRlZmluZWRcbiAqXG4gKiBAcGFyYW0ge09iamVjdH0gdmFsIFRoZSB2YWx1ZSB0byB0ZXN0XG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gVHJ1ZSBpZiB0aGUgdmFsdWUgaXMgdW5kZWZpbmVkLCBvdGhlcndpc2UgZmFsc2VcbiAqL1xuZnVuY3Rpb24gaXNVbmRlZmluZWQodmFsKSB7XG4gIHJldHVybiB0eXBlb2YgdmFsID09PSAndW5kZWZpbmVkJztcbn1cblxuLyoqXG4gKiBEZXRlcm1pbmUgaWYgYSB2YWx1ZSBpcyBhbiBPYmplY3RcbiAqXG4gKiBAcGFyYW0ge09iamVjdH0gdmFsIFRoZSB2YWx1ZSB0byB0ZXN0XG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gVHJ1ZSBpZiB2YWx1ZSBpcyBhbiBPYmplY3QsIG90aGVyd2lzZSBmYWxzZVxuICovXG5mdW5jdGlvbiBpc09iamVjdCh2YWwpIHtcbiAgcmV0dXJuIHZhbCAhPT0gbnVsbCAmJiB0eXBlb2YgdmFsID09PSAnb2JqZWN0Jztcbn1cblxuLyoqXG4gKiBEZXRlcm1pbmUgaWYgYSB2YWx1ZSBpcyBhIERhdGVcbiAqXG4gKiBAcGFyYW0ge09iamVjdH0gdmFsIFRoZSB2YWx1ZSB0byB0ZXN0XG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gVHJ1ZSBpZiB2YWx1ZSBpcyBhIERhdGUsIG90aGVyd2lzZSBmYWxzZVxuICovXG5mdW5jdGlvbiBpc0RhdGUodmFsKSB7XG4gIHJldHVybiB0b1N0cmluZy5jYWxsKHZhbCkgPT09ICdbb2JqZWN0IERhdGVdJztcbn1cblxuLyoqXG4gKiBEZXRlcm1pbmUgaWYgYSB2YWx1ZSBpcyBhIEZpbGVcbiAqXG4gKiBAcGFyYW0ge09iamVjdH0gdmFsIFRoZSB2YWx1ZSB0byB0ZXN0XG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gVHJ1ZSBpZiB2YWx1ZSBpcyBhIEZpbGUsIG90aGVyd2lzZSBmYWxzZVxuICovXG5mdW5jdGlvbiBpc0ZpbGUodmFsKSB7XG4gIHJldHVybiB0b1N0cmluZy5jYWxsKHZhbCkgPT09ICdbb2JqZWN0IEZpbGVdJztcbn1cblxuLyoqXG4gKiBEZXRlcm1pbmUgaWYgYSB2YWx1ZSBpcyBhIEJsb2JcbiAqXG4gKiBAcGFyYW0ge09iamVjdH0gdmFsIFRoZSB2YWx1ZSB0byB0ZXN0XG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gVHJ1ZSBpZiB2YWx1ZSBpcyBhIEJsb2IsIG90aGVyd2lzZSBmYWxzZVxuICovXG5mdW5jdGlvbiBpc0Jsb2IodmFsKSB7XG4gIHJldHVybiB0b1N0cmluZy5jYWxsKHZhbCkgPT09ICdbb2JqZWN0IEJsb2JdJztcbn1cblxuLyoqXG4gKiBEZXRlcm1pbmUgaWYgYSB2YWx1ZSBpcyBhIEZ1bmN0aW9uXG4gKlxuICogQHBhcmFtIHtPYmplY3R9IHZhbCBUaGUgdmFsdWUgdG8gdGVzdFxuICogQHJldHVybnMge2Jvb2xlYW59IFRydWUgaWYgdmFsdWUgaXMgYSBGdW5jdGlvbiwgb3RoZXJ3aXNlIGZhbHNlXG4gKi9cbmZ1bmN0aW9uIGlzRnVuY3Rpb24odmFsKSB7XG4gIHJldHVybiB0b1N0cmluZy5jYWxsKHZhbCkgPT09ICdbb2JqZWN0IEZ1bmN0aW9uXSc7XG59XG5cbi8qKlxuICogRGV0ZXJtaW5lIGlmIGEgdmFsdWUgaXMgYSBTdHJlYW1cbiAqXG4gKiBAcGFyYW0ge09iamVjdH0gdmFsIFRoZSB2YWx1ZSB0byB0ZXN0XG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gVHJ1ZSBpZiB2YWx1ZSBpcyBhIFN0cmVhbSwgb3RoZXJ3aXNlIGZhbHNlXG4gKi9cbmZ1bmN0aW9uIGlzU3RyZWFtKHZhbCkge1xuICByZXR1cm4gaXNPYmplY3QodmFsKSAmJiBpc0Z1bmN0aW9uKHZhbC5waXBlKTtcbn1cblxuLyoqXG4gKiBEZXRlcm1pbmUgaWYgYSB2YWx1ZSBpcyBhIFVSTFNlYXJjaFBhcmFtcyBvYmplY3RcbiAqXG4gKiBAcGFyYW0ge09iamVjdH0gdmFsIFRoZSB2YWx1ZSB0byB0ZXN0XG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gVHJ1ZSBpZiB2YWx1ZSBpcyBhIFVSTFNlYXJjaFBhcmFtcyBvYmplY3QsIG90aGVyd2lzZSBmYWxzZVxuICovXG5mdW5jdGlvbiBpc1VSTFNlYXJjaFBhcmFtcyh2YWwpIHtcbiAgcmV0dXJuIHR5cGVvZiBVUkxTZWFyY2hQYXJhbXMgIT09ICd1bmRlZmluZWQnICYmIHZhbCBpbnN0YW5jZW9mIFVSTFNlYXJjaFBhcmFtcztcbn1cblxuLyoqXG4gKiBUcmltIGV4Y2VzcyB3aGl0ZXNwYWNlIG9mZiB0aGUgYmVnaW5uaW5nIGFuZCBlbmQgb2YgYSBzdHJpbmdcbiAqXG4gKiBAcGFyYW0ge1N0cmluZ30gc3RyIFRoZSBTdHJpbmcgdG8gdHJpbVxuICogQHJldHVybnMge1N0cmluZ30gVGhlIFN0cmluZyBmcmVlZCBvZiBleGNlc3Mgd2hpdGVzcGFjZVxuICovXG5mdW5jdGlvbiB0cmltKHN0cikge1xuICByZXR1cm4gc3RyLnJlcGxhY2UoL15cXHMqLywgJycpLnJlcGxhY2UoL1xccyokLywgJycpO1xufVxuXG4vKipcbiAqIERldGVybWluZSBpZiB3ZSdyZSBydW5uaW5nIGluIGEgc3RhbmRhcmQgYnJvd3NlciBlbnZpcm9ubWVudFxuICpcbiAqIFRoaXMgYWxsb3dzIGF4aW9zIHRvIHJ1biBpbiBhIHdlYiB3b3JrZXIsIGFuZCByZWFjdC1uYXRpdmUuXG4gKiBCb3RoIGVudmlyb25tZW50cyBzdXBwb3J0IFhNTEh0dHBSZXF1ZXN0LCBidXQgbm90IGZ1bGx5IHN0YW5kYXJkIGdsb2JhbHMuXG4gKlxuICogd2ViIHdvcmtlcnM6XG4gKiAgdHlwZW9mIHdpbmRvdyAtPiB1bmRlZmluZWRcbiAqICB0eXBlb2YgZG9jdW1lbnQgLT4gdW5kZWZpbmVkXG4gKlxuICogcmVhY3QtbmF0aXZlOlxuICogIG5hdmlnYXRvci5wcm9kdWN0IC0+ICdSZWFjdE5hdGl2ZSdcbiAqL1xuZnVuY3Rpb24gaXNTdGFuZGFyZEJyb3dzZXJFbnYoKSB7XG4gIGlmICh0eXBlb2YgbmF2aWdhdG9yICE9PSAndW5kZWZpbmVkJyAmJiBuYXZpZ2F0b3IucHJvZHVjdCA9PT0gJ1JlYWN0TmF0aXZlJykge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuICByZXR1cm4gKFxuICAgIHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnICYmXG4gICAgdHlwZW9mIGRvY3VtZW50ICE9PSAndW5kZWZpbmVkJ1xuICApO1xufVxuXG4vKipcbiAqIEl0ZXJhdGUgb3ZlciBhbiBBcnJheSBvciBhbiBPYmplY3QgaW52b2tpbmcgYSBmdW5jdGlvbiBmb3IgZWFjaCBpdGVtLlxuICpcbiAqIElmIGBvYmpgIGlzIGFuIEFycmF5IGNhbGxiYWNrIHdpbGwgYmUgY2FsbGVkIHBhc3NpbmdcbiAqIHRoZSB2YWx1ZSwgaW5kZXgsIGFuZCBjb21wbGV0ZSBhcnJheSBmb3IgZWFjaCBpdGVtLlxuICpcbiAqIElmICdvYmonIGlzIGFuIE9iamVjdCBjYWxsYmFjayB3aWxsIGJlIGNhbGxlZCBwYXNzaW5nXG4gKiB0aGUgdmFsdWUsIGtleSwgYW5kIGNvbXBsZXRlIG9iamVjdCBmb3IgZWFjaCBwcm9wZXJ0eS5cbiAqXG4gKiBAcGFyYW0ge09iamVjdHxBcnJheX0gb2JqIFRoZSBvYmplY3QgdG8gaXRlcmF0ZVxuICogQHBhcmFtIHtGdW5jdGlvbn0gZm4gVGhlIGNhbGxiYWNrIHRvIGludm9rZSBmb3IgZWFjaCBpdGVtXG4gKi9cbmZ1bmN0aW9uIGZvckVhY2gob2JqLCBmbikge1xuICAvLyBEb24ndCBib3RoZXIgaWYgbm8gdmFsdWUgcHJvdmlkZWRcbiAgaWYgKG9iaiA9PT0gbnVsbCB8fCB0eXBlb2Ygb2JqID09PSAndW5kZWZpbmVkJykge1xuICAgIHJldHVybjtcbiAgfVxuXG4gIC8vIEZvcmNlIGFuIGFycmF5IGlmIG5vdCBhbHJlYWR5IHNvbWV0aGluZyBpdGVyYWJsZVxuICBpZiAodHlwZW9mIG9iaiAhPT0gJ29iamVjdCcpIHtcbiAgICAvKmVzbGludCBuby1wYXJhbS1yZWFzc2lnbjowKi9cbiAgICBvYmogPSBbb2JqXTtcbiAgfVxuXG4gIGlmIChpc0FycmF5KG9iaikpIHtcbiAgICAvLyBJdGVyYXRlIG92ZXIgYXJyYXkgdmFsdWVzXG4gICAgZm9yICh2YXIgaSA9IDAsIGwgPSBvYmoubGVuZ3RoOyBpIDwgbDsgaSsrKSB7XG4gICAgICBmbi5jYWxsKG51bGwsIG9ialtpXSwgaSwgb2JqKTtcbiAgICB9XG4gIH0gZWxzZSB7XG4gICAgLy8gSXRlcmF0ZSBvdmVyIG9iamVjdCBrZXlzXG4gICAgZm9yICh2YXIga2V5IGluIG9iaikge1xuICAgICAgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmosIGtleSkpIHtcbiAgICAgICAgZm4uY2FsbChudWxsLCBvYmpba2V5XSwga2V5LCBvYmopO1xuICAgICAgfVxuICAgIH1cbiAgfVxufVxuXG4vKipcbiAqIEFjY2VwdHMgdmFyYXJncyBleHBlY3RpbmcgZWFjaCBhcmd1bWVudCB0byBiZSBhbiBvYmplY3QsIHRoZW5cbiAqIGltbXV0YWJseSBtZXJnZXMgdGhlIHByb3BlcnRpZXMgb2YgZWFjaCBvYmplY3QgYW5kIHJldHVybnMgcmVzdWx0LlxuICpcbiAqIFdoZW4gbXVsdGlwbGUgb2JqZWN0cyBjb250YWluIHRoZSBzYW1lIGtleSB0aGUgbGF0ZXIgb2JqZWN0IGluXG4gKiB0aGUgYXJndW1lbnRzIGxpc3Qgd2lsbCB0YWtlIHByZWNlZGVuY2UuXG4gKlxuICogRXhhbXBsZTpcbiAqXG4gKiBgYGBqc1xuICogdmFyIHJlc3VsdCA9IG1lcmdlKHtmb286IDEyM30sIHtmb286IDQ1Nn0pO1xuICogY29uc29sZS5sb2cocmVzdWx0LmZvbyk7IC8vIG91dHB1dHMgNDU2XG4gKiBgYGBcbiAqXG4gKiBAcGFyYW0ge09iamVjdH0gb2JqMSBPYmplY3QgdG8gbWVyZ2VcbiAqIEByZXR1cm5zIHtPYmplY3R9IFJlc3VsdCBvZiBhbGwgbWVyZ2UgcHJvcGVydGllc1xuICovXG5mdW5jdGlvbiBtZXJnZSgvKiBvYmoxLCBvYmoyLCBvYmozLCAuLi4gKi8pIHtcbiAgdmFyIHJlc3VsdCA9IHt9O1xuICBmdW5jdGlvbiBhc3NpZ25WYWx1ZSh2YWwsIGtleSkge1xuICAgIGlmICh0eXBlb2YgcmVzdWx0W2tleV0gPT09ICdvYmplY3QnICYmIHR5cGVvZiB2YWwgPT09ICdvYmplY3QnKSB7XG4gICAgICByZXN1bHRba2V5XSA9IG1lcmdlKHJlc3VsdFtrZXldLCB2YWwpO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXN1bHRba2V5XSA9IHZhbDtcbiAgICB9XG4gIH1cblxuICBmb3IgKHZhciBpID0gMCwgbCA9IGFyZ3VtZW50cy5sZW5ndGg7IGkgPCBsOyBpKyspIHtcbiAgICBmb3JFYWNoKGFyZ3VtZW50c1tpXSwgYXNzaWduVmFsdWUpO1xuICB9XG4gIHJldHVybiByZXN1bHQ7XG59XG5cbi8qKlxuICogRXh0ZW5kcyBvYmplY3QgYSBieSBtdXRhYmx5IGFkZGluZyB0byBpdCB0aGUgcHJvcGVydGllcyBvZiBvYmplY3QgYi5cbiAqXG4gKiBAcGFyYW0ge09iamVjdH0gYSBUaGUgb2JqZWN0IHRvIGJlIGV4dGVuZGVkXG4gKiBAcGFyYW0ge09iamVjdH0gYiBUaGUgb2JqZWN0IHRvIGNvcHkgcHJvcGVydGllcyBmcm9tXG4gKiBAcGFyYW0ge09iamVjdH0gdGhpc0FyZyBUaGUgb2JqZWN0IHRvIGJpbmQgZnVuY3Rpb24gdG9cbiAqIEByZXR1cm4ge09iamVjdH0gVGhlIHJlc3VsdGluZyB2YWx1ZSBvZiBvYmplY3QgYVxuICovXG5mdW5jdGlvbiBleHRlbmQoYSwgYiwgdGhpc0FyZykge1xuICBmb3JFYWNoKGIsIGZ1bmN0aW9uIGFzc2lnblZhbHVlKHZhbCwga2V5KSB7XG4gICAgaWYgKHRoaXNBcmcgJiYgdHlwZW9mIHZhbCA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgYVtrZXldID0gYmluZCh2YWwsIHRoaXNBcmcpO1xuICAgIH0gZWxzZSB7XG4gICAgICBhW2tleV0gPSB2YWw7XG4gICAgfVxuICB9KTtcbiAgcmV0dXJuIGE7XG59XG5cbm1vZHVsZS5leHBvcnRzID0ge1xuICBpc0FycmF5OiBpc0FycmF5LFxuICBpc0FycmF5QnVmZmVyOiBpc0FycmF5QnVmZmVyLFxuICBpc0J1ZmZlcjogaXNCdWZmZXIsXG4gIGlzRm9ybURhdGE6IGlzRm9ybURhdGEsXG4gIGlzQXJyYXlCdWZmZXJWaWV3OiBpc0FycmF5QnVmZmVyVmlldyxcbiAgaXNTdHJpbmc6IGlzU3RyaW5nLFxuICBpc051bWJlcjogaXNOdW1iZXIsXG4gIGlzT2JqZWN0OiBpc09iamVjdCxcbiAgaXNVbmRlZmluZWQ6IGlzVW5kZWZpbmVkLFxuICBpc0RhdGU6IGlzRGF0ZSxcbiAgaXNGaWxlOiBpc0ZpbGUsXG4gIGlzQmxvYjogaXNCbG9iLFxuICBpc0Z1bmN0aW9uOiBpc0Z1bmN0aW9uLFxuICBpc1N0cmVhbTogaXNTdHJlYW0sXG4gIGlzVVJMU2VhcmNoUGFyYW1zOiBpc1VSTFNlYXJjaFBhcmFtcyxcbiAgaXNTdGFuZGFyZEJyb3dzZXJFbnY6IGlzU3RhbmRhcmRCcm93c2VyRW52LFxuICBmb3JFYWNoOiBmb3JFYWNoLFxuICBtZXJnZTogbWVyZ2UsXG4gIGV4dGVuZDogZXh0ZW5kLFxuICB0cmltOiB0cmltXG59O1xuIiwiLyohXG4gKiBEZXRlcm1pbmUgaWYgYW4gb2JqZWN0IGlzIGEgQnVmZmVyXG4gKlxuICogQGF1dGhvciAgIEZlcm9zcyBBYm91a2hhZGlqZWggPGh0dHBzOi8vZmVyb3NzLm9yZz5cbiAqIEBsaWNlbnNlICBNSVRcbiAqL1xuXG4vLyBUaGUgX2lzQnVmZmVyIGNoZWNrIGlzIGZvciBTYWZhcmkgNS03IHN1cHBvcnQsIGJlY2F1c2UgaXQncyBtaXNzaW5nXG4vLyBPYmplY3QucHJvdG90eXBlLmNvbnN0cnVjdG9yLiBSZW1vdmUgdGhpcyBldmVudHVhbGx5XG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChvYmopIHtcbiAgcmV0dXJuIG9iaiAhPSBudWxsICYmIChpc0J1ZmZlcihvYmopIHx8IGlzU2xvd0J1ZmZlcihvYmopIHx8ICEhb2JqLl9pc0J1ZmZlcilcbn1cblxuZnVuY3Rpb24gaXNCdWZmZXIgKG9iaikge1xuICByZXR1cm4gISFvYmouY29uc3RydWN0b3IgJiYgdHlwZW9mIG9iai5jb25zdHJ1Y3Rvci5pc0J1ZmZlciA9PT0gJ2Z1bmN0aW9uJyAmJiBvYmouY29uc3RydWN0b3IuaXNCdWZmZXIob2JqKVxufVxuXG4vLyBGb3IgTm9kZSB2MC4xMCBzdXBwb3J0LiBSZW1vdmUgdGhpcyBldmVudHVhbGx5LlxuZnVuY3Rpb24gaXNTbG93QnVmZmVyIChvYmopIHtcbiAgcmV0dXJuIHR5cGVvZiBvYmoucmVhZEZsb2F0TEUgPT09ICdmdW5jdGlvbicgJiYgdHlwZW9mIG9iai5zbGljZSA9PT0gJ2Z1bmN0aW9uJyAmJiBpc0J1ZmZlcihvYmouc2xpY2UoMCwgMCkpXG59XG4iLCIvLyBzaGltIGZvciB1c2luZyBwcm9jZXNzIGluIGJyb3dzZXJcbnZhciBwcm9jZXNzID0gbW9kdWxlLmV4cG9ydHMgPSB7fTtcblxuLy8gY2FjaGVkIGZyb20gd2hhdGV2ZXIgZ2xvYmFsIGlzIHByZXNlbnQgc28gdGhhdCB0ZXN0IHJ1bm5lcnMgdGhhdCBzdHViIGl0XG4vLyBkb24ndCBicmVhayB0aGluZ3MuICBCdXQgd2UgbmVlZCB0byB3cmFwIGl0IGluIGEgdHJ5IGNhdGNoIGluIGNhc2UgaXQgaXNcbi8vIHdyYXBwZWQgaW4gc3RyaWN0IG1vZGUgY29kZSB3aGljaCBkb2Vzbid0IGRlZmluZSBhbnkgZ2xvYmFscy4gIEl0J3MgaW5zaWRlIGFcbi8vIGZ1bmN0aW9uIGJlY2F1c2UgdHJ5L2NhdGNoZXMgZGVvcHRpbWl6ZSBpbiBjZXJ0YWluIGVuZ2luZXMuXG5cbnZhciBjYWNoZWRTZXRUaW1lb3V0O1xudmFyIGNhY2hlZENsZWFyVGltZW91dDtcblxuZnVuY3Rpb24gZGVmYXVsdFNldFRpbW91dCgpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ3NldFRpbWVvdXQgaGFzIG5vdCBiZWVuIGRlZmluZWQnKTtcbn1cbmZ1bmN0aW9uIGRlZmF1bHRDbGVhclRpbWVvdXQgKCkge1xuICAgIHRocm93IG5ldyBFcnJvcignY2xlYXJUaW1lb3V0IGhhcyBub3QgYmVlbiBkZWZpbmVkJyk7XG59XG4oZnVuY3Rpb24gKCkge1xuICAgIHRyeSB7XG4gICAgICAgIGlmICh0eXBlb2Ygc2V0VGltZW91dCA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgY2FjaGVkU2V0VGltZW91dCA9IHNldFRpbWVvdXQ7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBjYWNoZWRTZXRUaW1lb3V0ID0gZGVmYXVsdFNldFRpbW91dDtcbiAgICAgICAgfVxuICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgY2FjaGVkU2V0VGltZW91dCA9IGRlZmF1bHRTZXRUaW1vdXQ7XG4gICAgfVxuICAgIHRyeSB7XG4gICAgICAgIGlmICh0eXBlb2YgY2xlYXJUaW1lb3V0ID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgICBjYWNoZWRDbGVhclRpbWVvdXQgPSBjbGVhclRpbWVvdXQ7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBjYWNoZWRDbGVhclRpbWVvdXQgPSBkZWZhdWx0Q2xlYXJUaW1lb3V0O1xuICAgICAgICB9XG4gICAgfSBjYXRjaCAoZSkge1xuICAgICAgICBjYWNoZWRDbGVhclRpbWVvdXQgPSBkZWZhdWx0Q2xlYXJUaW1lb3V0O1xuICAgIH1cbn0gKCkpXG5mdW5jdGlvbiBydW5UaW1lb3V0KGZ1bikge1xuICAgIGlmIChjYWNoZWRTZXRUaW1lb3V0ID09PSBzZXRUaW1lb3V0KSB7XG4gICAgICAgIC8vbm9ybWFsIGVudmlyb21lbnRzIGluIHNhbmUgc2l0dWF0aW9uc1xuICAgICAgICByZXR1cm4gc2V0VGltZW91dChmdW4sIDApO1xuICAgIH1cbiAgICAvLyBpZiBzZXRUaW1lb3V0IHdhc24ndCBhdmFpbGFibGUgYnV0IHdhcyBsYXR0ZXIgZGVmaW5lZFxuICAgIGlmICgoY2FjaGVkU2V0VGltZW91dCA9PT0gZGVmYXVsdFNldFRpbW91dCB8fCAhY2FjaGVkU2V0VGltZW91dCkgJiYgc2V0VGltZW91dCkge1xuICAgICAgICBjYWNoZWRTZXRUaW1lb3V0ID0gc2V0VGltZW91dDtcbiAgICAgICAgcmV0dXJuIHNldFRpbWVvdXQoZnVuLCAwKTtcbiAgICB9XG4gICAgdHJ5IHtcbiAgICAgICAgLy8gd2hlbiB3aGVuIHNvbWVib2R5IGhhcyBzY3Jld2VkIHdpdGggc2V0VGltZW91dCBidXQgbm8gSS5FLiBtYWRkbmVzc1xuICAgICAgICByZXR1cm4gY2FjaGVkU2V0VGltZW91dChmdW4sIDApO1xuICAgIH0gY2F0Y2goZSl7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICAvLyBXaGVuIHdlIGFyZSBpbiBJLkUuIGJ1dCB0aGUgc2NyaXB0IGhhcyBiZWVuIGV2YWxlZCBzbyBJLkUuIGRvZXNuJ3QgdHJ1c3QgdGhlIGdsb2JhbCBvYmplY3Qgd2hlbiBjYWxsZWQgbm9ybWFsbHlcbiAgICAgICAgICAgIHJldHVybiBjYWNoZWRTZXRUaW1lb3V0LmNhbGwobnVsbCwgZnVuLCAwKTtcbiAgICAgICAgfSBjYXRjaChlKXtcbiAgICAgICAgICAgIC8vIHNhbWUgYXMgYWJvdmUgYnV0IHdoZW4gaXQncyBhIHZlcnNpb24gb2YgSS5FLiB0aGF0IG11c3QgaGF2ZSB0aGUgZ2xvYmFsIG9iamVjdCBmb3IgJ3RoaXMnLCBob3BmdWxseSBvdXIgY29udGV4dCBjb3JyZWN0IG90aGVyd2lzZSBpdCB3aWxsIHRocm93IGEgZ2xvYmFsIGVycm9yXG4gICAgICAgICAgICByZXR1cm4gY2FjaGVkU2V0VGltZW91dC5jYWxsKHRoaXMsIGZ1biwgMCk7XG4gICAgICAgIH1cbiAgICB9XG5cblxufVxuZnVuY3Rpb24gcnVuQ2xlYXJUaW1lb3V0KG1hcmtlcikge1xuICAgIGlmIChjYWNoZWRDbGVhclRpbWVvdXQgPT09IGNsZWFyVGltZW91dCkge1xuICAgICAgICAvL25vcm1hbCBlbnZpcm9tZW50cyBpbiBzYW5lIHNpdHVhdGlvbnNcbiAgICAgICAgcmV0dXJuIGNsZWFyVGltZW91dChtYXJrZXIpO1xuICAgIH1cbiAgICAvLyBpZiBjbGVhclRpbWVvdXQgd2Fzbid0IGF2YWlsYWJsZSBidXQgd2FzIGxhdHRlciBkZWZpbmVkXG4gICAgaWYgKChjYWNoZWRDbGVhclRpbWVvdXQgPT09IGRlZmF1bHRDbGVhclRpbWVvdXQgfHwgIWNhY2hlZENsZWFyVGltZW91dCkgJiYgY2xlYXJUaW1lb3V0KSB7XG4gICAgICAgIGNhY2hlZENsZWFyVGltZW91dCA9IGNsZWFyVGltZW91dDtcbiAgICAgICAgcmV0dXJuIGNsZWFyVGltZW91dChtYXJrZXIpO1xuICAgIH1cbiAgICB0cnkge1xuICAgICAgICAvLyB3aGVuIHdoZW4gc29tZWJvZHkgaGFzIHNjcmV3ZWQgd2l0aCBzZXRUaW1lb3V0IGJ1dCBubyBJLkUuIG1hZGRuZXNzXG4gICAgICAgIHJldHVybiBjYWNoZWRDbGVhclRpbWVvdXQobWFya2VyKTtcbiAgICB9IGNhdGNoIChlKXtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIC8vIFdoZW4gd2UgYXJlIGluIEkuRS4gYnV0IHRoZSBzY3JpcHQgaGFzIGJlZW4gZXZhbGVkIHNvIEkuRS4gZG9lc24ndCAgdHJ1c3QgdGhlIGdsb2JhbCBvYmplY3Qgd2hlbiBjYWxsZWQgbm9ybWFsbHlcbiAgICAgICAgICAgIHJldHVybiBjYWNoZWRDbGVhclRpbWVvdXQuY2FsbChudWxsLCBtYXJrZXIpO1xuICAgICAgICB9IGNhdGNoIChlKXtcbiAgICAgICAgICAgIC8vIHNhbWUgYXMgYWJvdmUgYnV0IHdoZW4gaXQncyBhIHZlcnNpb24gb2YgSS5FLiB0aGF0IG11c3QgaGF2ZSB0aGUgZ2xvYmFsIG9iamVjdCBmb3IgJ3RoaXMnLCBob3BmdWxseSBvdXIgY29udGV4dCBjb3JyZWN0IG90aGVyd2lzZSBpdCB3aWxsIHRocm93IGEgZ2xvYmFsIGVycm9yLlxuICAgICAgICAgICAgLy8gU29tZSB2ZXJzaW9ucyBvZiBJLkUuIGhhdmUgZGlmZmVyZW50IHJ1bGVzIGZvciBjbGVhclRpbWVvdXQgdnMgc2V0VGltZW91dFxuICAgICAgICAgICAgcmV0dXJuIGNhY2hlZENsZWFyVGltZW91dC5jYWxsKHRoaXMsIG1hcmtlcik7XG4gICAgICAgIH1cbiAgICB9XG5cblxuXG59XG52YXIgcXVldWUgPSBbXTtcbnZhciBkcmFpbmluZyA9IGZhbHNlO1xudmFyIGN1cnJlbnRRdWV1ZTtcbnZhciBxdWV1ZUluZGV4ID0gLTE7XG5cbmZ1bmN0aW9uIGNsZWFuVXBOZXh0VGljaygpIHtcbiAgICBpZiAoIWRyYWluaW5nIHx8ICFjdXJyZW50UXVldWUpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBkcmFpbmluZyA9IGZhbHNlO1xuICAgIGlmIChjdXJyZW50UXVldWUubGVuZ3RoKSB7XG4gICAgICAgIHF1ZXVlID0gY3VycmVudFF1ZXVlLmNvbmNhdChxdWV1ZSk7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgcXVldWVJbmRleCA9IC0xO1xuICAgIH1cbiAgICBpZiAocXVldWUubGVuZ3RoKSB7XG4gICAgICAgIGRyYWluUXVldWUoKTtcbiAgICB9XG59XG5cbmZ1bmN0aW9uIGRyYWluUXVldWUoKSB7XG4gICAgaWYgKGRyYWluaW5nKSB7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG4gICAgdmFyIHRpbWVvdXQgPSBydW5UaW1lb3V0KGNsZWFuVXBOZXh0VGljayk7XG4gICAgZHJhaW5pbmcgPSB0cnVlO1xuXG4gICAgdmFyIGxlbiA9IHF1ZXVlLmxlbmd0aDtcbiAgICB3aGlsZShsZW4pIHtcbiAgICAgICAgY3VycmVudFF1ZXVlID0gcXVldWU7XG4gICAgICAgIHF1ZXVlID0gW107XG4gICAgICAgIHdoaWxlICgrK3F1ZXVlSW5kZXggPCBsZW4pIHtcbiAgICAgICAgICAgIGlmIChjdXJyZW50UXVldWUpIHtcbiAgICAgICAgICAgICAgICBjdXJyZW50UXVldWVbcXVldWVJbmRleF0ucnVuKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcXVldWVJbmRleCA9IC0xO1xuICAgICAgICBsZW4gPSBxdWV1ZS5sZW5ndGg7XG4gICAgfVxuICAgIGN1cnJlbnRRdWV1ZSA9IG51bGw7XG4gICAgZHJhaW5pbmcgPSBmYWxzZTtcbiAgICBydW5DbGVhclRpbWVvdXQodGltZW91dCk7XG59XG5cbnByb2Nlc3MubmV4dFRpY2sgPSBmdW5jdGlvbiAoZnVuKSB7XG4gICAgdmFyIGFyZ3MgPSBuZXcgQXJyYXkoYXJndW1lbnRzLmxlbmd0aCAtIDEpO1xuICAgIGlmIChhcmd1bWVudHMubGVuZ3RoID4gMSkge1xuICAgICAgICBmb3IgKHZhciBpID0gMTsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgYXJnc1tpIC0gMV0gPSBhcmd1bWVudHNbaV07XG4gICAgICAgIH1cbiAgICB9XG4gICAgcXVldWUucHVzaChuZXcgSXRlbShmdW4sIGFyZ3MpKTtcbiAgICBpZiAocXVldWUubGVuZ3RoID09PSAxICYmICFkcmFpbmluZykge1xuICAgICAgICBydW5UaW1lb3V0KGRyYWluUXVldWUpO1xuICAgIH1cbn07XG5cbi8vIHY4IGxpa2VzIHByZWRpY3RpYmxlIG9iamVjdHNcbmZ1bmN0aW9uIEl0ZW0oZnVuLCBhcnJheSkge1xuICAgIHRoaXMuZnVuID0gZnVuO1xuICAgIHRoaXMuYXJyYXkgPSBhcnJheTtcbn1cbkl0ZW0ucHJvdG90eXBlLnJ1biA9IGZ1bmN0aW9uICgpIHtcbiAgICB0aGlzLmZ1bi5hcHBseShudWxsLCB0aGlzLmFycmF5KTtcbn07XG5wcm9jZXNzLnRpdGxlID0gJ2Jyb3dzZXInO1xucHJvY2Vzcy5icm93c2VyID0gdHJ1ZTtcbnByb2Nlc3MuZW52ID0ge307XG5wcm9jZXNzLmFyZ3YgPSBbXTtcbnByb2Nlc3MudmVyc2lvbiA9ICcnOyAvLyBlbXB0eSBzdHJpbmcgdG8gYXZvaWQgcmVnZXhwIGlzc3Vlc1xucHJvY2Vzcy52ZXJzaW9ucyA9IHt9O1xuXG5mdW5jdGlvbiBub29wKCkge31cblxucHJvY2Vzcy5vbiA9IG5vb3A7XG5wcm9jZXNzLmFkZExpc3RlbmVyID0gbm9vcDtcbnByb2Nlc3Mub25jZSA9IG5vb3A7XG5wcm9jZXNzLm9mZiA9IG5vb3A7XG5wcm9jZXNzLnJlbW92ZUxpc3RlbmVyID0gbm9vcDtcbnByb2Nlc3MucmVtb3ZlQWxsTGlzdGVuZXJzID0gbm9vcDtcbnByb2Nlc3MuZW1pdCA9IG5vb3A7XG5wcm9jZXNzLnByZXBlbmRMaXN0ZW5lciA9IG5vb3A7XG5wcm9jZXNzLnByZXBlbmRPbmNlTGlzdGVuZXIgPSBub29wO1xuXG5wcm9jZXNzLmxpc3RlbmVycyA9IGZ1bmN0aW9uIChuYW1lKSB7IHJldHVybiBbXSB9XG5cbnByb2Nlc3MuYmluZGluZyA9IGZ1bmN0aW9uIChuYW1lKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdwcm9jZXNzLmJpbmRpbmcgaXMgbm90IHN1cHBvcnRlZCcpO1xufTtcblxucHJvY2Vzcy5jd2QgPSBmdW5jdGlvbiAoKSB7IHJldHVybiAnLycgfTtcbnByb2Nlc3MuY2hkaXIgPSBmdW5jdGlvbiAoZGlyKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdwcm9jZXNzLmNoZGlyIGlzIG5vdCBzdXBwb3J0ZWQnKTtcbn07XG5wcm9jZXNzLnVtYXNrID0gZnVuY3Rpb24oKSB7IHJldHVybiAwOyB9O1xuIl0sInNvdXJjZVJvb3QiOiIifQ==